"use strict";import H from"../../Core/Globals.js";const noop=H["noop"];import SeriesRegistry from"../../Core/Series/SeriesRegistry.js";const{heatmap:HeatmapSeries,scatter:ScatterSeries}=SeriesRegistry["seriesTypes"];import U from"../../Core/Utilities.js";const{clamp,pick}=U;function tilePaddingFromTileSize(e,t,a){e=e.options;return{xPad:(e.colsize||1)/-t,yPad:(e.rowsize||1)/-a}}const TilemapShapes={hexagon:{alignDataLabel:ScatterSeries.prototype.alignDataLabel,getSeriesPadding:function(e){return tilePaddingFromTileSize(e,3,2)},haloPath:function(e){if(!e)return[];var t=this.tileEdges;return[["M",t.x2-e,t.y1+e],["L",t.x3+e,t.y1+e],["L",t.x4+1.5*e,t.y2],["L",t.x3+e,t.y3-e],["L",t.x2-e,t.y3-e],["L",t.x1-1.5*e,t.y2],["Z"]]},translate:function(){let e=this,t=e.options,y=e.xAxis,x=e.yAxis,g=t.pointPadding||0,m=(t.colsize||1)/3,u=(t.rowsize||1)/2,M;e.generatePoints(),e.points.forEach(function(e){let t=clamp(Math.floor(y.len-y.translate(e.x-2*m,0,1,0,1)),-y.len,2*y.len),a=clamp(Math.floor(y.len-y.translate(e.x-m,0,1,0,1)),-y.len,2*y.len),n=clamp(Math.floor(y.len-y.translate(e.x+m,0,1,0,1)),-y.len,2*y.len),l=clamp(Math.floor(y.len-y.translate(e.x+2*m,0,1,0,1)),-y.len,2*y.len),r=clamp(Math.floor(x.translate(e.y-u,0,1,0,1)),-x.len,2*x.len),o=clamp(Math.floor(x.translate(e.y,0,1,0,1)),-x.len,2*x.len),i=clamp(Math.floor(x.translate(e.y+u,0,1,0,1)),-x.len,2*x.len),s=pick(e.pointPadding,g),p=s*Math.abs(a-t)/Math.abs(i-o),h=y.reversed?-p:p,d=y.reversed?-s:s,c=x.reversed?-s:s;e.x%2&&(M=M||Math.round(Math.abs(i-r)/2)*(x.reversed?-1:1),r+=M,o+=M,i+=M),e.plotX=e.clientX=(a+n)/2,e.plotY=o,t+=h+d,a+=d,n-=d,l-=h+d,r-=c,i+=c,e.tileEdges={x1:t,x2:a,x3:n,x4:l,y1:r,y2:o,y3:i},e.shapeType="path",e.shapeArgs={d:[["M",a,r],["L",n,r],["L",l,o],["L",n,i],["L",a,i],["L",t,o],["Z"]]}}),e.translateColors()}},diamond:{alignDataLabel:ScatterSeries.prototype.alignDataLabel,getSeriesPadding:function(e){return tilePaddingFromTileSize(e,2,2)},haloPath:function(e){if(!e)return[];var t=this.tileEdges;return[["M",t.x2,t.y1+e],["L",t.x3+e,t.y2],["L",t.x2,t.y3-e],["L",t.x1-e,t.y2],["Z"]]},translate:function(){let e=this,t=e.options,d=e.xAxis,c=e.yAxis,y=t.pointPadding||0,x=t.colsize||1,g=(t.rowsize||1)/2,m;e.generatePoints(),e.points.forEach(function(e){let t=clamp(Math.round(d.len-d.translate(e.x-x,0,1,0,0)),-d.len,2*d.len),a=clamp(Math.round(d.len-d.translate(e.x,0,1,0,0)),-d.len,2*d.len),n=clamp(Math.round(d.len-d.translate(e.x+x,0,1,0,0)),-d.len,2*d.len),l=clamp(Math.round(c.translate(e.y-g,0,1,0,0)),-c.len,2*c.len),r=clamp(Math.round(c.translate(e.y,0,1,0,0)),-c.len,2*c.len),o=clamp(Math.round(c.translate(e.y+g,0,1,0,0)),-c.len,2*c.len),i=pick(e.pointPadding,y),s=i*Math.abs(a-t)/Math.abs(o-r),p=d.reversed?-s:s,h=c.reversed?-i:i;e.x%2&&(m=Math.abs(o-l)/2*(c.reversed?-1:1),l+=m,r+=m,o+=m),e.plotX=e.clientX=a,e.plotY=r,t+=p,n-=p,l-=h,o+=h,e.tileEdges={x1:t,x2:a,x3:n,y1:l,y2:r,y3:o},e.shapeType="path",e.shapeArgs={d:[["M",a,l],["L",n,r],["L",a,o],["L",t,r],["Z"]]}}),e.translateColors()}},circle:{alignDataLabel:ScatterSeries.prototype.alignDataLabel,getSeriesPadding:function(e){return tilePaddingFromTileSize(e,2,2)},haloPath:function(e){return ScatterSeries.prototype.pointClass.prototype.haloPath.call(this,e+(e&&this.radius))},translate:function(){let e=this,t=e.options,r=e.xAxis,o=e.yAxis,i=t.pointPadding||0,s=(t.rowsize||1)/2,p=t.colsize||1,h,d,c,y,x=!1;e.generatePoints(),e.points.forEach(function(e){let t=clamp(Math.round(r.len-r.translate(e.x,0,1,0,0)),-r.len,2*r.len),a=clamp(Math.round(o.translate(e.y,0,1,0,0)),-o.len,2*o.len),n=i,l=!1;void 0!==e.pointPadding&&(n=e.pointPadding,l=!0,x=!0),y&&!x||(h=Math.abs(clamp(Math.floor(r.len-r.translate(e.x+p,0,1,0,0)),-r.len,2*r.len)-t),d=Math.abs(clamp(Math.floor(o.translate(e.y+s,0,1,0,0)),-o.len,2*o.len)-a),c=Math.floor(Math.sqrt(h*h+d*d)/2),y=Math.min(h,c,d)-n,x&&!l&&(x=!1)),e.x%2&&(a+=d*(o.reversed?-1:1)),e.plotX=e.clientX=t,e.plotY=a,e.radius=y,e.shapeType="circle",e.shapeArgs={x:t,y:a,r:y}}),e.translateColors()}},square:{alignDataLabel:HeatmapSeries.prototype.alignDataLabel,translate:HeatmapSeries.prototype.translate,getSeriesPadding:noop,haloPath:HeatmapSeries.prototype.pointClass.prototype.haloPath}};export default TilemapShapes;