"use strict";import SeriesRegistry from"../../Core/Series/SeriesRegistry.js";const{sankey:{prototype:{pointClass:SankeyPointClass}}}=SeriesRegistry["seriesTypes"];import U from"../../Core/Utilities.js";const{defined,find,pick}=U;function getOffset(o){let t=o.linksFrom.length;return o.linksFrom.forEach(o=>{o.id===o.toNode.linksTo[0].id?t+=getOffset(o.toNode):t--}),t}class OrganizationPoint extends SankeyPointClass{constructor(){super(...arguments),this.fromNode=void 0,this.linksFrom=void 0,this.linksTo=void 0,this.options=void 0,this.series=void 0,this.toNode=void 0}init(){return SankeyPointClass.prototype.init.apply(this,arguments),this.isNode||(this.dataLabelOnNull=!0,this.formatPrefix="link"),this}getSum(){return 1}setNodeColumn(){super.setNodeColumn();const e=this,t=e.getFromNode().fromNode;if(!defined(e.options.column)&&0!==e.linksTo.length&&t&&"hanging"===t.options.layout){e.options.layout=pick(e.options.layout,"hanging"),e.hangsFrom=t;let i=-1;find(t.linksFrom,function(o,t){o=o.toNode===e;return o&&(i=t),o});for(let o=0;o<t.linksFrom.length;o++){var s=t.linksFrom[o];s.toNode.id===e.id?o=t.linksFrom.length:i+=getOffset(s.toNode)}e.column=(e.column||0)+i}}}export default OrganizationPoint;