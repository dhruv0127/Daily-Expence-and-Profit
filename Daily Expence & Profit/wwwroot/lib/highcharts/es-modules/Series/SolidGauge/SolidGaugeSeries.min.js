"use strict";import BorderRadius from"../../Extensions/BorderRadius.js";import SeriesRegistry from"../../Core/Series/SeriesRegistry.js";const{gauge:GaugeSeries,pie:{prototype:pieProto}}=SeriesRegistry["seriesTypes"];import SolidGaugeAxis from"../../Core/Axis/SolidGaugeAxis.js";import SolidGaugeSeriesDefaults from"./SolidGaugeSeriesDefaults.js";import U from"../../Core/Utilities.js";const{clamp,extend,isNumber,merge,pick,pInt}=U;class SolidGaugeSeries extends GaugeSeries{constructor(){super(...arguments),this.data=void 0,this.points=void 0,this.options=void 0,this.axis=void 0,this.yAxis=void 0,this.startAngleRad=void 0,this.thresholdAngleRad=void 0}translate(){const e=this.yAxis;SolidGaugeAxis.init(e),!e.dataClasses&&e.options.dataClasses&&e.initDataClasses(e.options),e.initStops(e.options),GaugeSeries.prototype.translate.call(this)}drawPoints(){const d=this,n=d.yAxis,l=n.center,p=d.options,u=d.chart.renderer,e=p.overshoot,g=p.rounded&&void 0===p.borderRadius,h=isNumber(e)?e/180*Math.PI:0;let s;isNumber(p.threshold)&&(s=n.startAngleRad+n.translate(p.threshold,void 0,void 0,void 0,!0)),this.thresholdAngleRad=pick(s,n.startAngleRad);for(const A of d.points)if(!A.isNull){var c=pInt(pick(A.options.radius,p.radius,100))*l[2]/200,R=pInt(pick(A.options.innerRadius,p.innerRadius,60))*l[2]/200,S=Math.min(n.startAngleRad,n.endAngleRad),m=Math.max(n.startAngleRad,n.endAngleRad);let e=A.graphic,s=n.startAngleRad+n.translate(A.y,void 0,void 0,void 0,!0),t,i,r=n.toColor(A.y,A);"none"!==(r="none"===r?A.color||d.color||"none":r)&&(A.color=r),s=clamp(s,S-h,m+h),!1===p.wrap&&(s=clamp(s,S,m));S=g?(c-R)/2/c:0,m=Math.min(s,d.thresholdAngleRad)-S;let o=Math.max(s,d.thresholdAngleRad)+S,a=(o-m>2*Math.PI&&(o=m+2*Math.PI),g?"50%":0);p.borderRadius&&(a=BorderRadius.optionsToObject(p.borderRadius).radius),A.shapeArgs=t={x:l[0],y:l[1],r:c,innerR:R,start:m,end:o,borderRadius:a},A.startR=c,e?(i=t.d,e.animate(extend({fill:r},t)),i&&(t.d=i)):A.graphic=e=u.arc(t).attr({fill:r,"sweep-flag":0}).add(d.group),d.chart.styledMode||("square"!==p.linecap&&e.attr({"stroke-linecap":"round","stroke-linejoin":"round"}),e.attr({stroke:p.borderColor||"none","stroke-width":p.borderWidth||0})),e&&e.addClass(A.getClassName(),!0)}}animate(e){e||(this.startAngleRad=this.thresholdAngleRad,pieProto.animate.call(this,e))}}SolidGaugeSeries.defaultOptions=merge(GaugeSeries.defaultOptions,SolidGaugeSeriesDefaults),SeriesRegistry.registerSeriesType("solidgauge",SolidGaugeSeries);export default SolidGaugeSeries;