"use strict";import Highcharts from"../Core/Globals.js";const isSafari=Highcharts["isSafari"],win=Highcharts.win,doc=win.document,domurl=win.URL||win.webkitURL||win,dataURLtoBlob=Highcharts.dataURLtoBlob=function(o){o=o.replace(/filename=.*;/,"").match(/data:([^;]*)(;base64)?,([0-9A-Za-z+/]+)/);if(o&&3<o.length&&win.atob&&win.ArrayBuffer&&win.Uint8Array&&win.Blob&&domurl.createObjectURL){const t=win.atob(o[3]),a=new win.ArrayBuffer(t.length),n=new win.Uint8Array(a);for(let o=0;o<n.length;++o)n[o]=t.charCodeAt(o);o=new win.Blob([n],{type:o[1]});return domurl.createObjectURL(o)}},downloadURL=Highcharts.downloadURL=function(t,o){const a=win.navigator,n=doc.createElement("a");if("string"==typeof t||t instanceof String||!a.msSaveOrOpenBlob){t=""+t;var e=/Edge\/\d+/.test(a.userAgent),i=isSafari&&"string"==typeof t&&0===t.indexOf("data:application/pdf");if((i||e||2e6<t.length)&&!(t=dataURLtoBlob(t)||""))throw new Error("Failed to convert to blob");if(void 0!==n.download)n.href=t,n.download=o,doc.body.appendChild(n),n.click(),doc.body.removeChild(n);else try{var r=win.open(t,"chart");if(null==r)throw new Error("Failed to open window")}catch(o){win.location.href=t}}else a.msSaveOrOpenBlob(t,o)},DownloadURL={dataURLtoBlob:dataURLtoBlob,downloadURL:downloadURL};export default DownloadURL;