"use strict";import Series from"../Core/Series/Series.js";import U from"../Core/Utilities.js";const{addEvent,isArray,merge}=U;addEvent(Series,"afterRender",function(){var b=this,P=b.options,d=P.lastVisiblePrice,y=P.lastPrice;if((d||y)&&"highcharts-navigator-series"!==P.id){let s=b.xAxis,r=b.yAxis,e=r.crosshair,i=r.cross,a=r.crossLabel,o=b.points,l=b.yData.length,t=o.length,c=b.xData[b.xData.length-1],n=b.yData[l-1],h;y&&y.enabled&&(r.crosshair=r.options.crosshair=P.lastPrice,!b.chart.styledMode&&r.crosshair&&r.options.crosshair&&P.lastPrice&&(r.crosshair.color=r.options.crosshair.color=P.lastPrice.color||b.color),r.cross=b.lastPrice,h=isArray(n)?n[3]:n,b.lastPriceLabel&&b.lastPriceLabel.destroy(),delete r.crossLabel,r.drawCrosshair(null,{x:c,y:h,plotX:s.toPixels(c,!0),plotY:r.toPixels(h,!0)}),b.yAxis.cross&&(b.lastPrice=b.yAxis.cross,b.lastPrice.addClass("highcharts-color-"+b.colorIndex),b.lastPrice.y=h),b.lastPriceLabel=r.crossLabel),d&&d.enabled&&0<t&&(r.crosshair=r.options.crosshair=merge({color:"transparent"},P.lastVisiblePrice),r.cross=b.lastVisiblePrice,y=o[t-1].isInside?o[t-1]:o[t-2],b.lastVisiblePriceLabel&&b.lastVisiblePriceLabel.destroy(),delete r.crossLabel,r.drawCrosshair(null,y),r.cross&&(b.lastVisiblePrice=r.cross,y&&"number"==typeof y.y&&(b.lastVisiblePrice.y=y.y)),b.lastVisiblePriceLabel=r.crossLabel),r.crosshair=r.options.crosshair=e,r.cross=i,r.crossLabel=a}});