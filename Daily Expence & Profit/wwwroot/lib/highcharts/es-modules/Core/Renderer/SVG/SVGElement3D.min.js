"use strict";import Color from"../../Color/Color.js";const color=Color["parse"];import SVGElement from"./SVGElement.js";import U from"../../Utilities.js";const{defined,merge,objectEach,pick}=U,SVGElement3D={base:{initArgs:function(t){const r=this,s=r.renderer,i=s[r.pathType+"Path"](t),o=i.zIndexes;r.parts.forEach(function(t){const e={class:"highcharts-3d-"+t,zIndex:o[t]||0};s.styledMode&&("top"===t?e.filter="url(#highcharts-brighter)":"side"===t&&(e.filter="url(#highcharts-darker)")),r[t]=s.path(i[t]).attr(e).add(r)}),r.attr({"stroke-linejoin":"round",zIndex:o.group}),r.originalDestroy=r.destroy,r.destroy=r.destroyParts,r.forcedSides=i.forcedSides},singleSetterForParts:function(r,t,s,e,i,o){const n={},d=[null,null,e||"attr",i,o],l=s&&s.zIndexes;return s?(l&&l.group&&this.attr({zIndex:l.group}),objectEach(s,function(t,e){n[e]={},n[e][r]=t,l&&(n[e].zIndex=s.zIndexes[e]||0)}),d[1]=n):(n[r]=t,d[0]=n),this.processParts.apply(this,d)},processParts:function(e,r,s,i,o){const n=this;return n.parts.forEach(function(t){!1!==(e=r?pick(r[t],!1):e)&&n[t][s](e,i,o)}),n},destroyParts:function(){return this.processParts(null,null,"destroy"),this.originalDestroy()}}};SVGElement3D.cuboid=merge(SVGElement3D.base,{parts:["front","top","side"],pathType:"cuboid",attr:function(t,e,r,s){var i;return"string"==typeof t&&void 0!==e&&(i=t,(t={})[i]=e),t.shapeArgs||defined(t.x)?this.singleSetterForParts("d",null,this.renderer[this.pathType+"Path"](t.shapeArgs||t)):SVGElement.prototype.attr.call(this,t,void 0,r,s)},animate:function(t,e,r){var s,i;return defined(t.x)&&defined(t.y)?(i=(s=this.renderer[this.pathType+"Path"](t)).forcedSides,this.singleSetterForParts("d",null,s,"animate",e,r),this.attr({zIndex:s.zIndexes.group}),i!==this.forcedSides&&(this.forcedSides=i,this.renderer.styledMode||SVGElement3D.cuboid.fillSetter.call(this,this.fill))):SVGElement.prototype.animate.call(this,t,e,r),this},fillSetter:function(t){var e=this;return e.forcedSides=e.forcedSides||[],e.singleSetterForParts("fill",null,{front:t,top:color(t).brighten(0<=e.forcedSides.indexOf("top")?0:.1).get(),side:color(t).brighten(0<=e.forcedSides.indexOf("side")?0:-.1).get()}),e.color=e.fill=t,e}});export default SVGElement3D;