!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/highcharts-3d",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function e(t,e,i,s){t.hasOwnProperty(e)||(t[e]=s.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t,"Core/Math3D.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,e){var l=t.deg2rad,p=e.pick;function s(t,e,i,s){var o=e.options.chart.options3d,r=p(s,!!i&&e.inverted),a={x:e.plotWidth/2,y:e.plotHeight/2,z:o.depth/2,vd:p(o.depth,1)*p(o.viewDistance,0)},n=e.scale3d||1,s=l*o.beta*(r?-1:1),o=l*o.alpha*(r?-1:1),h={cosA:Math.cos(o),cosB:Math.cos(-s),sinA:Math.sin(o),sinB:Math.sin(-s)};return i||(a.x+=e.plotLeft,a.y+=e.plotTop),t.map(function(t){e=(r?t.y:t.x)-a.x,i=(r?t.x:t.y)-a.y,t=(t.z||0)-a.z;var e={x:h.cosB*e-h.sinB*t,y:-h.sinA*h.sinB*e+h.cosA*i-h.cosB*h.sinA*t,z:h.cosA*h.sinB*e+h.sinA*i+h.cosA*h.cosB*t},i=c(e,a,a.vd);return i.x=i.x*n+a.x,i.y=i.y*n+a.y,i.z=e.z*n+a.z,{x:r?i.y:i.x,y:r?i.x:i.y,z:i.z}})}function c(t,e,i){e=0<i&&i<Number.POSITIVE_INFINITY?i/(t.z+e.z+i):1;return{x:t.x*e,y:t.y*e}}function o(t){for(var e,i=0,s=0;s<t.length;s++)e=(s+1)%t.length,i+=t[s].x*t[e].y-t[e].x*t[s].y;return i/2}return{perspective:s,perspective3D:c,pointCameraDistance:function(t,e){var i=e.options.chart.options3d,s=e.plotWidth/2,e=e.plotHeight/2,i=p(i.depth,1)*p(i.viewDistance,0)+i.depth;return Math.sqrt(Math.pow(s-p(t.plotX,t.x),2)+Math.pow(e-p(t.plotY,t.y),2)+Math.pow(i-p(t.plotZ,t.z),2))},shapeArea:o,shapeArea3D:function(t,e,i){return o(s(t,e,i))}}}),e(t,"Core/Renderer/SVG/SVGElement3D.js",[t["Core/Color/Color.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(t,r,e){var i=t.parse,a=e.defined,t=e.merge,h=e.objectEach,n=e.pick,l={base:{initArgs:function(t){var i=this,s=i.renderer,o=s[i.pathType+"Path"](t),r=o.zIndexes;i.parts.forEach(function(t){var e={class:"highcharts-3d-"+t,zIndex:r[t]||0};s.styledMode&&("top"===t?e.filter="url(#highcharts-brighter)":"side"===t&&(e.filter="url(#highcharts-darker)")),i[t]=s.path(o[t]).attr(e).add(i)}),i.attr({"stroke-linejoin":"round",zIndex:r.group}),i.originalDestroy=i.destroy,i.destroy=i.destroyParts,i.forcedSides=o.forcedSides},singleSetterForParts:function(i,t,s,e,o,r){var a={},e=[null,null,e||"attr",o,r],n=s&&s.zIndexes;return s?(n&&n.group&&this.attr({zIndex:n.group}),h(s,function(t,e){a[e]={},a[e][i]=t,n&&(a[e].zIndex=s.zIndexes[e]||0)}),e[1]=a):(a[i]=t,e[0]=a),this.processParts.apply(this,e)},processParts:function(e,i,s,o,r){var a=this;return a.parts.forEach(function(t){!1!==(e=i?n(i[t],!1):e)&&a[t][s](e,o,r)}),a},destroyParts:function(){return this.processParts(null,null,"destroy"),this.originalDestroy()}}};return l.cuboid=t(l.base,{parts:["front","top","side"],pathType:"cuboid",attr:function(t,e,i,s){var o;return"string"==typeof t&&void 0!==e&&(o=t,(t={})[o]=e),t.shapeArgs||a(t.x)?this.singleSetterForParts("d",null,this.renderer[this.pathType+"Path"](t.shapeArgs||t)):r.prototype.attr.call(this,t,void 0,i,s)},animate:function(t,e,i){var s,o;return a(t.x)&&a(t.y)?(o=(s=this.renderer[this.pathType+"Path"](t)).forcedSides,this.singleSetterForParts("d",null,s,"animate",e,i),this.attr({zIndex:s.zIndexes.group}),o!==this.forcedSides&&(this.forcedSides=o,this.renderer.styledMode||l.cuboid.fillSetter.call(this,this.fill))):r.prototype.animate.call(this,t,e,i),this},fillSetter:function(t){var e=this;return e.forcedSides=e.forcedSides||[],e.singleSetterForParts("fill",null,{front:t,top:i(t).brighten(0<=e.forcedSides.indexOf("top")?0:.1).get(),side:i(t).brighten(0<=e.forcedSides.indexOf("side")?0:-.1).get()}),e.color=e.fill=t,e}}),l}),e(t,"Core/Renderer/SVG/SVGRenderer3D.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Math3D.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Renderer/SVG/SVGElement3D.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],function(t,e,p,i,c,s,o,r){var a,n,h=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),d=t.animObject,x=e.parse,b=p.charts,y=p.deg2rad,g=i.perspective,v=i.shapeArea,l=r.defined,f=r.extend,u=r.merge,z=r.pick,m=Math.cos,P=Math.sin,M=Math.PI,S=4*(Math.sqrt(2)-1)/3/(M/2);function A(){return null!==n&&n.apply(this,arguments)||this}return h(A,n=o),A.compose=function(t){var t=t.prototype,e=A.prototype;t.elements3d=s,t.arc3d=e.arc3d,t.arc3dPath=e.arc3dPath,t.cuboid=e.cuboid,t.cuboidPath=e.cuboidPath,t.element3d=e.element3d,t.face3d=e.face3d,t.polyhedron=e.polyhedron,t.toLinePath=e.toLinePath,t.toLineSegments=e.toLineSegments},A.curveTo=function(t,e,i,s,o,r,a,n){var h=[],l=r-o;return o<r&&r-o>Math.PI/2+1e-4?(h=h.concat(this.curveTo(t,e,i,s,o,o+Math.PI/2,a,n))).concat(this.curveTo(t,e,i,s,o+Math.PI/2,r,a,n)):r<o&&o-r>Math.PI/2+1e-4?(h=h.concat(this.curveTo(t,e,i,s,o,o-Math.PI/2,a,n))).concat(this.curveTo(t,e,i,s,o-Math.PI/2,r,a,n)):[["C",t+i*Math.cos(o)-i*S*l*Math.sin(o)+a,e+s*Math.sin(o)+s*S*l*Math.cos(o)+n,t+i*Math.cos(r)+i*S*l*Math.sin(r)+a,e+s*Math.sin(r)-s*S*l*Math.cos(r)+n,t+i*Math.cos(r)+a,e+s*Math.sin(r)+n]]},A.prototype.toLinePath=function(t,e){var i=[];return t.forEach(function(t){i.push(["L",t.x,t.y])}),t.length&&(i[0][0]="M",e&&i.push(["Z"])),i},A.prototype.toLineSegments=function(t){var e=[],i=!0;return t.forEach(function(t){e.push(i?["M",t.x,t.y]:["L",t.x,t.y]),i=!i}),e},A.prototype.face3d=function(t){var s=this,e=this.createElement("path");return e.vertexes=[],e.insidePlotArea=!1,e.enabled=!0,e.attr=function(t){var e,i;return"object"==typeof t&&(l(t.enabled)||l(t.vertexes)||l(t.insidePlotArea))&&(this.enabled=z(t.enabled,this.enabled),this.vertexes=z(t.vertexes,this.vertexes),this.insidePlotArea=z(t.insidePlotArea,this.insidePlotArea),delete t.enabled,delete t.vertexes,delete t.insidePlotArea,i=b[s.chartIndex],i=g(this.vertexes,i,this.insidePlotArea),e=s.toLinePath(i,!0),i=v(i),t.d=e,t.visibility=this.enabled&&0<i?"inherit":"hidden"),c.prototype.attr.apply(this,arguments)},e.animate=function(t){var e,i;return"object"==typeof t&&(l(t.enabled)||l(t.vertexes)||l(t.insidePlotArea))&&(this.enabled=z(t.enabled,this.enabled),this.vertexes=z(t.vertexes,this.vertexes),this.insidePlotArea=z(t.insidePlotArea,this.insidePlotArea),delete t.enabled,delete t.vertexes,delete t.insidePlotArea,i=b[s.chartIndex],i=g(this.vertexes,i,this.insidePlotArea),e=s.toLinePath(i,!0),i=v(i),i=this.enabled&&0<i?"visible":"hidden",t.d=e,this.attr("visibility",i)),c.prototype.animate.apply(this,arguments)},e.attr(t)},A.prototype.polyhedron=function(t){var r=this,a=this.g(),e=a.destroy;return this.styledMode||a.attr({"stroke-linejoin":"round"}),a.faces=[],a.destroy=function(){for(var t=0;t<a.faces.length;t++)a.faces[t].destroy();return e.call(this)},a.attr=function(t,e,i,s){if("object"==typeof t&&l(t.faces)){for(;a.faces.length>t.faces.length;)a.faces.pop().destroy();for(;a.faces.length<t.faces.length;)a.faces.push(r.face3d().add(a));for(var o=0;o<t.faces.length;o++)r.styledMode&&delete t.faces[o].fill,a.faces[o].attr(t.faces[o],null,i,s);delete t.faces}return c.prototype.attr.apply(this,arguments)},a.animate=function(t,e,i){if(t&&t.faces){for(;a.faces.length>t.faces.length;)a.faces.pop().destroy();for(;a.faces.length<t.faces.length;)a.faces.push(r.face3d().add(a));for(var s=0;s<t.faces.length;s++)a.faces[s].animate(t.faces[s],e,i);delete t.faces}return c.prototype.animate.apply(this,arguments)},a.attr(t)},A.prototype.element3d=function(t,e){var i=this.g();return f(i,this.elements3d[t]),i.initArgs(e),i},A.prototype.cuboid=function(t){return this.element3d("cuboid",t)},A.prototype.cuboidPath=function(t){var e,i,s,o,r=t.x||0,a=t.y||0,n=t.z||0,h=t.height||0,l=t.width||0,p=t.depth||0,c=b[this.chartIndex],d=c.options.chart.options3d.alpha,x=0,y=[{x:r,y:a,z:n},{x:r+l,y:a,z:n},{x:r+l,y:a+h,z:n},{x:r,y:a+h,z:n},{x:r,y:a+h,z:n+p},{x:r+l,y:a+h,z:n+p},{x:r+l,y:a,z:n+p},{x:r,y:a,z:n+p}],f=[];function u(t){return 0===h&&1<t&&t<6?{x:y[t].x,y:y[t].y+10,z:y[t].z}:y[0].x===y[7].x&&4<=t?{x:y[t].x+10,y:y[t].y,z:y[t].z}:0===p&&t<2||5<t?{x:y[t].x,y:y[t].y,z:y[t].z+10}:y[t]}function z(t){return y[t]}return y=g(y,c,t.insidePlotArea),e=(t=(l=function(t,e,i){var s=[[],-1],o=t.map(z),r=e.map(z),t=t.map(u),e=e.map(u);return v(o)<0?s=[o,0]:v(r)<0?s=[r,1]:i&&(f.push(i),s=!(v(t)<0)&&v(e)<0?[r,1]:[o,0]),s})([3,2,1,0],[7,6,5,4],"front"))[0],s=t[1],i=(t=l([1,6,7,0],[4,5,2,3],"top"))[0],o=t[1],l=(t=l([1,2,5,6],[0,7,4,3],"side"))[0],1===(t=t[1])?x+=1e6*(c.plotWidth-r):t||(x+=1e6*r),x+=10*(!o||0<=d&&d<=180||d<360&&357.5<d?c.plotHeight-a:10+a),1===s?x+=100*n:s||(x+=100*(1e3-n)),{front:this.toLinePath(e,!0),top:this.toLinePath(i,!0),side:this.toLinePath(l,!0),zIndexes:{group:Math.round(x)},forcedSides:f,isFront:s,isTop:o}},A.prototype.arc3d=function(t){var h=this.g(),e=h.renderer,o=["x","y","r","innerR","start","end","depth"];function l(t){var e,i=!1,s={};for(e in t=u(t))-1!==o.indexOf(e)&&(s[e]=t[e],delete t[e],i=!0);return!!i&&[s,t]}return(t=u(t)).alpha=(t.alpha||0)*y,t.beta=(t.beta||0)*y,h.top=e.path(),h.side1=e.path(),h.side2=e.path(),h.inn=e.path(),h.out=e.path(),h.onAdd=function(){var e=h.parentGroup,i=h.attr("class");h.top.add(h),["out","inn","side1","side2"].forEach(function(t){h[t].attr({class:i+" highcharts-3d-side"}).add(e)})},["addClass","removeClass"].forEach(function(i){h[i]=function(){var e=arguments;["top","out","inn","side1","side2"].forEach(function(t){h[t][i].apply(h[t],e)})}}),h.setPaths=function(t){var e=h.renderer.arc3dPath(t),i=100*e.zTop;h.attribs=t,h.top.attr({d:e.top,zIndex:e.zTop}),h.inn.attr({d:e.inn,zIndex:e.zInn}),h.out.attr({d:e.out,zIndex:e.zOut}),h.side1.attr({d:e.side1,zIndex:e.zSide1}),h.side2.attr({d:e.side2,zIndex:e.zSide2}),h.zIndex=i,h.attr({zIndex:i}),t.center&&(h.top.setRadialReference(t.center),delete t.center)},h.setPaths(t),h.fillSetter=function(t){var e=x(t).brighten(-.1).get();return this.fill=t,this.side1.attr({fill:e}),this.side2.attr({fill:e}),this.inn.attr({fill:e}),this.out.attr({fill:e}),this.top.attr({fill:t}),this},["opacity","translateX","translateY","visibility"].forEach(function(t){h[t+"Setter"]=function(e,i){h[i]=e,["out","inn","side1","side2","top"].forEach(function(t){h[t].attr(i,e)})}}),h.attr=function(t){var e;return"object"==typeof t&&(t=l(t))&&(e=t[0],arguments[0]=t[1],f(h.attribs,e),h.setPaths(h.attribs)),c.prototype.attr.apply(h,arguments)},h.animate=function(t,e,i){var s,o,r,a=this.attribs,n="data-"+Math.random().toString(26).substring(2,9);return delete t.center,delete t.z,delete t.alpha,delete t.beta,(r=d(z(e,this.renderer.globalAnimation))).duration&&(s=l(t),h[n]=0,t[n]=1,h[n+"Setter"]=p.noop,s&&(o=s[0],r.step=function(t,e){function i(t){return a[t]+(z(o[t],a[t])-a[t])*e.pos}e.prop===n&&e.elem.setPaths(u(a,{x:i("x"),y:i("y"),r:i("r"),innerR:i("innerR"),start:i("start"),end:i("end"),depth:i("depth")}))}),e=r),c.prototype.animate.call(this,t,e,i)},h.destroy=function(){return this.top.destroy(),this.out.destroy(),this.inn.destroy(),this.side1.destroy(),this.side2.destroy(),c.prototype.destroy.call(this)},h.hide=function(){this.top.hide(),this.out.hide(),this.inn.hide(),this.side1.hide(),this.side2.hide()},h.show=function(t){this.top.show(t),this.out.show(t),this.inn.show(t),this.side1.show(t),this.side2.show(t)},h},A.prototype.arc3dPath=function(t){var e=t.x||0,i=t.y||0,s=t.start||0,o=(t.end||0)-1e-5,r=t.r||0,a=t.innerR||0,n=t.depth||0,h=t.alpha||0,t=t.beta||0,l=Math.cos(s),p=Math.sin(s),c=Math.cos(o),d=Math.sin(o),x=r*Math.cos(t),r=r*Math.cos(h),y=a*Math.cos(t),a=a*Math.cos(h),f=n*Math.sin(t),n=n*Math.sin(h),u=[["M",e+x*l,i+r*p]],t=((u=u.concat(A.curveTo(e,i,x,r,s,o,0,0))).push(["L",e+y*c,i+a*d]),(u=u.concat(A.curveTo(e,i,y,a,o,s,0,0))).push(["Z"]),0<t?Math.PI/2:0),h=0<h?0:Math.PI/2,t=!(-t<s)&&-t<o?-t:s,z=!(o<M-h)&&s<M-h?M-h:o,b=2*M-h,g=(g=[["M",e+x*m(t),i+r*P(t)]]).concat(A.curveTo(e,i,x,r,t,z,0,0)),b=(b<o&&s<b?(g.push(["L",e+x*m(z)+f,i+r*P(z)+n]),(g=g.concat(A.curveTo(e,i,x,r,z,b,f,n))).push(["L",e+x*m(b),i+r*P(b)]),(g=g.concat(A.curveTo(e,i,x,r,b,o,0,0))).push(["L",e+x*m(o)+f,i+r*P(o)+n]),(g=g.concat(A.curveTo(e,i,x,r,o,b,f,n))).push(["L",e+x*m(b),i+r*P(b)]),g=g.concat(A.curveTo(e,i,x,r,b,z,0,0))):M-h<o&&s<M-h&&(g.push(["L",e+x*Math.cos(z)+f,i+r*Math.sin(z)+n]),(g=g.concat(A.curveTo(e,i,x,r,z,o,f,n))).push(["L",e+x*Math.cos(o),i+r*Math.sin(o)]),g=g.concat(A.curveTo(e,i,x,r,o,z,0,0))),g.push(["L",e+x*Math.cos(z)+f,i+r*Math.sin(z)+n]),(g=g.concat(A.curveTo(e,i,x,r,z,t,f,n))).push(["Z"]),[["M",e+y*l,i+a*p]]),h=((b=b.concat(A.curveTo(e,i,y,a,s,o,0,0))).push(["L",e+y*Math.cos(o)+f,i+a*Math.sin(o)+n]),(b=b.concat(A.curveTo(e,i,y,a,o,s,f,n))).push(["Z"]),[["M",e+x*l,i+r*p],["L",e+x*l+f,i+r*p+n],["L",e+y*l+f,i+a*p+n],["L",e+y*l,i+a*p],["Z"]]),z=[["M",e+x*c,i+r*d],["L",e+x*c+f,i+r*d+n],["L",e+y*c+f,i+a*d+n],["L",e+y*c,i+a*d],["Z"]],t=Math.atan2(n,-f),l=Math.abs(o+t),p=Math.abs(s+t),x=Math.abs((s+o)/2+t);function v(t){return t=(t%=2*Math.PI)>Math.PI?2*Math.PI-t:t}l=v(l),p=v(p),r=1e5*v(x),e=1e5*p,y=1e5*l;return{top:u,zTop:1e5*Math.PI+1,out:g,zOut:Math.max(r,e,y),inn:b,zInn:Math.max(r,e,y),side1:h,zSide1:.99*y,side2:z,zSide2:.99*e}},A}),e(t,"Core/Chart/Chart3D.js",[t["Core/Color/Color.js"],t["Core/Defaults.js"],t["Core/Math3D.js"],t["Core/Utilities.js"]],function(t,e,i,s){var o,r,a,f=t.parse,n=e.defaultOptions,v=i.perspective,m=i.shapeArea3D,h=s.addEvent,l=s.isArray,p=s.merge,P=s.pick,c=s.wrap;function d(t){this.frame3d=void 0,this.chart=t}function x(t){this.is3d()&&"scatter"===t.options.type&&(t.options.type="scatter3d")}function y(){var t,e,i,s,o,r,a,n,h,l,p,c,d,x,y;this.chart3d&&this.is3d()&&(e=(t=this).renderer,n=t.options.chart.options3d,i=t.chart3d.get3dFrame(),s=t.plotLeft,o=t.plotLeft+t.plotWidth,r=t.plotTop,a=t.plotTop+t.plotHeight,n=n.depth,h=s-(i.left.visible?i.left.size:0),l=o+(i.right.visible?i.right.size:0),p=r-(i.top.visible?i.top.size:0),c=a+(i.bottom.visible?i.bottom.size:0),d=0-(i.front.visible?i.front.size:0),x=n+(i.back.visible?i.back.size:0),y=t.hasRendered?"animate":"attr",t.chart3d.frame3d=i,t.frameShapes||(t.frameShapes={bottom:e.polyhedron().add(),top:e.polyhedron().add(),left:e.polyhedron().add(),right:e.polyhedron().add(),back:e.polyhedron().add(),front:e.polyhedron().add()}),t.frameShapes.bottom[y]({class:"highcharts-3d-frame highcharts-3d-frame-bottom",zIndex:i.bottom.frontFacing?-1e3:1e3,faces:[{fill:f(i.bottom.color).brighten(.1).get(),vertexes:[{x:h,y:c,z:d},{x:l,y:c,z:d},{x:l,y:c,z:x},{x:h,y:c,z:x}],enabled:i.bottom.visible},{fill:f(i.bottom.color).brighten(.1).get(),vertexes:[{x:s,y:a,z:n},{x:o,y:a,z:n},{x:o,y:a,z:0},{x:s,y:a,z:0}],enabled:i.bottom.visible},{fill:f(i.bottom.color).brighten(-.1).get(),vertexes:[{x:h,y:c,z:d},{x:h,y:c,z:x},{x:s,y:a,z:n},{x:s,y:a,z:0}],enabled:i.bottom.visible&&!i.left.visible},{fill:f(i.bottom.color).brighten(-.1).get(),vertexes:[{x:l,y:c,z:x},{x:l,y:c,z:d},{x:o,y:a,z:0},{x:o,y:a,z:n}],enabled:i.bottom.visible&&!i.right.visible},{fill:f(i.bottom.color).get(),vertexes:[{x:l,y:c,z:d},{x:h,y:c,z:d},{x:s,y:a,z:0},{x:o,y:a,z:0}],enabled:i.bottom.visible&&!i.front.visible},{fill:f(i.bottom.color).get(),vertexes:[{x:h,y:c,z:x},{x:l,y:c,z:x},{x:o,y:a,z:n},{x:s,y:a,z:n}],enabled:i.bottom.visible&&!i.back.visible}]}),t.frameShapes.top[y]({class:"highcharts-3d-frame highcharts-3d-frame-top",zIndex:i.top.frontFacing?-1e3:1e3,faces:[{fill:f(i.top.color).brighten(.1).get(),vertexes:[{x:h,y:p,z:x},{x:l,y:p,z:x},{x:l,y:p,z:d},{x:h,y:p,z:d}],enabled:i.top.visible},{fill:f(i.top.color).brighten(.1).get(),vertexes:[{x:s,y:r,z:0},{x:o,y:r,z:0},{x:o,y:r,z:n},{x:s,y:r,z:n}],enabled:i.top.visible},{fill:f(i.top.color).brighten(-.1).get(),vertexes:[{x:h,y:p,z:x},{x:h,y:p,z:d},{x:s,y:r,z:0},{x:s,y:r,z:n}],enabled:i.top.visible&&!i.left.visible},{fill:f(i.top.color).brighten(-.1).get(),vertexes:[{x:l,y:p,z:d},{x:l,y:p,z:x},{x:o,y:r,z:n},{x:o,y:r,z:0}],enabled:i.top.visible&&!i.right.visible},{fill:f(i.top.color).get(),vertexes:[{x:h,y:p,z:d},{x:l,y:p,z:d},{x:o,y:r,z:0},{x:s,y:r,z:0}],enabled:i.top.visible&&!i.front.visible},{fill:f(i.top.color).get(),vertexes:[{x:l,y:p,z:x},{x:h,y:p,z:x},{x:s,y:r,z:n},{x:o,y:r,z:n}],enabled:i.top.visible&&!i.back.visible}]}),t.frameShapes.left[y]({class:"highcharts-3d-frame highcharts-3d-frame-left",zIndex:i.left.frontFacing?-1e3:1e3,faces:[{fill:f(i.left.color).brighten(.1).get(),vertexes:[{x:h,y:c,z:d},{x:s,y:a,z:0},{x:s,y:a,z:n},{x:h,y:c,z:x}],enabled:i.left.visible&&!i.bottom.visible},{fill:f(i.left.color).brighten(.1).get(),vertexes:[{x:h,y:p,z:x},{x:s,y:r,z:n},{x:s,y:r,z:0},{x:h,y:p,z:d}],enabled:i.left.visible&&!i.top.visible},{fill:f(i.left.color).brighten(-.1).get(),vertexes:[{x:h,y:c,z:x},{x:h,y:p,z:x},{x:h,y:p,z:d},{x:h,y:c,z:d}],enabled:i.left.visible},{fill:f(i.left.color).brighten(-.1).get(),vertexes:[{x:s,y:r,z:n},{x:s,y:a,z:n},{x:s,y:a,z:0},{x:s,y:r,z:0}],enabled:i.left.visible},{fill:f(i.left.color).get(),vertexes:[{x:h,y:c,z:d},{x:h,y:p,z:d},{x:s,y:r,z:0},{x:s,y:a,z:0}],enabled:i.left.visible&&!i.front.visible},{fill:f(i.left.color).get(),vertexes:[{x:h,y:p,z:x},{x:h,y:c,z:x},{x:s,y:a,z:n},{x:s,y:r,z:n}],enabled:i.left.visible&&!i.back.visible}]}),t.frameShapes.right[y]({class:"highcharts-3d-frame highcharts-3d-frame-right",zIndex:i.right.frontFacing?-1e3:1e3,faces:[{fill:f(i.right.color).brighten(.1).get(),vertexes:[{x:l,y:c,z:x},{x:o,y:a,z:n},{x:o,y:a,z:0},{x:l,y:c,z:d}],enabled:i.right.visible&&!i.bottom.visible},{fill:f(i.right.color).brighten(.1).get(),vertexes:[{x:l,y:p,z:d},{x:o,y:r,z:0},{x:o,y:r,z:n},{x:l,y:p,z:x}],enabled:i.right.visible&&!i.top.visible},{fill:f(i.right.color).brighten(-.1).get(),vertexes:[{x:o,y:r,z:0},{x:o,y:a,z:0},{x:o,y:a,z:n},{x:o,y:r,z:n}],enabled:i.right.visible},{fill:f(i.right.color).brighten(-.1).get(),vertexes:[{x:l,y:c,z:d},{x:l,y:p,z:d},{x:l,y:p,z:x},{x:l,y:c,z:x}],enabled:i.right.visible},{fill:f(i.right.color).get(),vertexes:[{x:l,y:p,z:d},{x:l,y:c,z:d},{x:o,y:a,z:0},{x:o,y:r,z:0}],enabled:i.right.visible&&!i.front.visible},{fill:f(i.right.color).get(),vertexes:[{x:l,y:c,z:x},{x:l,y:p,z:x},{x:o,y:r,z:n},{x:o,y:a,z:n}],enabled:i.right.visible&&!i.back.visible}]}),t.frameShapes.back[y]({class:"highcharts-3d-frame highcharts-3d-frame-back",zIndex:i.back.frontFacing?-1e3:1e3,faces:[{fill:f(i.back.color).brighten(.1).get(),vertexes:[{x:l,y:c,z:x},{x:h,y:c,z:x},{x:s,y:a,z:n},{x:o,y:a,z:n}],enabled:i.back.visible&&!i.bottom.visible},{fill:f(i.back.color).brighten(.1).get(),vertexes:[{x:h,y:p,z:x},{x:l,y:p,z:x},{x:o,y:r,z:n},{x:s,y:r,z:n}],enabled:i.back.visible&&!i.top.visible},{fill:f(i.back.color).brighten(-.1).get(),vertexes:[{x:h,y:c,z:x},{x:h,y:p,z:x},{x:s,y:r,z:n},{x:s,y:a,z:n}],enabled:i.back.visible&&!i.left.visible},{fill:f(i.back.color).brighten(-.1).get(),vertexes:[{x:l,y:p,z:x},{x:l,y:c,z:x},{x:o,y:a,z:n},{x:o,y:r,z:n}],enabled:i.back.visible&&!i.right.visible},{fill:f(i.back.color).get(),vertexes:[{x:s,y:r,z:n},{x:o,y:r,z:n},{x:o,y:a,z:n},{x:s,y:a,z:n}],enabled:i.back.visible},{fill:f(i.back.color).get(),vertexes:[{x:h,y:c,z:x},{x:l,y:c,z:x},{x:l,y:p,z:x},{x:h,y:p,z:x}],enabled:i.back.visible}]}),t.frameShapes.front[y]({class:"highcharts-3d-frame highcharts-3d-frame-front",zIndex:i.front.frontFacing?-1e3:1e3,faces:[{fill:f(i.front.color).brighten(.1).get(),vertexes:[{x:h,y:c,z:d},{x:l,y:c,z:d},{x:o,y:a,z:0},{x:s,y:a,z:0}],enabled:i.front.visible&&!i.bottom.visible},{fill:f(i.front.color).brighten(.1).get(),vertexes:[{x:l,y:p,z:d},{x:h,y:p,z:d},{x:s,y:r,z:0},{x:o,y:r,z:0}],enabled:i.front.visible&&!i.top.visible},{fill:f(i.front.color).brighten(-.1).get(),vertexes:[{x:h,y:p,z:d},{x:h,y:c,z:d},{x:s,y:a,z:0},{x:s,y:r,z:0}],enabled:i.front.visible&&!i.left.visible},{fill:f(i.front.color).brighten(-.1).get(),vertexes:[{x:l,y:c,z:d},{x:l,y:p,z:d},{x:o,y:r,z:0},{x:o,y:a,z:0}],enabled:i.front.visible&&!i.right.visible},{fill:f(i.front.color).get(),vertexes:[{x:o,y:r,z:0},{x:s,y:r,z:0},{x:s,y:a,z:0},{x:o,y:a,z:0}],enabled:i.front.visible},{fill:f(i.front.color).get(),vertexes:[{x:l,y:c,z:d},{x:h,y:c,z:d},{x:h,y:p,z:d},{x:l,y:p,z:d}],enabled:i.front.visible}]}))}function u(){this.styledMode&&[{name:"darker",slope:.6},{name:"brighter",slope:1.4}].forEach(function(t){this.renderer.definition({tagName:"filter",attributes:{id:"highcharts-"+t.name},children:[{tagName:"feComponentTransfer",children:[{tagName:"feFuncR",attributes:{type:"linear",slope:t.slope}},{tagName:"feFuncG",attributes:{type:"linear",slope:t.slope}},{tagName:"feFuncB",attributes:{type:"linear",slope:t.slope}}]}]})},this)}function z(){var e=this.options;this.is3d()&&(e.series||[]).forEach(function(t){"scatter"===(t.type||e.chart.type||e.chart.defaultSeriesType)&&(t.type="scatter3d")})}function b(){var t,e,i,s,o,r,a=this,n=a.options.chart.options3d;a.chart3d&&a.is3d()&&(n&&(n.alpha=n.alpha%360+(0<=n.alpha?0:360),n.beta=n.beta%360+(0<=n.beta?0:360)),t=a.inverted,e=a.clipBox,i=a.margin,s=t?"x":"y",o=t?"height":"width",r=t?"width":"height",e[t?"y":"x"]=-(i[3]||0),e[s]=-(i[0]||0),e[o]=a.chartWidth+(i[3]||0)+(i[1]||0),e[r]=a.chartHeight+(i[0]||0)+(i[2]||0),a.scale3d=1,!0===n.fitToPlot&&(a.scale3d=a.chart3d.getScale(n.depth)),a.chart3d.frame3d=a.chart3d.get3dFrame())}function g(){this.is3d()&&(this.isDirtyBox=!0)}function M(){this.chart3d&&this.is3d()&&(this.chart3d.frame3d=this.chart3d.get3dFrame())}function S(){this.chart3d||(this.chart3d=new a(this))}function A(t){return this.is3d()||t.apply(this,[].slice.call(arguments,1))}function C(t){var e,i=this.series.length;if(this.is3d())for(;i--;)(e=this.series[i]).translate(),e.render();else t.call(this)}function D(t){t.apply(this,[].slice.call(arguments,1)),this.is3d()&&(this.container.className+=" highcharts-3d-chart")}return r=o=o||{},d.prototype.get3dFrame=function(){function t(t){return.5<(t=m(t,a))?1:t<-.5?-1:0}function e(t,e,i){for(var s=["size","color","visible"],o={},r=0;r<s.length;r++)for(var a=s[r],n=0;n<t.length;n++)if("object"==typeof t[n]){var h=t[n][a];if(null!=h){o[a]=h;break}}return!0===o.visible||!1===o.visible?i=o.visible:"auto"===o.visible&&(i=0<e),{size:P(o.size,1),color:P(o.color,"none"),frontFacing:0<e,visible:i}}var a=this.chart,i=a.options.chart.options3d,s=i.frame,o=a.plotLeft,r=a.plotLeft+a.plotWidth,n=a.plotTop,h=a.plotTop+a.plotHeight,l=i.depth,p=t([{x:o,y:h,z:l},{x:r,y:h,z:l},{x:r,y:h,z:0},{x:o,y:h,z:0}]),c=t([{x:o,y:n,z:0},{x:r,y:n,z:0},{x:r,y:n,z:l},{x:o,y:n,z:l}]),d=t([{x:o,y:n,z:0},{x:o,y:n,z:l},{x:o,y:h,z:l},{x:o,y:h,z:0}]),x=t([{x:r,y:n,z:l},{x:r,y:n,z:0},{x:r,y:h,z:0},{x:r,y:h,z:l}]),y=t([{x:o,y:h,z:0},{x:r,y:h,z:0},{x:r,y:n,z:0},{x:o,y:n,z:0}]),f=t([{x:o,y:n,z:l},{x:r,y:n,z:l},{x:r,y:h,z:l},{x:o,y:h,z:l}]),u=!1,z=!1,b=!1,g=!1,p=([].concat(a.xAxis,a.yAxis,a.zAxis).forEach(function(t){t&&(t.horiz?t.opposite?z=!0:u=!0:t.opposite?g=!0:b=!0)}),{axes:{},bottom:e([s.bottom,s.top,s],p,u),top:e([s.top,s.bottom,s],c,z),left:e([s.left,s.right,s.side,s],d,b),right:e([s.right,s.left,s.side,s],x,g),back:e([s.back,s.front,s],f,!0),front:e([s.front,s.back,s],y,!1)});return"auto"===i.axisLabelPosition?(c=[],(d=function(t,e){return t.visible!==e.visible||t.visible&&e.visible&&t.frontFacing!==e.frontFacing})(p.left,p.front)&&c.push({y:(n+h)/2,x:o,z:0,xDir:{x:1,y:0,z:0}}),d(p.left,p.back)&&c.push({y:(n+h)/2,x:o,z:l,xDir:{x:0,y:0,z:-1}}),d(p.right,p.front)&&c.push({y:(n+h)/2,x:r,z:0,xDir:{x:0,y:0,z:1}}),d(p.right,p.back)&&c.push({y:(n+h)/2,x:r,z:l,xDir:{x:-1,y:0,z:0}}),x=[],d(p.bottom,p.front)&&x.push({x:(o+r)/2,y:h,z:0,xDir:{x:1,y:0,z:0}}),d(p.bottom,p.back)&&x.push({x:(o+r)/2,y:h,z:l,xDir:{x:-1,y:0,z:0}}),f=[],d(p.top,p.front)&&f.push({x:(o+r)/2,y:n,z:0,xDir:{x:1,y:0,z:0}}),d(p.top,p.back)&&f.push({x:(o+r)/2,y:n,z:l,xDir:{x:-1,y:0,z:0}}),s=[],d(p.bottom,p.left)&&s.push({z:(0+l)/2,y:h,x:o,xDir:{x:0,y:0,z:-1}}),d(p.bottom,p.right)&&s.push({z:(0+l)/2,y:h,x:r,xDir:{x:0,y:0,z:1}}),y=[],d(p.top,p.left)&&y.push({z:(0+l)/2,y:n,x:o,xDir:{x:0,y:0,z:-1}}),d(p.top,p.right)&&y.push({z:(0+l)/2,y:n,x:r,xDir:{x:0,y:0,z:1}}),p.axes={y:{left:(i=function(t,e,i){if(0===t.length)return null;if(1===t.length)return t[0];for(var s=v(t,a,!1),o=0,r=1;r<s.length;r++)(i*s[r][e]>i*s[o][e]||i*s[r][e]==i*s[o][e]&&s[r].z<s[o].z)&&(o=r);return t[o]})(c,"x",-1),right:i(c,"x",1)},x:{top:i(f,"y",-1),bottom:i(x,"y",1)},z:{top:i(y,"y",-1),bottom:i(s,"y",1)}}):p.axes={y:{left:{x:o,z:0,xDir:{x:1,y:0,z:0}},right:{x:r,z:0,xDir:{x:0,y:0,z:1}}},x:{top:{y:n,z:0,xDir:{x:1,y:0,z:0}},bottom:{y:h,z:0,xDir:{x:1,y:0,z:0}}},z:{top:{x:b?r:o,y:n,xDir:b?{x:0,y:0,z:1}:{x:0,y:0,z:-1}},bottom:{x:b?r:o,y:h,xDir:b?{x:0,y:0,z:1}:{x:0,y:0,z:-1}}}},p},d.prototype.getScale=function(t){var e=this.chart,i=e.plotLeft,s=e.plotWidth+i,o=e.plotTop,r=e.plotHeight+o,a=i+e.plotWidth/2,n=o+e.plotHeight/2,h={minX:Number.MAX_VALUE,maxX:-Number.MAX_VALUE,minY:Number.MAX_VALUE,maxY:-Number.MAX_VALUE},l=1,p=[{x:i,y:o,z:0},{x:i,y:o,z:t}];return[0,1].forEach(function(t){p.push({x:s,y:p[t].y,z:p[t].z})}),[0,1,2,3].forEach(function(t){p.push({x:p[t].x,y:r,z:p[t].z})}),(p=v(p,e,!1)).forEach(function(t){h.minX=Math.min(h.minX,t.x),h.maxX=Math.max(h.maxX,t.x),h.minY=Math.min(h.minY,t.y),h.maxY=Math.max(h.maxY,t.y)}),i>h.minX&&(l=Math.min(l,1-Math.abs((i+a)/(h.minX+a))%1)),s<h.maxX&&(l=Math.min(l,(s-a)/(h.maxX-a))),o>h.minY&&(l=h.minY<0?Math.min(l,(o+n)/(-h.minY+o+n)):Math.min(l,1-(o+n)/(h.minY+n)%1)),l=r<h.maxY?Math.min(l,Math.abs((r-n)/(h.maxY-n))):l},a=d,r.Composition=a,r.defaultOptions={chart:{options3d:{enabled:!1,alpha:0,beta:0,depth:100,fitToPlot:!0,viewDistance:25,axisLabelPosition:null,frame:{visible:"default",size:1,bottom:{},top:{},left:{},right:{},back:{},front:{}}}}},r.compose=function(t,e){var i=t.prototype,e=e.prototype;i.is3d=function(){return Boolean(this.options.chart.options3d&&this.options.chart.options3d.enabled)},i.propsRequireDirtyBox.push("chart.options3d"),i.propsRequireUpdateSeries.push("chart.options3d"),e.matrixSetter=function(){if(this.pos<1&&(l(this.start)||l(this.end)))for(var t=this.start||[1,0,0,1,0,0],e=this.end||[1,0,0,1,0,0],i=[],s=0;s<6;s++)i.push(this.pos*e[s]+(1-this.pos)*t[s]);else i=this.end;this.elem.attr(this.prop,i,null,!0)},p(!0,n,r.defaultOptions),h(t,"init",S),h(t,"addSeries",x),h(t,"afterDrawChartBox",y),h(t,"afterGetContainer",u),h(t,"afterInit",z),h(t,"afterSetChartSize",b),h(t,"beforeRedraw",g),h(t,"beforeRender",M),c(i,"isInsidePlot",A),c(i,"renderSeries",C),c(i,"setClassName",D)},o}),e(t,"Core/Axis/ZAxis.js",[t["Core/Axis/Axis.js"],t["Core/Utilities.js"]],function(t,e){var s,i=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=e.addEvent,r=e.merge,a=e.pick,n=e.splat,h=[];function l(t){return new d(this,t)}function p(){var i=this,t=this.options.zAxis=n(this.options.zAxis||{});this.is3d()&&(this.zAxis=[],t.forEach(function(t,e){t.index=e,t.isX=!0,i.addZAxis(t).setScale()}))}i(x,c=t),x.compose=function(t){e.pushUnique(h,t)&&(o(t,"afterGetAxes",p),(t=t.prototype).addZAxis=l,t.collectionsWithInit.zAxis=[t.addZAxis],t.collectionsWithUpdate.push("zAxis"))},x.prototype.getSeriesExtremes=function(){var i=this,s=this.chart;this.hasVisibleSeries=!1,this.dataMin=this.dataMax=this.ignoreMinPadding=this.ignoreMaxPadding=void 0,this.stacking&&this.stacking.buildStacks(),this.series.forEach(function(t){var e;!t.visible&&s.options.chart.ignoreHiddenSeries||(e=t.options.threshold,i.hasVisibleSeries=!0,i.positiveValuesOnly&&e<=0&&(e=void 0),(e=t.zData).length&&(i.dataMin=Math.min(a(i.dataMin,e[0]),Math.min.apply(null,e)),i.dataMax=Math.max(a(i.dataMax,e[0]),Math.max.apply(null,e))))})},x.prototype.setAxisSize=function(){var t=this.chart;c.prototype.setAxisSize.call(this),this.width=this.len=t.options.chart.options3d&&t.options.chart.options3d.depth||0,this.right=t.chartWidth-this.width-this.left},x.prototype.setOptions=function(t){t=r({offset:0,lineWidth:0},t),this.isZAxis=!0,c.prototype.setOptions.call(this,t),this.coll="zAxis"};var c,d=x;function x(t,e){t=c.call(this,t,e)||this;return t.isZAxis=!0,t}return d}),e(t,"Core/Axis/Axis3DDefaults.js",[],function(){return{labels:{position3d:"offset",skew3d:!1},title:{position3d:null,skew3d:null}}}),e(t,"Core/Axis/Tick3DComposition.js",[t["Core/Utilities.js"]],function(e){var i=e.addEvent,s=e.extend,o=e.wrap,r=[];function a(t){var e=this.axis.axis3D;e&&s(t.pos,e.fix3dPosition(t.pos))}function n(t){var e=this.axis.axis3D,t=t.apply(this,[].slice.call(arguments,1));if(e){var i=t[0],s=t[1];if("M"===i[0]&&"L"===s[0])return i=[e.fix3dPosition({x:i[1],y:i[2],z:0}),e.fix3dPosition({x:s[1],y:s[2],z:0})],this.axis.chart.renderer.toLineSegments(i)}return t}return{compose:function(t){e.pushUnique(r,t)&&(i(t,"afterGetLabelPosition",a),o(t.prototype,"getMarkPath",n))}}}),e(t,"Core/Axis/Axis3DComposition.js",[t["Core/Axis/Axis3DDefaults.js"],t["Core/Globals.js"],t["Core/Math3D.js"],t["Core/Axis/Tick3DComposition.js"],t["Core/Utilities.js"]],function(i,t,e,s,o){var u=t.deg2rad,z=e.perspective,d=e.perspective3D,b=e.shapeArea,r=o.addEvent,a=o.merge,g=o.pick,n=o.wrap,h=[];function l(){var t=this.chart,e=this.options;t.is3d&&t.is3d()&&"colorAxis"!==this.coll&&(e.tickWidth=g(e.tickWidth,0),e.gridLineWidth=g(e.gridLineWidth,1))}function p(t){this.chart.is3d()&&"colorAxis"!==this.coll&&t.point&&(t.point.crosshairPos=this.isXAxis?t.point.axisXpos:this.len-t.point.axisYpos)}function c(){this.axis3D||(this.axis3D=new P(this))}function x(t){return this.chart.is3d()&&"colorAxis"!==this.coll?[]:t.apply(this,[].slice.call(arguments,1))}function y(t){if(!this.chart.is3d()||"colorAxis"===this.coll)return t.apply(this,[].slice.call(arguments,1));var t=arguments,e=t[2],i=[],s=this.getPlotLinePath({value:t[1]}),o=this.getPlotLinePath({value:e});if(s&&o)for(var r=0;r<s.length;r+=2){var a=s[r],n=s[r+1],h=o[r],l=o[r+1];"M"===a[0]&&"L"===n[0]&&"M"===h[0]&&"L"===l[0]&&i.push(a,n,l,["L",h[1],h[2]],["Z"])}return i}function f(t){var e=this,i=e.axis3D,s=e.chart,t=t.apply(e,[].slice.call(arguments,1));if("colorAxis"===e.coll||!s.chart3d||!s.is3d())return t;if(null===t)return t;var o=s.options.chart.options3d,e=e.isZAxis?s.plotWidth:o.depth,o=s.chart3d.frame3d,r=t[0],t=t[1],a=[];return"M"===r[0]&&"L"===t[0]&&(r=[i.swapZ({x:r[1],y:r[2],z:0}),i.swapZ({x:r[1],y:r[2],z:e}),i.swapZ({x:t[1],y:t[2],z:0}),i.swapZ({x:t[1],y:t[2],z:e})],this.horiz?(this.isZAxis?(o.left.visible&&a.push(r[0],r[2]),o.right.visible&&a.push(r[1],r[3])):(o.front.visible&&a.push(r[0],r[2]),o.back.visible&&a.push(r[1],r[3])),o.top.visible&&a.push(r[0],r[1]),o.bottom.visible&&a.push(r[2],r[3])):(o.front.visible&&a.push(r[0],r[2]),o.back.visible&&a.push(r[1],r[3]),o.left.visible&&a.push(r[0],r[1]),o.right.visible&&a.push(r[2],r[3])),a=z(a,this.chart,!1)),s.renderer.toLineSegments(a)}function v(t,e){var i,s,o,r,a,n,h=this,l=h.chart,p=h.ticks,c=h.gridGroup;return h.categories&&l.frameShapes&&l.is3d()&&c&&e&&e.label?(c=c.element.childNodes[0].getBBox(),i=l.frameShapes.left.getBBox(),s=l.options.chart.options3d,l={x:l.plotWidth/2,y:l.plotHeight/2,z:s.depth/2,vd:g(s.depth,1)*g(s.viewDistance,0)},o=p[(s=e.pos)-1],p=p[s+1],n=a=r=void 0,0!==s&&o&&o.label&&o.label.xy&&(a=d({x:o.label.xy.x,y:o.label.xy.y,z:null},l,l.vd)),p&&p.label&&p.label.xy&&(n=d({x:p.label.xy.x,y:p.label.xy.y,z:null},l,l.vd)),r={x:e.label.xy.x,y:e.label.xy.y,z:null},r=d(r,l,l.vd),Math.abs(a?r.x-a.x:n?n.x-r.x:c.x-i.x)):t.apply(h,[].slice.call(arguments,1))}function m(t){t=t.apply(this,[].slice.call(arguments,1));return this.axis3D?this.axis3D.fix3dPosition(t,!0):t}M.compose=function(t,e){s.compose(e),o.pushUnique(h,t)&&(a(!0,t.defaultOptions,i),t.keepProps.push("axis3D"),r(t,"init",c),r(t,"afterSetOptions",l),r(t,"drawCrosshair",p),e=t.prototype,n(e,"getLinePath",x),n(e,"getPlotBandPath",y),n(e,"getPlotLinePath",f),n(e,"getSlotWidth",v),n(e,"getTitlePosition",m))},M.prototype.fix3dPosition=function(t,e){var i=this.axis,s=i.chart;if("colorAxis"===i.coll||!s.chart3d||!s.is3d())return t;var o,r=u*s.options.chart.options3d.alpha,a=u*s.options.chart.options3d.beta,n=g(e&&i.options.title.position3d,i.options.labels.position3d),e=g(e&&i.options.title.skew3d,i.options.labels.skew3d),h=s.chart3d.frame3d,l=s.plotLeft,p=s.plotWidth+l,c=s.plotTop,s=s.plotHeight+c,d=0,x=0,y={x:0,y:1,z:0},f=!1;if(t=i.axis3D.swapZ({x:t.x,y:t.y,z:0}),i.isZAxis)if(i.opposite){if(null===h.axes.z.top)return{};x=t.y-c,t.x=h.axes.z.top.x,t.y=h.axes.z.top.y,o=h.axes.z.top.xDir,f=!h.top.frontFacing}else{if(null===h.axes.z.bottom)return{};x=t.y-s,t.x=h.axes.z.bottom.x,t.y=h.axes.z.bottom.y,o=h.axes.z.bottom.xDir,f=!h.bottom.frontFacing}else if(i.horiz)if(i.opposite){if(null===h.axes.x.top)return{};x=t.y-c,t.y=h.axes.x.top.y,t.z=h.axes.x.top.z,o=h.axes.x.top.xDir,f=!h.top.frontFacing}else{if(null===h.axes.x.bottom)return{};x=t.y-s,t.y=h.axes.x.bottom.y,t.z=h.axes.x.bottom.z,o=h.axes.x.bottom.xDir,f=!h.bottom.frontFacing}else if(i.opposite){if(null===h.axes.y.right)return{};d=t.x-p,t.x=h.axes.y.right.x,t.z=h.axes.y.right.z,o={x:(o=h.axes.y.right.xDir).z,y:o.y,z:-o.x}}else{if(null===h.axes.y.left)return{};d=t.x-l,t.x=h.axes.y.left.x,t.z=h.axes.y.left.z,o=h.axes.y.left.xDir}"chart"!==n&&("flap"===n?i.horiz?(c=Math.sin(r),s=Math.cos(r),i.opposite&&(c=-c),y={x:o.z*(c=f?-c:c),y:s,z:-o.x*c}):o={x:Math.cos(a),y:0,z:Math.sin(a)}:"ortho"===n?i.horiz?(p=Math.sin(r),l=Math.cos(r),h=Math.sin(a)*l,s=-p,c=-l*Math.cos(a),y={x:o.y*c-o.z*s,y:o.z*h-o.x*c,z:o.x*s-o.y*h},n=1/Math.sqrt(y.x*y.x+y.y*y.y+y.z*y.z),y={x:(n=f?-n:n)*y.x,y:n*y.y,z:n*y.z}):o={x:Math.cos(a),y:0,z:Math.sin(a)}:i.horiz?y={x:Math.sin(a)*Math.sin(r),y:Math.cos(r),z:-Math.cos(a)*Math.sin(r)}:o={x:Math.cos(a),y:0,z:Math.sin(a)}),t.x+=d*o.x+x*y.x,t.y+=d*o.y+x*y.y,t.z+=d*o.z+x*y.z;p=z([t],i.chart)[0];return e&&(b(z([t,{x:t.x+o.x,y:t.y+o.y,z:t.z+o.z},{x:t.x+y.x,y:t.y+y.y,z:t.z+y.z}],i.chart))<0&&(o={x:-o.x,y:-o.y,z:-o.z}),l=z([{x:t.x,y:t.y,z:t.z},{x:t.x+o.x,y:t.y+o.y,z:t.z+o.z},{x:t.x+y.x,y:t.y+y.y,z:t.z+y.z}],i.chart),p.matrix=[l[1].x-l[0].x,l[1].y-l[0].y,l[2].x-l[0].x,l[2].y-l[0].y,p.x,p.y],p.matrix[4]-=p.x*p.matrix[0]+p.y*p.matrix[2],p.matrix[5]-=p.x*p.matrix[1]+p.y*p.matrix[3]),p},M.prototype.swapZ=function(t,e){var i=this.axis;return i.isZAxis?{x:(e=e?0:i.chart.plotLeft)+t.z,y:t.y,z:t.x-e}:t};var P=M;function M(t){this.axis=t}return P}),e(t,"Core/Series/Series3D.js",[t["Core/Math3D.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(t,e,i){var s,o,r=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),d=t.perspective,t=i.addEvent,a=i.extend,n=i.merge,x=i.pick,y=i.isNumber,i=(r(h,o=e),h.prototype.translate=function(){o.prototype.translate.apply(this,arguments),this.chart.is3d()&&this.translate3dPoints()},h.prototype.translate3dPoints=function(){var t,e,i,s,o,r=this,a=r.options,n=r.chart,h=x(r.zAxis,n.options.zAxis[0]),l=[],p=[],c=a.stacking?y(a.stack)?a.stack:0:r.index||0;for(r.zPadding=c*(a.depth||0+(a.groupZPadding||1)),o=0;o<r.data.length;o++)t=r.data[o],h&&h.translate?(s=h.logarithmic&&h.val2lin?h.val2lin(t.z):t.z,t.plotZ=h.translate(s),t.isInside=!!t.isInside&&(s>=h.min&&s<=h.max)):t.plotZ=r.zPadding,t.axisXpos=t.plotX,t.axisYpos=t.plotY,t.axisZpos=t.plotZ,l.push({x:t.plotX,y:t.plotY,z:t.plotZ}),p.push(t.plotX||0);for(r.rawPointsX=p,e=d(l,n,!0),o=0;o<r.data.length;o++)t=r.data[o],i=e[o],t.plotX=i.x,t.plotY=i.y,t.plotZ=i.z},h.defaultOptions=n(e.defaultOptions),h);function h(){return null!==o&&o.apply(this,arguments)||this}return t(e,"afterTranslate",function(){this.chart.is3d()&&this.translate3dPoints()}),a(e.prototype,{translate3dPoints:i.prototype.translate3dPoints}),i}),e(t,"Series/Area3D/Area3DSeries.js",[t["Core/Math3D.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i){var h=t.perspective,l=e.seriesTypes.line.prototype,s=i.wrap,o=[];function r(t){var e=this,t=t.apply(e,[].slice.call(arguments,1));if(!e.chart.is3d())return t;var i=l.getGraphPath,s=e.options,o=Math.round(e.yAxis.getThreshold(s.threshold)),r=[];if(e.rawPointsX)for(var a=0;a<e.points.length;a++)r.push({x:e.rawPointsX[a],y:s.stacking?e.points[a].yBottom:o,z:e.zPadding});var n=e.chart.options.chart.options3d,r=h(r,e.chart,!0).map(function(t){return{plotX:t.x,plotY:t.y,plotZ:t.z}}),n=(e.group&&n&&n.depth&&n.beta&&(e.markerGroup&&(e.markerGroup.add(e.group),e.markerGroup.attr({translateX:0,translateY:0})),e.group.attr({zIndex:Math.max(1,270<n.beta||n.beta<90?n.depth-Math.round(e.zPadding||0):Math.round(e.zPadding||0))})),r.reversed=!0,i.call(e,r,!0,!0));return n[0]&&"M"===n[0][0]&&(n[0]=["L",n[0][1],n[0][2]]),e.areaPath&&((i=e.areaPath.splice(0,e.areaPath.length/2).concat(n)).xMap=e.areaPath.xMap,e.areaPath=i),t}return{compose:function(t){i.pushUnique(o,t)&&s(t.prototype,"getGraphPath",r)}}}),e(t,"Series/Column3D/Column3DComposition.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/Series.js"],t["Core/Math3D.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Axis/Stacking/StackItem.js"],t["Core/Utilities.js"]],function(t,e,i,r,s,o){var a=t.prototype,p=i.perspective,i=o.addEvent,c=o.extend,x=o.pick,o=o.wrap;function n(t){t=t.apply(this,[].slice.call(arguments,1));return this.chart.is3d&&this.chart.is3d()&&(t.stroke=this.options.edgeColor||t.fill,t["stroke-width"]=x(this.options.edgeWidth,1)),t}function h(t,e,i){var s=this.chart.is3d&&this.chart.is3d();s&&(this.options.inactiveOtherPoints=!0),t.call(this,e,i),s&&(this.options.inactiveOtherPoints=!1)}function l(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return this.series.chart.is3d()?this.graphic&&"g"!==this.graphic.element.nodeName:t.apply(this,e)}return o(a,"translate",function(t){t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&this.translate3dShapes()}),o(e.prototype,"justifyDataLabel",function(t){return!arguments[2].outside3dPlot&&t.apply(this,[].slice.call(arguments,1))}),a.translate3dPoints=function(){},a.translate3dShapes=function(){var e,r=this,a=r.chart,t=r.options,n=t.depth,h=(t.stacking?t.stack||0:r.index)*(n+(t.groupZPadding||1)),l=r.borderWidth%2?.5:0;a.inverted&&!r.yAxis.reversed&&(l*=-1),!1!==t.grouping&&(h=0),h+=t.groupZPadding||1,r.data.forEach(function(i){var s,o,t;(i.outside3dPlot=null)!==i.y&&(s=c({x:0,y:0,width:0,height:0},i.shapeArgs||{}),t=i.tooltipPos,[["x","width"],["y","height"]].forEach(function(t){if((o=s[t[0]]-l)<0&&(s[t[1]]+=s[t[0]]+l,s[t[0]]=-l,o=0),o+s[t[1]]>r[t[0]+"Axis"].len&&0!==s[t[1]]&&(s[t[1]]=r[t[0]+"Axis"].len-s[t[0]]),0!==s[t[1]]&&(s[t[0]]>=r[t[0]+"Axis"].len||s[t[0]]+s[t[1]]<=l)){for(var e in s)s[e]="y"===e?-9999:0;i.outside3dPlot=!0}}),"roundedRect"===i.shapeType&&(i.shapeType="cuboid"),i.shapeArgs=c(s,{z:h,depth:n,insidePlotArea:!0}),e={x:s.x+s.width/2,y:s.y,z:h+n/2},a.inverted&&(e.x=s.height,e.y=i.clientX||0),i.plot3d=p([e],a,!0,!1)[0],t&&(t=p([{x:t[0],y:t[1],z:h+n/2}],a,!0,!1)[0],i.tooltipPos=[t.x,t.y]))}),r.z=h},o(a,"animate",function(t){var e,i,s;this.chart.is3d()?(e=this.yAxis,s=(i=this).yAxis.reversed,arguments[1]?i.data.forEach(function(t){null!==t.y&&(t.height=t.shapeArgs.height,t.shapey=t.shapeArgs.y,t.shapeArgs.height=1,s||(t.stackY?t.shapeArgs.y=t.plotY+e.translate(t.stackY):t.shapeArgs.y=t.plotY+(t.negative?-t.height:t.height)))}):(i.data.forEach(function(t){null!==t.y&&(t.shapeArgs.height=t.height,t.shapeArgs.y=t.shapey,t.graphic&&t.graphic[t.outside3dPlot?"attr":"animate"](t.shapeArgs,i.options.animation))}),this.drawDataLabels())):t.apply(this,[].slice.call(arguments,1))}),o(a,"plotGroup",function(t,e,i,s,o,r){return"dataLabelsGroup"!==e&&"markerGroup"!==e&&this.chart.is3d()&&(this[e]&&delete this[e],r&&(this.chart.columnGroup||(this.chart.columnGroup=this.chart.renderer.g("columnGroup").add(r)),this[e]=this.chart.columnGroup,this.chart.columnGroup.attr(this.getPlotBox()),this[e].survive=!0,"group"===e&&(arguments[3]="visible"))),t.apply(this,Array.prototype.slice.call(arguments,1))}),o(a,"setVisible",function(t,e){var i=this;i.chart.is3d()&&i.data.forEach(function(t){t.visible=t.options.visible=e=void 0===e?!x(i.visible,t.visible):e,i.options.data[i.data.indexOf(t)]=t.options,t.graphic&&t.graphic.attr({visibility:e?"visible":"hidden"})}),t.apply(this,Array.prototype.slice.call(arguments,1))}),i(t,"afterInit",function(){if(this.chart.is3d()){var t=this.options,e=t.grouping,i=t.stacking,s=this.yAxis.options.reversedStacks,o=0;if(void 0===e||e){e=this.chart,h=i,p=e.series,c={totalStacks:0},d=1,p.forEach(function(t){l=x(t.options.stack,h?0:p.length-1-t.index),c[l]?c[l].series.push(t):(c[l]={series:[t],position:d},d++)}),c.totalStacks=d+1;for(var r=c,a=t.stack||0,n=void 0,n=0;n<r[a].series.length&&r[a].series[n]!==this;n++);o=10*(r.totalStacks-r[a].position)+(s?n:-n),this.xAxis.reversed||(o=10*r.totalStacks-o)}t.depth=t.depth||25,this.z=this.z||0,t.zIndex=o}var h,l,p,c,d}),o(a,"pointAttribs",n),o(a,"setState",h),o(a.pointClass.prototype,"hasNewShapeType",l),r.seriesTypes.columnRange&&(o(i=r.seriesTypes.columnrange.prototype,"pointAttribs",n),o(i,"setState",h),o(i.pointClass.prototype,"hasNewShapeType",l),i.plotGroup=a.plotGroup,i.setVisible=a.setVisible),o(e.prototype,"alignDataLabel",function(t,e,i,s,o){var r,a,n,h=this.chart;s.outside3dPlot=e.outside3dPlot,h.is3d()&&this.is("column")&&(n=this.options,s=x(s.inside,!!this.options.stacking),r=h.options.chart.options3d,a=e.pointWidth/2||0,n={x:o.x+a,y:o.y,z:this.z+n.depth/2},h.inverted&&(s&&(o.width=0,n.x+=e.shapeArgs.height/2),90<=r.alpha&&r.alpha<=270&&(n.y+=e.shapeArgs.width)),n=p([n],h,!0,!1)[0],o.x=n.x-a,o.y=e.outside3dPlot?-9e9:n.y),t.apply(this,[].slice.call(arguments,1))}),o(s.prototype,"getStackBox",function(t,e){var i,s,t=t.apply(this,[].slice.call(arguments,1)),o=this.axis.chart,e=e.width;return o.is3d()&&this.base&&(s=+this.base.split(",")[0],s=o.series[s],i=o.options.chart.options3d,s&&s instanceof r.seriesTypes.column&&(s={x:t.x+(o.inverted?t.height:e/2),y:t.y,z:s.options.depth/2},o.inverted&&(t.width=0,90<=i.alpha&&i.alpha<=270&&(s.y+=e)),s=p([s],o,!0,!1)[0],t.x=s.x-e/2,t.y=s.y)),t}),t}),e(t,"Series/Pie3D/Pie3DPoint.js",[t["Core/Series/SeriesRegistry.js"]],function(t){var s,e,i=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),t=t.seriesTypes.pie.prototype.pointClass,o=t.prototype.haloPath;function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.series=void 0,t}return i(r,e=t),r.prototype.haloPath=function(){var t;return null!=(t=this.series)&&t.chart.is3d()?[]:o.apply(this,arguments)},r}),e(t,"Series/Pie3D/Pie3DSeries.js",[t["Core/Globals.js"],t["Series/Pie3D/Pie3DPoint.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i,s){var o,l,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),p=t.deg2rad,t=i.seriesTypes.pie,i=s.extend,a=s.pick,s=(r(n,l=t),n.prototype.addPoint=function(){l.prototype.addPoint.apply(this,arguments),this.chart.is3d()&&this.update(this.userOptions,!0)},n.prototype.animate=function(t){var e,i,s,o,r;this.chart.is3d()?(e=this.options.animation,s=this.center,o=this.group,r=this.markerGroup,!(i=void 0)===e&&(e={}),t?(o.oldtranslateX=a(o.oldtranslateX,o.translateX),o.oldtranslateY=a(o.oldtranslateY,o.translateY),i={translateX:s[0],translateY:s[1],scaleX:.001,scaleY:.001},o.attr(i),r&&(r.attrSetters=o.attrSetters,r.attr(i))):(i={translateX:o.oldtranslateX,translateY:o.oldtranslateY,scaleX:1,scaleY:1},o.animate(i,e),r&&r.animate(i,e))):l.prototype.animate.apply(this,arguments)},n.prototype.drawDataLabels=function(){var h;this.chart.is3d()&&(h=this.chart.options.chart.options3d,this.data.forEach(function(t){var e=t.shapeArgs,i=e.r,s=(e.alpha||h.alpha)*p,o=(e.beta||h.beta)*p,e=(e.start+e.end)/2,t=t.labelPosition,r=t.connectorPosition,a=-i*(1-Math.cos(s))*Math.sin(e),n=i*(Math.cos(o)-1)*Math.cos(e);[t.natural,r.breakAt,r.touchingSliceAt].forEach(function(t){t.x+=n,t.y+=a})})),l.prototype.drawDataLabels.apply(this,arguments)},n.prototype.pointAttribs=function(t){var e=l.prototype.pointAttribs.apply(this,arguments),i=this.options;return this.chart.is3d()&&!this.chart.styledMode&&(e.stroke=i.edgeColor||t.color||this.color,e["stroke-width"]=a(i.edgeWidth,1)),e},n.prototype.translate=function(){var i,s,o,t,r,a,n;l.prototype.translate.apply(this,arguments),this.chart.is3d()&&(s=(i=this).options,o=s.depth||0,t=i.chart.options.chart.options3d,r=t.alpha,a=t.beta,n=s.stacking?(s.stack||0)*o:i._i*o,n+=o/2,!1!==s.grouping&&(n=0),i.data.forEach(function(t){var e=t.shapeArgs;t.shapeType="arc3d",e.z=n,e.depth=.75*o,e.alpha=r,e.beta=a,e.center=i.center,e=(e.end+e.start)/2,t.slicedTranslation={translateX:Math.round(Math.cos(e)*s.slicedOffset*Math.cos(r*p)),translateY:Math.round(Math.sin(e)*s.slicedOffset*Math.cos(r*p))}}))},n.prototype.drawTracker=function(){l.prototype.drawTracker.apply(this,arguments),this.chart.is3d()&&this.points.forEach(function(e){e.graphic&&["out","inn","side1","side2"].forEach(function(t){e.graphic&&(e.graphic[t].element.point=e)})})},n);function n(){return null!==l&&l.apply(this,arguments)||this}return i(s.prototype,{pointClass:e}),s}),e(t,"Series/Pie3D/Pie3DComposition.js",[t["Series/Pie3D/Pie3DPoint.js"],t["Series/Pie3D/Pie3DSeries.js"],t["Core/Series/SeriesRegistry.js"]],function(t,e,i){i.seriesTypes.pie.prototype.pointClass.prototype.haloPath=t.prototype.haloPath,i.seriesTypes.pie=e}),e(t,"Series/Scatter3D/Scatter3DPoint.js",[t["Series/Scatter/ScatterSeries.js"],t["Core/Utilities.js"]],function(t,e){var s,i,o=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=e.defined;function a(){var t=null!==i&&i.apply(this,arguments)||this;return t.options=void 0,t.series=void 0,t}return i=t.prototype.pointClass,o(a,i),a.prototype.applyOptions=function(){return i.prototype.applyOptions.apply(this,arguments),r(this.z)||(this.z=0),this},a}),e(t,"Series/Scatter3D/Scatter3DSeries.js",[t["Core/Math3D.js"],t["Series/Scatter3D/Scatter3DPoint.js"],t["Series/Scatter/ScatterSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i,s,o){var r,a,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),h=t.pointCameraDistance,t=o.extend,o=o.merge,n=(n(l,a=i),l.prototype.pointAttribs=function(t){var e=a.prototype.pointAttribs.apply(this,arguments);return this.chart.is3d()&&t&&(e.zIndex=h(t,this.chart)),e},l.defaultOptions=o(i.defaultOptions,{tooltip:{pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>"}}),l);function l(){var t=null!==a&&a.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return t(n.prototype,{axisTypes:["xAxis","yAxis","zAxis"],directTouch:!0,parallelArrays:["x","y","z"],pointArrayMap:["x","y","z"],pointClass:e}),s.registerSeriesType("scatter3d",n),n}),e(t,"masters/highcharts-3d.src.js",[t["Core/Globals.js"],t["Core/Renderer/SVG/SVGRenderer3D.js"],t["Core/Chart/Chart3D.js"],t["Core/Axis/ZAxis.js"],t["Core/Axis/Axis3DComposition.js"],t["Series/Area3D/Area3DSeries.js"]],function(t,e,i,s,o,r){e.compose(t.SVGRenderer),i.compose(t.Chart,t.Fx),s.compose(t.Chart),o.compose(t.Axis,t.Tick),r.compose(t.seriesTypes.area)})});