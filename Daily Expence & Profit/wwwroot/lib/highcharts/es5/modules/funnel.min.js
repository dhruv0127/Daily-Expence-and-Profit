"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/funnel",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,i,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t=t?t._modules:{},"Series/Funnel/FunnelSeries.js",[t["Core/Chart/Chart.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,l,i){var o,n,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),O=e.noop,u=l.series,a=l.seriesTypes.pie,s=(e=i.addEvent,i.extend),C=i.fireEvent,c=i.isArray,p=i.merge,S=i.pick;function d(){var t=null!==n&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return r(d,n=a),d.prototype.alignDataLabel=function(t,e,i,o,n){o=(p=t.series).options.reversed;var r=t.dlBox||t.shapeArgs,a=i.align,s=i.verticalAlign,l=((p.options||{}).dataLabels||{}).inside,c=p.center[1],p=p.getWidthAt((o?2*c-t.plotY:t.plotY)-r.height/2+e.height),c=(p="middle"===s?(r.topWidth-r.bottomWidth)/4:(p-r.bottomWidth)/2,r.y),d=r.x,h=S(e.height,e.getBBox().height);"middle"===s?c=r.y-r.height/2+h/2:"top"===s&&(c=r.y-r.height+h+i.padding),("top"===s&&!o||"bottom"===s&&o||"middle"===s)&&("right"===a?d=r.x-i.padding+p:"left"===a&&(d=r.x+i.padding-p)),o={x:d,y:o?c-r.height:c,width:r.bottomWidth,height:r.height},i.verticalAlign="bottom",l&&!t.visible||u.prototype.alignDataLabel.call(this,t,e,i,o,n),l&&(!t.visible&&t.dataLabel&&(t.dataLabel.placed=!1),t.contrastColor&&e.css({color:t.contrastColor}))},d.prototype.drawDataLabels=function(){var t,e=this.data,i=this.options.dataLabels.distance,o=e.length;for(this.center[2]-=2*i;o--;){var n=e[o],r=(t=n.half)?1:-1,a=n.plotY,s=(n.labelDistance=S(n.options.dataLabels&&n.options.dataLabels.distance,i),this.maxLabelDistance=Math.max(n.labelDistance,this.maxLabelDistance||0),this.getX(a,t,n));n.labelPosition={natural:{x:0,y:a},computed:{},alignment:t?"right":"left",connectorPosition:{breakAt:{x:s+(n.labelDistance-5)*r,y:a},touchingSliceAt:{x:s+n.labelDistance*r,y:a}}}}l.seriesTypes[this.options.dataLabels.inside?"column":"pie"].prototype.drawDataLabels.call(this)},d.prototype.translate=function(){function t(t,e){return/%$/.test(t)?e*parseInt(t,10)/100:parseInt(t,10)}var e,i,o,n,r,a,s,l,c,p=0,d=this,h=d.chart,u=d.options,f=u.reversed,g=u.ignoreHiddenPoint,y=h.plotWidth,h=h.plotHeight,b=0,v=u.center,m=t(v[0],y),L=t(v[1],h),x=t(u.width,y),_=t(u.height,h),w=t(u.neckWidth,y),A=t(u.neckHeight,h),j=L-_/2+_-A,y=d.data,W="left"===u.dataLabels.position?1:0;d.getWidthAt=function(t){return j<t||_===A?w:w+(x-w)*(1-(t-(L-_/2))/(_-A))},d.getX=function(t,e,i){return m+(e?-1:1)*(d.getWidthAt(f?2*L-t:t)/2+i.labelDistance)},d.center=[m,L,_],d.centerX=m,y.forEach(function(t){!t.y||!t.isValid()||g&&!1===t.visible||(p+=t.y)}),y.forEach(function(t){c=null,i=p?t.y/p:0,s=(n=L-_/2+b*_)+i*_,e=d.getWidthAt(n),r=(o=m-e/2)+e,e=d.getWidthAt(s),l=(a=m-e/2)+e,j<n?(o=a=m-w/2,r=l=m+w/2):j<s&&(c=s,e=d.getWidthAt(j),l=(a=m-e/2)+e,s=j),f&&(n=2*L-n,s=2*L-s,null!==c&&(c=2*L-c)),e=[["M",o,n],["L",r,n],["L",l,s]],null!==c&&e.push(["L",l,c],["L",a,c]),e.push(["L",a,s],["Z"]),t.shapeType="path",t.shapeArgs={d:e},t.percentage=100*i,t.plotX=m,t.plotY=(n+(c||s))/2,t.tooltipPos=[m,t.plotY],t.dlBox={x:a,y:n,topWidth:r-o,bottomWidth:l-a,height:Math.abs(S(c,s)-n),width:NaN},t.slice=O,t.half=W,!t.isValid()||g&&!1===t.visible||(b+=i)}),C(d,"afterTranslate")},d.prototype.sortByAngle=function(t){t.sort(function(t,e){return t.plotY-e.plotY})},d.defaultOptions=p(a.defaultOptions,{animation:!1,center:["50%","50%"],width:"90%",neckWidth:"30%",height:"100%",neckHeight:"25%",reversed:!1,size:!0,dataLabels:{connectorWidth:1,verticalAlign:"middle"},states:{select:{color:"#cccccc",borderColor:"#000000"}}}),s((i=d).prototype,{animate:O}),e(t,"afterHideAllOverlappingLabels",function(){this.series.forEach(function(t){var e=t.options&&t.options.dataLabels;c(e)&&(e=e[0]),t.is("pie")&&t.placeDataLabels&&e&&!e.inside&&t.placeDataLabels()})}),l.registerSeriesType("funnel",i),i}),e(t,"Series/Pyramid/PyramidSeries.js",[t["Series/Funnel/FunnelSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i){var o,n,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=i.merge;function s(){var t=null!==n&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return r(s,n=t),s.defaultOptions=a(t.defaultOptions,{neckWidth:"0%",neckHeight:"0%",reversed:!0}),e.registerSeriesType("pyramid",i=s),i}),e(t,"masters/modules/funnel.src.js",[],function(){})});