"use strict";!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/modules/broken-axis",["highcharts"],function(i){return t(i),t.Highcharts=i,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(i){function t(i,t,s,n){i.hasOwnProperty(t)||(i[t]=n.apply(null,s),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:i[t]}})))}t(i=i?i._modules:{},"Core/Axis/BrokenAxis.js",[i["Core/Axis/Stacking/StackItem.js"],i["Core/Utilities.js"]],function(o,n){var i,t,e,s,r=n.addEvent,a=n.find,k=n.fireEvent,f=n.isArray,p=n.isNumber,v=n.pick;function h(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function u(){this.brokenAxis&&this.brokenAxis.hasBreaks&&(this.options.ordinal=!1)}function c(){var i=this.brokenAxis;if(i&&i.hasBreaks){for(var t=this.tickPositions,s=this.tickPositions.info,n=[],e=0;e<t.length;e++)i.isInAnyBreak(t[e])||n.push(t[e]);this.tickPositions=n,this.tickPositions.info=s}}function l(){this.brokenAxis||(this.brokenAxis=new s(this))}function x(){var i=this.options.connectNulls,t=this.points,s=this.xAxis,n=this.yAxis;if(this.isDirty)for(var e=t.length;e--;){var r=t[e],o=!(null===r.y&&!1===i)&&(s&&s.brokenAxis&&s.brokenAxis.isInAnyBreak(r.x,!0)||n&&n.brokenAxis&&n.brokenAxis.isInAnyBreak(r.y,!0));r.visible=!o&&!1!==r.options.visible}}function m(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,v(this.pointArrayMap,["y"]))}function A(s,i){var n,e,r,o,t,a=this,f=a.points;s&&s.brokenAxis&&s.brokenAxis.hasBreaks&&(t=s.brokenAxis,i.forEach(function(i){n=t&&t.breakArray||[],e=s.isXAxis?s.min:v(a.options.threshold,s.min),f.forEach(function(t){o=v(t["stack"+i.toUpperCase()],t[i]),n.forEach(function(i){p(e)&&p(o)&&(r=!1,e<i.from&&o>i.to||e>i.from&&o<i.from?r="pointBreak":(e<i.from&&o>i.from&&o<i.to||e>i.from&&o>i.to&&o<i.from)&&(r="pointInBreak"),r&&k(s,r,{point:t,brk:i}))})})}))}function d(){var i,t=(s=this.currentDataGrouping)&&s.gapSize,s=this.points.slice(),n=this.yAxis,e=this.options.gapSize,r=s.length-1;if(e&&0<r)for("value"!==this.options.gapUnit&&(e*=this.basePointRange),t&&e<t&&t>=this.basePointRange&&(e=t),i=void 0;r--;)i&&!1!==i.visible||(i=s[r+1]),t=s[r],!1!==i.visible&&!1!==t.visible&&(i.x-t.x>e&&(i=(t.x+i.x)/2,s.splice(r+1,0,{isNull:!0,x:i}),n.stacking&&this.options.stacking&&((i=n.stacking.stacks[this.stackKey][i]=new o(n,n.options.stackLabels,!1,i,this.stack)).total=0)),i=t);return this.getGraphPath(s)}function b(i){this.hasBreaks=!1,this.axis=i}return t=i=i||{},e=[],t.compose=function(i,t){var s;return n.pushUnique(e,i)&&(i.keepProps.push("brokenAxis"),r(i,"init",l),r(i,"afterInit",h),r(i,"afterSetTickPositions",c),r(i,"afterSetOptions",u)),n.pushUnique(e,t)&&((s=t.prototype).drawBreaks=A,s.gappedPath=d,r(t,"afterGeneratePoints",x),r(t,"afterRender",m)),i},b.isInBreak=function(i,t){var s=i.repeat||1/0,n=i.from,e=i.to-i.from;return t=n<=t?(t-n)%s:s-(n-t)%s,i.inclusive?t<=e:t<e&&0!==t},b.lin2Val=function(i){var t,s=this.brokenAxis;if(!(s=s&&s.breakArray)||!p(i))return i;for(t=0;t<s.length;t++){var n=s[t];if(n.from>=i)break;(n.to<i||b.isInBreak(n,i))&&(i+=n.len)}return i},b.val2Lin=function(i){var t=this.brokenAxis;if(!(t=t&&t.breakArray)||!p(i))return i;for(var s=i,n=0;n<t.length;n++){var e=t[n];if(e.to<=i)s-=e.len;else{if(e.from>=i)break;if(b.isInBreak(e,i)){s-=i-e.from;break}}}return s},b.prototype.findBreakAt=function(t,i){return a(i,function(i){return i.from<t&&t<i.to})},b.prototype.isInAnyBreak=function(i,t){var s,n,e=this.axis,r=e.options.breaks||[],o=r.length;if(o&&p(i)){for(;o--;)b.isInBreak(r[o],i)&&(s=!0,n=n||v(r[o].showPoints,!e.isXAxis));var a=s&&t?s&&!n:s}return a},b.prototype.setBreaks=function(i,t){var c=this,l=c.axis,s=f(i)&&!!i.length;l.isDirty=c.hasBreaks!==s,c.hasBreaks=s,l.options.breaks=l.userOptions.breaks=i,l.forceRedraw=!0,l.series.forEach(function(i){i.isDirty=!0}),s||l.val2lin!==b.val2Lin||(delete l.val2lin,delete l.lin2val),s&&(l.userOptions.ordinal=!1,l.lin2val=b.lin2Val,l.val2lin=b.val2Lin,l.setExtremes=function(i,t,s,n,e){if(c.hasBreaks){for(var r,o=this.options.breaks||[];r=c.findBreakAt(i,o);)i=r.to;for(;r=c.findBreakAt(t,o);)t=r.from;t<i&&(t=i)}l.constructor.prototype.setExtremes.call(this,i,t,s,n,e)},l.setAxisTranslation=function(){var i,t,s,n,e,r,o,a,f,h,u;l.constructor.prototype.setAxisTranslation.call(this),c.unitLength=void 0,c.hasBreaks&&(i=l.options.breaks||[],t=[],s=[],n=v(l.pointRangePadding,0),e=0,o=l.userMin||l.min,a=l.userMax||l.max,i.forEach(function(i){r=i.repeat||1/0,p(o)&&p(a)&&(b.isInBreak(i,o)&&(o+=i.to%r-o%r),b.isInBreak(i,a)&&(a-=a%r-i.from%r))}),i.forEach(function(i){if(u=i.from,r=i.repeat||1/0,p(o)&&p(a)){for(;o<u-r;)u-=r;for(;u<o;)u+=r;for(f=u;f<a;f+=r)t.push({value:f,move:"in"}),t.push({value:f+i.to-i.from,move:"out",size:i.breakSize})}}),t.sort(function(i,t){return i.value===t.value?("in"===i.move?0:1)-("in"===t.move?0:1):i.value-t.value}),h=0,u=o,t.forEach(function(i){1===(h+="in"===i.move?1:-1)&&"in"===i.move&&(u=i.value),0===h&&p(u)&&(s.push({from:u,to:i.value,len:i.value-u-(i.size||0)}),e+=i.value-u-(i.size||0))}),c.breakArray=s,p(o)&&p(a)&&p(l.min)&&(c.unitLength=a-o-e+n,k(l,"afterBreaks"),l.staticScale?l.transA=l.staticScale:c.unitLength&&(l.transA*=(a-l.min+n)/c.unitLength),n&&(l.minPixelPadding=l.transA*(l.minPointOffset||0)),l.min=o,l.max=a))}),v(t,!0)&&l.chart.redraw()},s=b,t.Additions=s,i}),t(i,"masters/modules/broken-axis.src.js",[i["Core/Globals.js"],i["Core/Axis/BrokenAxis.js"]],function(i,t){t.compose(i.Axis,i.Series)})});