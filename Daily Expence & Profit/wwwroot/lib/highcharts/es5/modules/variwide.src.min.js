!function(i){"object"==typeof module&&module.exports?module.exports=i.default=i:"function"==typeof define&&define.amd?define("highcharts/modules/variwide",["highcharts"],function(t){return i(t),i.Highcharts=t,i}):i("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function i(t,i,s,e){t.hasOwnProperty(i)||(t[i]=e.apply(null,s),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:i,module:t[i]}})))}i(t,"Series/Variwide/VariwideComposition.js",[t["Core/Utilities.js"]],function(s){var e=s.addEvent,o=s.wrap,r=[];function n(t){this.variwide&&this.cross&&this.cross.attr("stroke-width",t.point&&t.point.crosshairWidth)}function a(){var s=this;!this.horiz&&this.variwide&&this.chart.labelCollectors.push(function(){return s.tickPositions.filter(function(t){return s.ticks[t].label}).map(function(t,i){t=s.ticks[t].label;return t.labelrank=s.zData[i],t})})}function p(t){var i=this.axis,s=i.horiz?"x":"y";i.variwide&&(this[s+"Orig"]=t.pos[s],this.postTranslate(t.pos,s,this.pos))}function h(t,i,s){var e=this.axis,o=t[i]-e.pos;e.horiz||(o=e.len-o),o=e.series[0].postTranslate(s,o),e.horiz||(o=e.len-o),t[i]=e.pos+o}function c(t,i,s,e,o,r,n,a){var p=Array.prototype.slice.call(arguments,1),h=o?"x":"y",o=(this.axis.variwide&&"number"==typeof this[h+"Orig"]&&(p[o?0:1]=this[h+"Orig"]),t.apply(this,p));return this.axis.variwide&&this.axis.categories&&this.postTranslate(o,h,this.pos),o}return{compose:function(t,i){s.pushUnique(r,t)&&(e(t,"afterDrawCrosshair",n),e(t,"afterRender",a)),s.pushUnique(r,i)&&(e(i,"afterGetPosition",p),(t=i.prototype).postTranslate=h,o(t,"getLabelPosition",c))}}}),i(t,"Series/Variwide/VariwidePoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,i){var e,s,o=this&&this.__extends||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var s in i)i.hasOwnProperty(s)&&(t[s]=i[s])})(t,i)},function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}),t=t.seriesTypes.column.prototype.pointClass,r=i.isNumber;function n(){var t=null!==s&&s.apply(this,arguments)||this;return t.crosshairWidth=void 0,t.options=void 0,t.series=void 0,t}return o(n,s=t),n.prototype.isValid=function(){return r(this.y)&&r(this.z)},n}),i(t,"Series/Variwide/VariwideSeries.js",[t["Core/Series/SeriesRegistry.js"],t["Series/Variwide/VariwideComposition.js"],t["Series/Variwide/VariwidePoint.js"],t["Core/Utilities.js"]],function(i,t,s,e){var o,r,n=this&&this.__extends||(o=function(t,i){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var s in i)i.hasOwnProperty(s)&&(t[s]=i[s])})(t,i)},function(t,i){function s(){this.constructor=t}o(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}),a=i.seriesTypes.column,p=e.addEvent,h=e.extend,c=e.merge,d=e.pick,e=(n(l,r=a),l.prototype.processData=function(t){this.totalZ=0,this.relZ=[],i.seriesTypes.column.prototype.processData.call(this,t),(this.xAxis.reversed?this.zData.slice().reverse():this.zData).forEach(function(t,i){this.relZ[i]=this.totalZ,this.totalZ+=t},this),this.xAxis.categories&&(this.xAxis.variwide=!0,this.xAxis.zData=this.zData)},l.prototype.postTranslate=function(t,i,s){var e=this.xAxis,o=this.relZ,t=e.reversed?o.length-t:t,r=e.reversed?-1:1,n=e.toPixels(e.reversed?(e.dataMax||0)+e.pointRange:e.dataMin||0),a=e.toPixels(e.reversed?e.dataMin||0:(e.dataMax||0)+e.pointRange),p=Math.abs(a-n),h=this.totalZ,a=this.chart.inverted?a-(this.chart.plotTop-r*e.minPixelPadding):n-this.chart.plotLeft-r*e.minPixelPadding,n=t/o.length*p,e=(t+r)/o.length*p,c=d(o[t],h)/h*p,o=d(o[t+r],h)/h*p,t=i-(a+n);return s&&(s.crosshairWidth=o-c),a+c+t*(o-c)/(e-n)},l.prototype.translate=function(){this.crispOption=this.options.crisp,this.options.crisp=!1,r.prototype.translate.call(this),this.options.crisp=this.crispOption},l.prototype.correctStackLabels=function(){for(var t=this,i=t.options,s=t.yAxis,e=0,o=t.points;e<o.length;e++){var r,n=o[e],a=n.x,p=n.shapeArgs.width;(r=s.stacking.stacks[(t.negStacks&&n.y<(i.startFromThreshold?0:i.threshold)?"-":"")+t.stackKey])&&(r=r[a])&&!n.isNull&&r.setOffset(-p/2||0,p||0,void 0,void 0,n.plotX,t.xAxis)}},l.compose=t.compose,l.defaultOptions=c(a.defaultOptions,{pointPadding:0,groupPadding:0}),l);function l(){var t=null!==r&&r.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t.relZ=void 0,t.totalZ=void 0,t.zData=void 0,t}return p(e,"afterColumnTranslate",function(){var h=this,c=this.xAxis,d=this.chart.inverted,l=this.borderWidth%2/2;this.points.forEach(function(t,i){var s,e=t.shapeArgs||{},o=e.x,o=void 0===o?0:o,r=e.width,r=void 0===r?0:r,n=t.plotX,n=void 0===n?0:n,a=t.tooltipPos,p=t.z,p=void 0===p?0:p,i=c.variwide?(s=h.postTranslate(i,o,t),h.postTranslate(i,o+r)):(s=n,c.translate(t.x+p,!1,!1,!1,!0));h.crispOption&&(s=Math.round(s)-l,i=Math.round(i)-l),e.x=s,e.width=Math.max(i-s,1),t.plotX=(s+i)/2,a&&(d?a[1]=c.len-e.x-e.width/2:a[0]=e.x+e.width/2)}),this.options.stacking&&this.correctStackLabels()},{order:2}),h(e.prototype,{irregularWidths:!0,pointArrayMap:["y","z"],parallelArrays:["x","y","z"],pointClass:s}),i.registerSeriesType("variwide",e),e}),i(t,"masters/modules/variwide.src.js",[t["Core/Globals.js"],t["Series/Variwide/VariwideSeries.js"]],function(t,i){i.compose(t.Axis,t.Tick)})});