!function(o){"object"==typeof module&&module.exports?module.exports=o.default=o:"function"==typeof define&&define.amd?define("highcharts/modules/windbarb",["highcharts"],function(t){return o(t),o.Highcharts=t,o}):o("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function o(t,o,e,i){t.hasOwnProperty(o)||(t[o]=i.apply(null,e),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:o,module:t[o]}})))}o(t,"Extensions/DataGrouping/ApproximationRegistry.js",[],function(){return{}}),o(t,"Series/OnSeriesComposition.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(t,o,e){var i,r,x=t.prototype,n=o.prototype,S=e.defined,j=e.stableSort;function s(t){return n.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this,t)}function a(){x.translate.apply(this);var t,i,o,e,r,n,s=this,a=s.options,p=s.chart,l=s.points,u=a.onSeries,u=u&&p.get(u),h=u&&u.options.step,c=u&&u.points,f=p.inverted,d=s.xAxis,y=s.yAxis,b=l.length-1,g=a.onKey||"y",v=c&&c.length,m=0;if(u&&u.visible&&v)for(m=(u.pointXOffset||0)+(u.barW||0)/2,p=u.currentDataGrouping,e=c[v-1].x+(p?p.totalRange:0),j(l,function(t,o){return t.x-o.x}),g="plot"+g[0].toUpperCase()+g.substr(1);v--&&l[b]&&(o=c[v],(t=l[b]).y=o.y,!(o.x<=t.x&&void 0!==o[g]&&(t.x<=e&&(t.plotY=o[g],o.x<t.x&&!h&&(r=c[v+1])&&void 0!==r[g]&&(n=(t.x-o.x)/(r.x-o.x),t.plotY+=n*(r[g]-o[g]),t.y+=n*(r.y-o.y))),v++,--b<0))););l.forEach(function(t,o){var e;t.plotX+=m,void 0!==t.plotY&&!f||(0<=t.plotX&&t.plotX<=d.len?f?(t.plotY=d.translate(t.x,0,1,0,1),t.plotX=S(t.y)?y.translate(t.y,0,0,0,1):0):t.plotY=(d.opposite?0:s.yAxis.len)+d.offset:t.shapeArgs={}),(i=l[o-1])&&i.plotX===t.plotX&&(void 0===i.stackIndex&&(i.stackIndex=0),e=i.stackIndex+1),t.stackIndex=e}),this.onSeries=u}return t=i=i||{},r=[],t.compose=function(t){var o;return e.pushUnique(r,t)&&((o=t.prototype).getPlotBox=s,o.translate=a),t},t.getPlotBox=s,t.translate=a,i}),o(t,"Series/Windbarb/WindbarbPoint.js",[t["Core/Utilities.js"],t["Series/Column/ColumnSeries.js"]],function(t,o){var i,e,r=this&&this.__extends||(i=function(t,o){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(t,o)},function(t,o){function e(){this.constructor=t}i(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}),n=t.isNumber;function s(){var t=null!==e&&e.apply(this,arguments)||this;return t.beaufort=void 0,t.beaufortLevel=void 0,t.direction=void 0,t.options=void 0,t.series=void 0,t}return e=o.prototype.pointClass,r(s,e),s.prototype.isValid=function(){return n(this.value)&&0<=this.value},s}),o(t,"Series/Windbarb/WindbarbSeries.js",[t["Core/Animation/AnimationUtilities.js"],t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Core/Globals.js"],t["Series/OnSeriesComposition.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"],t["Series/Windbarb/WindbarbPoint.js"]],function(t,o,s,r,e,i,n){var a,p,l=this&&this.__extends||(a=function(t,o){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(t,o)},function(t,o){function e(){this.constructor=t}a(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}),u=t.animObject,h=e.series,t=e.seriesTypes.column,c=i.extend,f=i.merge,d=i.pick,i=(l(y,p=t),y.registerApproximation=function(){o.windbarb||(o.windbarb=function(t,o){for(var e=0,i=0,r=t.length,n=0;n<r;n++)e+=t[n]*Math.cos(o[n]*s.deg2rad),i+=t[n]*Math.sin(o[n]*s.deg2rad);return[t.reduce(function(t,o){return t+o},0)/t.length,Math.atan2(i,e)/s.deg2rad]})},y.prototype.init=function(t,o){y.registerApproximation(),h.prototype.init.call(this,t,o)},y.prototype.pointAttribs=function(t,o){var e=this.options,t=t.color||this.color,i=this.options.lineWidth;return o&&(t=e.states[o].color||t,i=(e.states[o].lineWidth||i)+(e.states[o].lineWidthPlus||0)),{stroke:t,"stroke-width":i}},y.prototype.windArrow=function(t){var o,e,i=1.943844*t.value,r=t.beaufortLevel,n=this.options.vectorLength/20,s=-10;if(t.isNull)return[];if(0===r)return this.chart.renderer.symbols.circle(-10*n,-10*n,20*n,20*n);if(o=[["M",0,7*n],["L",-1.5*n,7*n],["L",0,10*n],["L",1.5*n,7*n],["L",0,7*n],["L",0,-10*n]],0<(e=(i-i%50)/50))for(;e--;)o.push(-10===s?["L",0,s*n]:["M",0,s*n],["L",5*n,s*n+2],["L",0,s*n+4]),i-=50,s+=7;if(0<(e=(i-i%10)/10))for(;e--;)o.push(-10===s?["L",0,s*n]:["M",0,s*n],["L",7*n,s*n]),i-=10,s+=3;if(0<(e=(i-i%5)/5))for(;e--;)o.push(-10===s?["L",0,s*n]:["M",0,s*n],["L",4*n,s*n]),i-=5,s+=3;return o},y.prototype.drawPoints=function(){var i=this.chart,r=this.yAxis,n=i.inverted,s=this.options.vectorLength/2;this.points.forEach(function(t){var o=t.plotX,e=t.plotY;!1===this.options.clip||i.isInsidePlot(o,0)?(t.graphic||(t.graphic=this.chart.renderer.path().add(this.markerGroup).addClass("highcharts-point highcharts-color-"+d(t.colorIndex,t.series.colorIndex))),t.graphic.attr({d:this.windArrow(t),translateX:o+this.options.xOffset,translateY:e+this.options.yOffset,rotation:t.direction}),this.chart.styledMode||t.graphic.attr(this.pointAttribs(t))):t.graphic&&(t.graphic=t.graphic.destroy()),t.tooltipPos=[o+this.options.xOffset+(n&&!this.onSeries?s:0),e+this.options.yOffset-(n?0:s+r.pos-i.plotTop)]},this)},y.prototype.animate=function(t){t?this.markerGroup.attr({opacity:.01}):this.markerGroup.animate({opacity:1},u(this.options.animation))},y.prototype.markerAttribs=function(t,o){return{}},y.prototype.getExtremes=function(){return{}},y.prototype.shouldShowTooltip=function(t,o,e){return(e=void 0===e?{}:e).ignoreX=this.chart.inverted,e.ignoreY=!e.ignoreX,p.prototype.shouldShowTooltip.call(this,t,o,e)},y.defaultOptions=f(t.defaultOptions,{dataGrouping:{enabled:!0,approximation:"windbarb",groupPixelWidth:30},lineWidth:2,onSeries:null,states:{hover:{lineWidthPlus:0}},tooltip:{pointFormat:'<span style="color:{point.color}">‚óè</span> {series.name}: <b>{point.value}</b> ({point.beaufort})<br/>'},vectorLength:20,colorKey:"value",yOffset:-20,xOffset:0}),y);function y(){var t=null!==p&&p.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return r.compose(i),c(i.prototype,{beaufortFloor:[0,.3,1.6,3.4,5.5,8,10.8,13.9,17.2,20.8,24.5,28.5,32.7],beaufortName:["Calm","Light air","Light breeze","Gentle breeze","Moderate breeze","Fresh breeze","Strong breeze","Near gale","Gale","Strong gale","Storm","Violent storm","Hurricane"],invertible:!1,parallelArrays:["x","value","direction"],pointArrayMap:["value","direction"],pointClass:n,trackerGroups:["markerGroup"],translate:function(){var e=this.beaufortFloor,i=this.beaufortName;r.translate.call(this),this.points.forEach(function(t){for(var o=0;o<e.length&&!(e[o]>t.value);o++);t.beaufortLevel=o-1,t.beaufort=i[o-1]})}}),i.registerApproximation(),e.registerSeriesType("windbarb",i),i}),o(t,"masters/modules/windbarb.src.js",[],function(){})});