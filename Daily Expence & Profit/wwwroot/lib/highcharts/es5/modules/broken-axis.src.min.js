!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/modules/broken-axis",["highcharts"],function(i){return t(i),t.Highcharts=i,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(i){"use strict";i=i?i._modules:{};function t(i,t,n,e){i.hasOwnProperty(t)||(i[t]=e.apply(null,n),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:i[t]}})))}t(i,"Core/Axis/BrokenAxis.js",[i["Core/Axis/Stacking/StackItem.js"],i["Core/Utilities.js"]],function(f,e){var i,s=e.addEvent,n=e.find,k=e.fireEvent,r=e.isArray,p=e.isNumber,v=e.pick,t=i=i||{},o=[];function a(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function u(){var i=this;i.brokenAxis&&i.brokenAxis.hasBreaks&&(i.options.ordinal=!1)}function h(){var i=this,t=i.brokenAxis;if(t&&t.hasBreaks){for(var n=i.tickPositions,e=i.tickPositions.info,s=[],r=0;r<n.length;r++)t.isInAnyBreak(n[r])||s.push(n[r]);i.tickPositions=s,i.tickPositions.info=e}}function c(){var i=this;i.brokenAxis||(i.brokenAxis=new A(i))}function l(){var i=this,t=i.isDirty,n=i.options.connectNulls,e=i.points,s=i.xAxis,r=i.yAxis;if(t)for(var o=e.length;o--;){var a=e[o],f=!(null===a.y&&!1===n)&&(s&&s.brokenAxis&&s.brokenAxis.isInAnyBreak(a.x,!0)||r&&r.brokenAxis&&r.brokenAxis.isInAnyBreak(a.y,!0));a.visible=!f&&!1!==a.options.visible}}function x(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,v(this.pointArrayMap,["y"]))}function m(n,i){var e,s,r,o,t,a=this,f=a.points;n&&n.brokenAxis&&n.brokenAxis.hasBreaks&&(t=n.brokenAxis,i.forEach(function(i){e=t&&t.breakArray||[],s=n.isXAxis?n.min:v(a.options.threshold,n.min),f.forEach(function(t){o=v(t["stack"+i.toUpperCase()],t[i]),e.forEach(function(i){p(s)&&p(o)&&(r=!1,s<i.from&&o>i.to||s>i.from&&o<i.from?r="pointBreak":(s<i.from&&o>i.from&&o<i.to||s>i.from&&o>i.to&&o<i.from)&&(r="pointInBreak"),r&&k(n,r,{point:t,brk:i}))})})}))}function d(){var i=this.currentDataGrouping,i=i&&i.gapSize,t=this.points.slice(),n=this.yAxis,e=this.options.gapSize,s=t.length-1;if(e&&0<s){"value"!==this.options.gapUnit&&(e*=this.basePointRange),i&&e<i&&i>=this.basePointRange&&(e=i);for(var r,o,a=void 0;s--;)a&&!1!==a.visible||(a=t[s+1]),r=t[s],!1!==a.visible&&!1!==r.visible&&(a.x-r.x>e&&(o=(r.x+a.x)/2,t.splice(s+1,0,{isNull:!0,x:o}),n.stacking&&this.options.stacking&&((n.stacking.stacks[this.stackKey][o]=new f(n,n.options.stackLabels,!1,o,this.stack)).total=0)),a=r)}return this.getGraphPath(t)}t.compose=function(i,t){var n;return e.pushUnique(o,i)&&(i.keepProps.push("brokenAxis"),s(i,"init",c),s(i,"afterInit",a),s(i,"afterSetTickPositions",h),s(i,"afterSetOptions",u)),e.pushUnique(o,t)&&((n=t.prototype).drawBreaks=m,n.gappedPath=d,s(t,"afterGeneratePoints",l),s(t,"afterRender",x)),i},b.isInBreak=function(i,t){var n=i.repeat||1/0,e=i.from,s=i.to-i.from,e=e<=t?(t-e)%n:n-(e-t)%n,t=i.inclusive?e<=s:e<s&&0!=e;return t},b.lin2Val=function(i){var t=this.brokenAxis,n=t&&t.breakArray;if(!n||!p(i))return i;for(var e,s=i,r=0;r<n.length&&!((e=n[r]).from>=s);r++)(e.to<s||b.isInBreak(e,s))&&(s+=e.len);return s},b.val2Lin=function(i){var t=this.brokenAxis,n=t&&t.breakArray;if(!n||!p(i))return i;for(var e,s=i,r=0;r<n.length;r++)if((e=n[r]).to<=i)s-=e.len;else{if(e.from>=i)break;if(b.isInBreak(e,i)){s-=i-e.from;break}}return s},b.prototype.findBreakAt=function(t,i){return n(i,function(i){return i.from<t&&t<i.to})},b.prototype.isInAnyBreak=function(i,t){var n,e,s,r=this.axis,o=r.options.breaks||[],a=o.length;if(a&&p(i)){for(;a--;)b.isInBreak(o[a],i)&&(n=!0,e=e||v(o[a].showPoints,!r.isXAxis));s=n&&t?n&&!e:n}return s},b.prototype.setBreaks=function(i,t){var c=this,l=c.axis,n=r(i)&&!!i.length;l.isDirty=c.hasBreaks!==n,c.hasBreaks=n,l.options.breaks=l.userOptions.breaks=i,l.forceRedraw=!0,l.series.forEach(function(i){i.isDirty=!0}),n||l.val2lin!==b.val2Lin||(delete l.val2lin,delete l.lin2val),n&&(l.userOptions.ordinal=!1,l.lin2val=b.lin2Val,l.val2lin=b.val2Lin,l.setExtremes=function(i,t,n,e,s){if(c.hasBreaks){for(var r=this.options.breaks||[],o=void 0;o=c.findBreakAt(i,r);)i=o.to;for(;o=c.findBreakAt(t,r);)t=o.from;t<i&&(t=i)}l.constructor.prototype.setExtremes.call(this,i,t,n,e,s)},l.setAxisTranslation=function(){var i,t,n,e,s,r,o,a,f,u,h;l.constructor.prototype.setAxisTranslation.call(this),c.unitLength=void 0,c.hasBreaks&&(i=l.options.breaks||[],t=[],n=[],e=v(l.pointRangePadding,0),s=0,a=l.userMin||l.min,f=l.userMax||l.max,i.forEach(function(i){o=i.repeat||1/0,p(a)&&p(f)&&(b.isInBreak(i,a)&&(a+=i.to%o-a%o),b.isInBreak(i,f)&&(f-=f%o-i.from%o))}),i.forEach(function(i){if(u=i.from,o=i.repeat||1/0,p(a)&&p(f)){for(;a<u-o;)u-=o;for(;u<a;)u+=o;for(h=u;h<f;h+=o)t.push({value:h,move:"in"}),t.push({value:h+i.to-i.from,move:"out",size:i.breakSize})}}),t.sort(function(i,t){return i.value===t.value?("in"===i.move?0:1)-("in"===t.move?0:1):i.value-t.value}),r=0,u=a,t.forEach(function(i){1===(r+="in"===i.move?1:-1)&&"in"===i.move&&(u=i.value),0===r&&p(u)&&(n.push({from:u,to:i.value,len:i.value-u-(i.size||0)}),s+=i.value-u-(i.size||0))}),c.breakArray=n,p(a)&&p(f)&&p(l.min)&&(c.unitLength=f-a-s+e,k(l,"afterBreaks"),l.staticScale?l.transA=l.staticScale:c.unitLength&&(l.transA*=(f-l.min+e)/c.unitLength),e&&(l.minPixelPadding=l.transA*(l.minPointOffset||0)),l.min=a,l.max=f))}),v(t,!0)&&l.chart.redraw()};var A=b;function b(i){this.hasBreaks=!1,this.axis=i}return t.Additions=A,i}),t(i,"masters/modules/broken-axis.src.js",[i["Core/Globals.js"],i["Core/Axis/BrokenAxis.js"]],function(i,t){t.compose(i.Axis,i.Series)})});