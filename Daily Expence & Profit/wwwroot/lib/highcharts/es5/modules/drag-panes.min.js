"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/drag-panes",["highcharts","highcharts/modules/stock"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,s,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,s),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t=t?t._modules:{},"Extensions/DragPanes/AxisResizerDefaults.js",[],function(){return{minLength:"10%",maxLength:"100%",resize:{controlledAxis:{next:[],prev:[]},enabled:!1,cursor:"ns-resize",lineColor:"#cccccc",lineDashStyle:"Solid",lineWidth:4,x:0,y:0}}}),e(t,"Extensions/DragPanes/AxisResizer.js",[t["Extensions/DragPanes/AxisResizerDefaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,e,s){var a=e.hasTouch,h=s.addEvent,x=s.clamp,g=s.isNumber,o=s.objectEach,y=s.relativeLength;return i.prototype.init=function(t,e){this.axis=t,this.options=t.options.resize,this.render(),e||this.addMouseEvents()},i.prototype.render=function(){var t=this.axis,e=t.chart,s=this.options,o=s.x||0,i=s.y,n=x(t.top+t.height+i,e.plotTop,e.plotTop+e.plotHeight),r={};e.styledMode||(r={cursor:s.cursor,stroke:s.lineColor,"stroke-width":s.lineWidth,dashstyle:s.lineDashStyle}),this.lastPos=n-i,this.controlLine||(this.controlLine=e.renderer.path().addClass("highcharts-axis-resizer")),this.controlLine.add(t.axisGroup),s=e.styledMode?this.controlLine.strokeWidth():s.lineWidth,r.d=e.renderer.crispLine([["M",t.left+o,n],["L",t.left+t.width+o,n]],s),this.controlLine.attr(r)},i.prototype.addMouseEvents=function(){var t,e,s,o=this,i=o.controlLine.element,n=o.axis.chart.container,r=[];o.mouseMoveHandler=t=function(t){o.onMouseMove(t)},o.mouseUpHandler=e=function(t){o.onMouseUp(t)},o.mouseDownHandler=s=function(t){o.onMouseDown(t)},r.push(h(n,"mousemove",t),h(n.ownerDocument,"mouseup",e),h(i,"mousedown",s)),a&&r.push(h(n,"touchmove",t),h(n.ownerDocument,"touchend",e),h(i,"touchstart",s)),o.eventsToUnbind=r},i.prototype.onMouseMove=function(t){t.touches&&0===t.touches[0].pageX||!this.grabbed||(this.hasDragged=!0,this.updateAxes(this.axis.chart.pointer.normalize(t).chartY-this.options.y))},i.prototype.onMouseUp=function(t){this.hasDragged&&this.updateAxes(this.axis.chart.pointer.normalize(t).chartY-this.options.y),this.grabbed=this.hasDragged=this.axis.chart.activeResizer=null},i.prototype.onMouseDown=function(t){this.axis.chart.pointer.reset(!1,0),this.grabbed=this.axis.chart.activeResizer=!0},i.prototype.updateAxes=function(r){var a=this,h=a.axis.chart,t=0===(e=a.options.controlledAxis).next.length?[h.yAxis.indexOf(a.axis)+1]:e.next,e=[a.axis].concat(e.prev),c=[],u=h.plotTop,p=h.plotHeight,d=u+p,l=(r=x(r,u,d),!1),f=r-a.lastPos;f*f<1||([e,t].forEach(function(t,n){t.forEach(function(t,e){var s,o,i=(t=g(t)?h.yAxis[t]:n||e?h.get(t):t)&&t.options;i&&"navigator-y-axis"!==i.id&&(e=t.top,s=Math.round(y(i.minLength,p)),o=Math.round(y(i.maxLength,p)),n?(f=r-a.lastPos,i=Math.round(x(t.len-f,s,o)),e=t.top+f,d<e+i&&(r+=o=d-i-e,e+=o),e<u&&(d<(e=u)+i&&(i=p)),i===s&&(l=!0),c.push({axis:t,options:{top:100*(e-u)/p+"%",height:100*i/p+"%"}})):((i=Math.round(x(r-e,s,o)))===o&&(l=!0),r=e+i,c.push({axis:t,options:{height:100*i/p+"%"}})))})}),l||(c.forEach(function(t){t.axis.update(t.options,!1)}),h.redraw(!1)))},i.prototype.destroy=function(){var s=this;delete s.axis.resizer,this.eventsToUnbind&&this.eventsToUnbind.forEach(function(t){t()}),s.controlLine.destroy(),o(s,function(t,e){s[e]=null})},i.resizerOptions=t,i;function i(t){this.options=this.lastPos=this.controlLine=this.axis=void 0,this.init(t)}}),e(t,"Extensions/DragPanes/DragPanes.js",[t["Extensions/DragPanes/AxisResizer.js"],t["Core/Utilities.js"]],function(s,o){function i(){var t=this.resizer,e=this.options.resize;e&&(e=!1!==e.enabled,t?e?t.init(this,!0):t.destroy():e&&(this.resizer=new s(this)))}function n(t){!t.keepEvents&&this.resizer&&this.resizer.destroy()}function r(t){this.chart.activeResizer||t.apply(this,Array.prototype.slice.call(arguments,1))}function a(t){this.chart.activeResizer||t.apply(this,Array.prototype.slice.call(arguments,1))}var h=o.addEvent,c=o.merge,u=o.wrap,p=[];return{compose:function(t,e){o.pushUnique(p,t)&&(c(!0,t.defaultOptions,s.resizerOptions),t.keepProps.push("resizer"),h(t,"afterRender",i),h(t,"destroy",n)),o.pushUnique(p,e)&&(u(e.prototype,"runPointActions",a),u(e.prototype,"drag",r))}}}),e(t,"masters/modules/drag-panes.src.js",[t["Core/Globals.js"],t["Extensions/DragPanes/AxisResizer.js"],t["Extensions/DragPanes/DragPanes.js"]],function(t,e,s){t.AxisResizer=e,s.compose(t.Axis,t.Pointer)})});