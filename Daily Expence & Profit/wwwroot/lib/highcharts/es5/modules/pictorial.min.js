"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/pictorial",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,i,r){t.hasOwnProperty(e)||(t[e]=r.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t=t?t._modules:{},"Extensions/PatternFill.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Chart/Chart.js"],t["Core/Globals.js"],t["Core/Defaults.js"],t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],function(t,e,i,r,s,o,a,d){function h(t,e){var i=(t=JSON.stringify(t)).length||0,r=0,o=0;if(e){e=Math.max(Math.floor(i/500),1);for(var a=0;a<i;a+=e)r+=t.charCodeAt(a);r&=r}for(;o<i;++o)r=(r<<5)-r+(e=t.charCodeAt(o)),r&=r;return r.toString(16).replace("-","1")}var n,p,l=t.animObject,c=r.getOptions,f=(t=d.addEvent,d.defined),u=d.erase,g=d.merge,y=d.pick,m=d.removeEvent,x=(r=d.wrap,i.patterns=(n=[],p=c().colors,["M 0 0 L 5 5 M 4.5 -0.5 L 5.5 0.5 M -0.5 4.5 L 0.5 5.5","M 0 5 L 5 0 M -0.5 0.5 L 0.5 -0.5 M 4.5 5.5 L 5.5 4.5","M 2 0 L 2 5 M 4 0 L 4 5","M 0 2 L 5 2 M 0 4 L 5 4","M 0 1.5 L 2.5 1.5 L 2.5 0 M 2.5 5 L 2.5 3.5 L 5 3.5"].forEach(function(t,e){n.push({path:t,color:p[e],width:5,height:5,patternTransform:"scale(1.4 1.4)"})}),["M 0 0 L 5 10 L 10 0","M 3 3 L 8 3 L 8 8 L 3 8 Z","M 5 5 m -4 0 a 4 4 0 1 1 8 0 a 4 4 0 1 1 -8 0","M 0 0 L 10 10 M 9 -1 L 11 1 M -1 9 L 1 11","M 0 10 L 10 0 M -1 1 L 1 -1 M 9 11 L 11 9"].forEach(function(t,e){n.push({path:t,color:p[e+5],width:10,height:10})}),n));s.prototype.calculatePatternDimensions=function(t){if(!t.width||!t.height){var e=this.graphic&&(this.graphic.getBBox&&this.graphic.getBBox(!0)||this.graphic.element&&this.graphic.element.getBBox())||{},i=this.shapeArgs;if(i&&(e.width=i.width||e.width,e.height=i.height||e.height,e.x=i.x||e.x,e.y=i.y||e.y),t.image){if(!e.width||!e.height)return t._width="defer",t._height="defer",e=this.series.chart.mapView&&this.series.chart.mapView.getSVGTransform().scaleY,void(f(e)&&e<0&&(t._inverted=!0));t.aspectRatio&&(e.aspectRatio=e.width/e.height,t.aspectRatio>e.aspectRatio?e.aspectWidth=e.height*t.aspectRatio:e.aspectHeight=e.width/t.aspectRatio),t._width=t.width||Math.ceil(e.aspectWidth||e.width),t._height=t.height||Math.ceil(e.aspectHeight||e.height)}t.width||(t._x=t.x||0,t._x+=e.x-Math.round(e.aspectWidth?Math.abs(e.aspectWidth-e.width)/2:0)),t.height||(t._y=t.y||0,t._y+=e.y-Math.round(e.aspectHeight?Math.abs(e.aspectHeight-e.height)/2:0))}},a.prototype.addPattern=function(e,t){t=y(t,!0);var i,r,o=l(t),a=e.width||e._width||32,n=e.height||e._height||32,s=e.color||"#343434",h=e.id,p=this,c=function(t){p.rect(0,0,a,n).attr({fill:t}).add(r)};if(h||(this.idCounter=this.idCounter||0,h="highcharts-pattern-"+this.idCounter+"-"+(this.chartIndex||0),++this.idCounter),this.forExport&&(h+="-export"),this.defIds=this.defIds||[],!(-1<this.defIds.indexOf(h)))return this.defIds.push(h),i={id:h,patternUnits:"userSpaceOnUse",patternContentUnits:e.patternContentUnits||"userSpaceOnUse",width:a,height:n,x:e._x||e.x||0,y:e._y||e.y||0},e._inverted&&(i.patternTransform="scale(1, -1)",e.patternTransform&&(e.patternTransform+=" scale(1, -1)")),e.patternTransform&&(i.patternTransform=e.patternTransform),(r=this.createElement("pattern").attr(i).add(this.defs)).id=h,e.path?(i=d.isObject(e.path)?e.path:{d:e.path},e.backgroundColor&&c(e.backgroundColor),c={d:i.d},this.styledMode||(c.stroke=i.stroke||s,c["stroke-width"]=y(i.strokeWidth,2),c.fill=i.fill||"none"),i.transform&&(c.transform=i.transform),this.createElement("path").attr(c).add(r),r.color=s):e.image&&(t?this.image(e.image,0,0,a,n,function(){this.animate({opacity:y(e.opacity,1)},o),m(this.element,"load")}).attr({opacity:0}):this.image(e.image,0,0,a,n)).add(r),e.image&&t||void 0===e.opacity||[].forEach.call(r.element.childNodes,function(t){t.setAttribute("opacity",e.opacity)}),this.patternElements=this.patternElements||{},this.patternElements[h]=r},r(o.prototype,"getColor",function(t){var e=this.options.color;e&&e.pattern&&!e.pattern.color?(delete this.options.color,t.apply(this,Array.prototype.slice.call(arguments,1)),e.pattern.color=this.color,this.color=this.options.color=e):t.apply(this,Array.prototype.slice.call(arguments,1))}),t(o,"render",function(){var i=this.chart.isResizing;!this.isDirtyData&&!i&&this.chart.hasRendered||(this.points||[]).forEach(function(t){var e=t.options&&t.options.color;e&&e.pattern&&(!i||t.shapeArgs&&t.shapeArgs.width&&t.shapeArgs.height?t.calculatePatternDimensions(e.pattern):(e.pattern._width="defer",e.pattern._height="defer"))})}),t(s,"afterInit",function(){var t=this.options.color;t&&t.pattern&&("string"==typeof t.pattern.path&&(t.pattern.path={d:t.pattern.path}),this.color=this.options.color=g(this.series.options.color,t))}),t(a,"complexColor",function(t){var e,i=t.args[0],r=t.args[1],o=(t=t.args[2],this.chartIndex||0),a=i.pattern,n="#343434";return!(a=void 0!==i.patternIndex&&x?x[i.patternIndex]:a)||(n=a.image||"string"==typeof a.path||a.path&&a.path.d?(e=(e=t.parentNode&&t.parentNode.getAttribute("class"))&&-1<e.indexOf("highcharts-legend"),"defer"!==a._width&&"defer"!==a._height||s.prototype.calculatePatternDimensions.call({graphic:{element:t}},a),!e&&a.id||((a=g({},a)).id="highcharts-pattern-"+o+"-"+h(a)+h(a,!0)),this.addPattern(a,!this.forExport&&y(a.animation,this.globalAnimation,{duration:100})),"url(".concat(this.url,"#").concat(a.id+(this.forExport?"-export":""),")")):a.color||n,t.setAttribute(r,n),!(i.toString=function(){return n}))}),t(e,"endResize",function(){(this.renderer&&this.renderer.defIds||[]).filter(function(t){return t&&t.indexOf&&0===t.indexOf("highcharts-pattern-")}).length&&(this.series.forEach(function(t){t.visible&&t.points.forEach(function(t){(t=t.options&&t.options.color)&&t.pattern&&(t.pattern._width="defer",t.pattern._height="defer")})}),this.redraw(!1))}),t(e,"redraw",function(){var e={},i=this.renderer,t=(i.defIds||[]).filter(function(t){return t.indexOf&&0===t.indexOf("highcharts-pattern-")});t.length&&([].forEach.call(this.renderTo.querySelectorAll('[color^="url("], [fill^="url("], [stroke^="url("]'),function(t){(t=t.getAttribute("fill")||t.getAttribute("color")||t.getAttribute("stroke"))&&(t=t.replace(i.url,"").replace("url(#","").replace(")",""),e[t]=!0)}),t.forEach(function(t){e[t]||(u(i.defIds,t),i.patternElements[t]&&(i.patternElements[t].destroy(),delete i.patternElements[t]))}))})}),e(t,"Series/Pictorial/PictorialUtilities.js",[t["Core/Utilities.js"]],function(t){var o=t.defined;return{rescalePatternFill:function(t,e,i,r,o){void 0===o&&(o=1);var a,n,s,h=t&&t.attr("fill");(h=h&&h.match(/url\(([^)]+)\)/))&&(h=document.querySelector("".concat(h[1]," path")))&&(0===(a=h.getBBox()).width&&(n=h.parentElement,t.renderer.box.appendChild(h),a=h.getBBox(),n.appendChild(h)),t=1/(a.width+o),r=e/r/a.height,n=a.width/a.height,s=-a.width/2,h.setAttribute("stroke-width",o/(i*(t=n<(e=i/e)?t*n/e:t))),h.setAttribute("transform","translate(0.5, 0)"+"scale(".concat(t," ").concat(r,") ")+"translate(".concat(s+o*t/2,", ").concat(-a.y,")")))},invertShadowGroup:function(t,e){(e=e.chart.inverted)&&t.attr({rotation:e?90:0,scaleX:e?-1:1})},getStackMetrics:function(t,e){var i=t.len,r=0;return e&&o(e.max)&&(r=t.toPixels(e.max,!0),i=t.len-r),{height:i,y:r}}}}),e(t,"Series/Pictorial/PictorialPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Series/Pictorial/PictorialUtilities.js"]],function(t,e){var r,i,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=e.rescalePatternFill,n=e.getStackMetrics;return i=t.seriesTypes.column.prototype.pointClass,o(s,i),s.prototype.setState=function(){i.prototype.setState.apply(this,arguments);var t=this.series,e=t.options.paths;this.graphic&&this.shapeArgs&&e&&a(this.graphic,n(t.yAxis,e[this.index%e.length]).height,this.shapeArgs.width||0,this.shapeArgs.height||1/0,this.series.options.borderWidth||0)},s;function s(){var t=null!==i&&i.apply(this,arguments)||this;return t.options=void 0,t.series=void 0,t.pathDef=void 0,t}}),e(t,"Series/Pictorial/PictorialSeries.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Chart/Chart.js"],t["Series/Pictorial/PictorialPoint.js"],t["Series/Pictorial/PictorialUtilities.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Axis/Stacking/StackItem.js"],t["Core/Utilities.js"]],function(t,e,i,r,o,a,n){function s(t){var e,i,r,o,a,n,s,h,p,c,d=Object.keys(t.points).filter(function(t){return 1<t.split(",").length}),l=t.axis.chart.series,f=-1;d.map(function(t){return parseFloat(t.split(",")[0])}).forEach(function(t){l[t]&&l[t].visible&&(f=t)}),(d=t.axis.chart.series[f])&&d.is("pictorial")&&t.axis.hasData()&&d.xAxis.hasData()?(e=d.xAxis,c=t.axis.options,i=t.axis.chart,r=t.shadow,o=e.toPixels(t.x,!0),o=i.inverted?e.len-o:o,a=(n=d.options.paths||[])[t.x%n.length],n=d.getColumnMetrics&&d.getColumnMetrics().width,s=(h=g(d.yAxis,a)).height,h=h.y,p=c.stackShadow,c=v(p&&p.borderWidth,d.options.borderWidth,1),!r&&p&&p.enabled&&a?(t.shadowGroup||(t.shadowGroup=i.renderer.g("shadow-group").add()),t.shadowGroup.attr({translateX:(i.inverted?t.axis:e).pos,translateY:(i.inverted?e:t.axis).pos}),t.shadow=i.renderer.rect(o,h,n,s).attr({fill:{pattern:{path:{d:a.definition,fill:p.color||"#dedede",strokeWidth:c,stroke:p.borderColor||"transparent"},x:o,y:h,width:n,height:s,patternContentUnits:"objectBoundingBox",backgroundColor:"none",color:"#dedede"}}}).add(t.shadowGroup),y(t.shadowGroup,t.axis),m(t.shadow,s,n,s,c),t.setOffset(d.pointXOffset||0,d.barW||0)):r&&t.shadowGroup&&(r.animate({x:o,y:h,width:n,height:s}),a=/url\(([^)]+)\)/,(a=(p=r.attr("fill"))&&p.match(a))&&i.renderer.patternElements&&i.renderer.patternElements[a[1].slice(1)].animate({x:o,y:h,width:n,height:s}),t.shadowGroup.animate({translateX:(i.inverted?t.axis:e).pos,translateY:(i.inverted?e:t.axis).pos}),y(t.shadowGroup,t.axis),m(r,s,n,s,c),t.setOffset(d.pointXOffset||0,d.barW||0))):t.shadow&&t.shadowGroup&&(t.shadow.destroy(),t.shadow=void 0,t.shadowGroup.destroy(),t.shadowGroup=void 0)}function h(t,e){t.axes&&t.axes.forEach(function(t){t.stacking&&w(t.stacking.stacks,function(t){w(t,function(t){e(t)})})})}function p(t){h(t,function(t){t.shadow&&t.shadowGroup&&(t.shadow.destroy(),t.shadowGroup.destroy(),delete t.shadow,delete t.shadowGroup)})}var c,d,l=this&&this.__extends||(c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");c(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),f=o.seriesTypes.column,u=t.animObject,g=r.getStackMetrics,y=r.invertShadowGroup,m=r.rescalePatternFill,x=(t=n.addEvent,n.defined),r=n.merge,w=n.objectEach,v=n.pick;function C(){var t=null!==d&&d.apply(this,arguments)||this;return t.paths=void 0,t.data=void 0,t.options=void 0,t.points=void 0,t}return l(C,d=f),C.prototype.animate=function(t){var e=this.chart,i=this.group,r=u(this.options.animation),o=[this.getSharedClipKey(),r.duration,r.easing,r.defer].join(),a=e.sharedClips[o];t&&i?(r=this.getClipBox(),a||(r.y=r.height,r.height=0,a=e.renderer.clipRect(r),e.sharedClips[o]=a),i.clip(a)):a&&!a.hasClass("highcharts-animating")&&(e=this.getClipBox(),a.addClass("highcharts-animating").animate(e,r))},C.prototype.animateDrilldown=function(){},C.prototype.animateDrillupFrom=function(){},C.prototype.pointAttribs=function(t){var e,i,r=d.prototype.pointAttribs.apply(this,arguments),o=this.options.paths;return t&&t.shapeArgs&&o&&(i=o[t.index%o.length],o=(e=g(this.yAxis,i)).y,e=e.height,(i=i.definition)!==t.pathDef?(t.pathDef=i,r.fill={pattern:{path:{d:i,fill:r.fill,strokeWidth:r["stroke-width"],stroke:r.stroke},x:t.shapeArgs.x,y:o,width:t.shapeArgs.width||0,height:e,patternContentUnits:"objectBoundingBox",backgroundColor:"none",color:"#ff0000"}}):t.pathDef&&t.graphic&&delete r.fill),delete r.stroke,delete r.strokeWidth,r},C.prototype.getExtremes=function(){var e=d.prototype.getExtremes.apply(this,arguments),t=this.options.paths;return t&&t.forEach(function(t){x(t.max)&&x(e.dataMax)&&t.max>e.dataMax&&(e.dataMax=t.max)}),e},C.defaultOptions=r(f.defaultOptions,{borderWidth:0}),t(n=C,"afterRender",function(){var a=this,n=a.options.paths,s=/url\(([^)]+)\)/;a.points.forEach(function(t){var e,i,r,o;t.graphic&&t.shapeArgs&&n&&(e=n[t.index%n.length],i=(r=t.graphic.attr("fill"))&&r.match(s),r=(o=g(a.yAxis,e)).y,o=o.height,i&&a.chart.renderer.patternElements&&(i=a.chart.renderer.patternElements[i[1].slice(1)])&&i.animate({x:t.shapeArgs.x,y:r,width:t.shapeArgs.width||0,height:o}),m(t.graphic,g(a.yAxis,e).height,t.shapeArgs.width||0,t.shapeArgs.height||1/0,a.options.borderWidth||0))})}),t(e,"render",function(){h(this,s)}),t(a,"afterSetOffset",function(t){var e,i,r;this.shadow&&(e=(i=this.axis).chart,i=i.len,r=t.xOffset,t=t.width,this.shadow.attr({translateX:e.inverted?r-e.xAxis[0].len:r,translateY:e.inverted?-i:0}),this.shadow.animate({width:t}))}),t(e,"afterDrilldown",function(t){p(this)}),t(e,"afterDrillUp",function(t){p(this)}),n.prototype.pointClass=i,o.registerSeriesType("pictorial",n),n}),e(t,"masters/modules/pictorial.src.js",[],function(){})});