!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/offline-exporting",["highcharts","highcharts/modules/exporting"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function e(t,e,n,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,n),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t,"Extensions/DownloadURL.js",[t["Core/Globals.js"]],function(t){var l=t.isSafari,s=t.win,c=s.document,r=s.URL||s.webkitURL||s,f=t.dataURLtoBlob=function(t){t=t.replace(/filename=.*;/,"").match(/data:([^;]*)(;base64)?,([0-9A-Za-z+/]+)/);if(t&&3<t.length&&s.atob&&s.ArrayBuffer&&s.Uint8Array&&s.Blob&&r.createObjectURL){for(var e=s.atob(t[3]),n=new s.ArrayBuffer(e.length),o=new s.Uint8Array(n),i=0;i<o.length;++i)o[i]=e.charCodeAt(i);n=new s.Blob([o],{type:t[1]});return r.createObjectURL(n)}},t=t.downloadURL=function(e,t){var n=s.navigator,o=c.createElement("a");if("string"==typeof e||e instanceof String||!n.msSaveOrOpenBlob){e="".concat(e);var i=/Edge\/\d+/.test(n.userAgent),r=l&&"string"==typeof e&&0===e.indexOf("data:application/pdf");if((r||i||2e6<e.length)&&!(e=f(e)||""))throw new Error("Failed to convert to blob");if(void 0!==o.download)o.href=e,o.download=t,c.body.appendChild(o),o.click(),c.body.removeChild(o);else try{var a=s.open(e,"chart");if(null==a)throw new Error("Failed to open window")}catch(t){s.location.href=e}}else n.msSaveOrOpenBlob(e,t)};return{dataURLtoBlob:f,downloadURL:t}}),e(t,"Extensions/OfflineExporting/OfflineExportingDefaults.js",[],function(){return{libURL:"https://code.highcharts.com/11.0.1/lib/",menuItemDefinitions:{downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChartLocal()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChartLocal({type:"image/jpeg"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChartLocal({type:"image/svg+xml"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChartLocal({type:"application/pdf"})}}}}}),e(t,"Extensions/OfflineExporting/OfflineExporting.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Chart/Chart.js"],t["Core/Defaults.js"],t["Extensions/DownloadURL.js"],t["Extensions/Exporting/Exporting.js"],t["Core/Globals.js"],t["Core/HttpUtilities.js"],t["Extensions/OfflineExporting/OfflineExportingDefaults.js"],t["Core/Utilities.js"]],function(m,t,e,n,r,a,o,i,l){var s,y,v=e.defaultOptions,x=n.downloadURL,w=a.win,b=a.doc,E=o.ajax,S=l.addEvent,c=l.error,f=l.extend,d=l.fireEvent,u=l.merge,g=(m.allowedAttributes.push("data-z-index","fill-opacity","rx","ry","stroke-dasharray","stroke-linejoin","text-anchor","transform","version","viewBox","visibility","xmlns","xmlns:xlink"),m.allowedTags.push("desc","clippath","g"),[]);function h(t,e){var n=this,o=u(n.options.exporting,t),i=function(t){!1===o.fallbackToExportServer?o.error?o.error(o,t):c(28,!0):n.exportChart(o)};a.isMS&&n.styledMode&&!r.inlineAllowlist.length&&r.inlineAllowlist.push(/^blockSize/,/^border/,/^caretColor/,/^color/,/^columnRule/,/^columnRuleColor/,/^cssFloat/,/^cursor/,/^fill$/,/^fillOpacity/,/^font/,/^inlineSize/,/^length/,/^lineHeight/,/^opacity/,/^outline/,/^parentRule/,/^rx$/,/^ry$/,/^stroke/,/^textAlign/,/^textAnchor/,/^textDecoration/,/^transform/,/^vectorEffect/,/^visibility/,/^x$/,/^y$/),a.isMS&&("application/pdf"===o.type||n.container.getElementsByTagName("image").length&&"image/svg+xml"!==o.type)||"application/pdf"===o.type&&[].some.call(n.container.getElementsByTagName("image"),function(t){t=t.getAttribute("href");return""!==t&&"string"==typeof t&&0!==t.indexOf("data:")})?i(new Error("Image type not supported for this chart/browser.")):n.getSVGForLocalExport(o,e||{},i,function(t){-1<t.indexOf("<foreignObject")&&"image/svg+xml"!==o.type&&(a.isMS||"application/pdf"===o.type)?i(new Error("Image type not supported for charts with embedded HTML")):y.downloadSVGLocal(t,f({filename:n.getFilename()},o),i,function(){return d(n,"exportChartLocalSuccess")})})}function C(t,e){var n=b.getElementsByTagName("head")[0],o=b.createElement("script");o.type="text/javascript",o.src=t,o.onload=e,o.onerror=function(){c("Error loading script "+t)},n.appendChild(o)}function p(t,e,n,o){function i(t,e,n){++h,n.imageElement.setAttributeNS("http://www.w3.org/1999/xlink","href",t),u()}var r,a,l,s,c,f=this,d=function(t){return f.sanitizeSVG(t,l)},u=function(){c&&h===g&&o(d(a.innerHTML))},g=0,h=0;f.unbindGetSVG=S(f,"getSVG",function(t){l=t.chartCopy.options,a=t.chartCopy.container.cloneNode(!0),c=a&&a.getElementsByTagName("image")||[],g=c.length}),f.getSVGForExport(t,e);try{if(!c||!c.length)return void o(d(a.innerHTML));for(var p=0;p<c.length;p++)(s=(r=c[p]).getAttributeNS("http://www.w3.org/1999/xlink","href"))?y.imageToDataUrl(s,"image/png",{imageElement:r},t.scale,i,n,n,n):(h++,r.parentNode.removeChild(r),p--,u())}catch(t){n(t)}f.unbindGetSVG()}function L(o,i,r,a,l,t,s,e,c){function n(){setTimeout(function(){var t,e=b.createElement("canvas"),n=e.getContext&&e.getContext("2d");try{if(n){e.height=d.height*a,e.width=d.width*a,n.drawImage(d,0,0,e.width,e.height);try{t=e.toDataURL(i),l(t,i,r,a)}catch(t){u(o,i,r,a)}}else s(o,i,r,a)}finally{c&&c(o,i,r,a)}},y.loadEventDeferDelay)}function f(){e(o,i,r,a),c&&c(o,i,r,a)}var d=new w.Image,u=function(){d=new w.Image,u=t,d.crossOrigin="Anonymous",d.onload=n,d.onerror=f,d.src=o};d.onload=n,d.onerror=f,d.src=o}function j(t){var e=w.navigator.userAgent,e=-1<e.indexOf("WebKit")&&e.indexOf("Chrome")<0;try{if(!e&&-1===t.indexOf("<foreignObject"))return y.domurl.createObjectURL(new w.Blob([t],{type:"image/svg+xml;charset-utf-16"}))}catch(t){}return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(t)}function U(t,e,n){for(var o=Number(t.getAttribute("width"))+2*e,e=Number(t.getAttribute("height"))+2*e,i=new w.jspdf.jsPDF(o<e?"p":"l","pt",[o,e]),r=([].forEach.call(t.querySelectorAll('*[visibility="hidden"]'),function(t){t.parentNode.removeChild(t)}),t.querySelectorAll("linearGradient")),a=0;a<r.length;a++)for(var l=r[a].querySelectorAll("stop"),s=0;s<l.length&&"0"===l[s].getAttribute("offset")&&"0"===l[s+1].getAttribute("offset");)l[s].remove(),s++;[].forEach.call(t.querySelectorAll("tspan"),function(t){"â€‹"===t.textContent&&(t.textContent=" ",t.setAttribute("dx",-5))}),i.svg(t,{x:0,y:0,width:o,height:e,removeInvalid:!0}).then(function(){return n(i.output("datauristring"))})}return(y=s=s||{}).CanVGRenderer={},y.domurl=w.URL||w.webkitURL||w,y.loadEventDeferDelay=a.isMS?150:0,y.compose=function(t){var e;return l.pushUnique(g,t)&&((e=t.prototype).getSVGForLocalExport=p,e.exportChartLocal=h,u(!0,v.exporting,i)),t},y.downloadSVGLocal=function(r,t,a,l){function o(t,e){function i(t,e){w.jspdf.jsPDF.API.events.push(["initialized",function(){this.addFileToVFS(t,e),this.addFont(t,"HighchartsFont",t),this.getFontList().HighchartsFont||this.setFont("HighchartsFont")}])}function r(){var o=n.shift();if(!o)return e();var t=p&&p[o];t?E({url:t,responseType:"blob",success:function(t,e){var n=new FileReader;n.onloadend=function(){var t;"string"==typeof this.result&&(t=this.result.split(",")[1],i(o,t),"normal"===o&&(a=t)),r()},n.readAsDataURL(e.response)},error:r}):(a&&i(o,a),r())}p&&!/[^\u0000-\u007F\u200B]+/.test(t.textContent||"")&&(p=void 0);var a,n=["normal","italic","bold","bolditalic"];r()}function e(){m.setElementHTML(c,r);var t,e=c.getElementsByTagName("text"),n=([].forEach.call(e,function(r){["fontFamily","fontSize"].forEach(function(t){for(var e=r,n=t,o=e;o&&o!==c;){if(o.style[n]){var i=o.style[n];"fontSize"===n&&/em$/.test(i)&&(i=Math.round(16*parseFloat(i))+"px"),e.style[n]=i;break}o=o.parentNode}}),r.style.fontFamily=p&&p.normal?"HighchartsFont":String(r.style.fontFamily&&r.style.fontFamily.split(" ").splice(-1)),t=r.getElementsByTagName("title"),[].forEach.call(t,function(t){r.removeChild(t)})}),c.querySelector("svg"));n&&o(n,function(){U(n,0,function(t){try{x(t,d),l&&l()}catch(t){a(t)}})})}var n,i,s,c=b.createElement("div"),f=t.type||"image/png",d=(t.filename||"chart")+"."+("image/svg+xml"===f?"svg":f.split("/")[1]),u=t.scale||1,g=t.libURL||v.exporting.libURL,h=!0,p=t.pdfFont,g="/"!==g.slice(-1)?g+"/":g;if("image/svg+xml"===f)try{n=void 0!==w.MSBlobBuilder?((i=new w.MSBlobBuilder).append(r),i.getBlob("image/svg+xml")):j(r),x(n,d),l&&l()}catch(t){a(t)}else"application/pdf"===f?w.jspdf&&w.jspdf.jsPDF?e():(h=!0,C(g+"jspdf.js",function(){C(g+"svg2pdf.js",e)})):(n=j(r),s=function(){try{y.domurl.revokeObjectURL(n)}catch(t){}},L(n,f,{},u,function(t){try{x(t,d),l&&l()}catch(t){a(t)}},function(){function t(){w.canvg.Canvg.fromString(n,r).start();try{x(w.navigator.msSaveOrOpenBlob?e.msToBlob():e.toDataURL(f),d),l&&l()}catch(t){a(t)}finally{s()}}var e=b.createElement("canvas"),n=e.getContext("2d"),o=r.match(/^<svg[^>]*width\s*=\s*\"?(\d+)\"?[^>]*>/)[1]*u,i=r.match(/^<svg[^>]*height\s*=\s*\"?(\d+)\"?[^>]*>/)[1]*u;e.width=o,e.height=i,w.canvg?t():(h=!0,C(g+"canvg.js",function(){t()}))},a,a,function(){h&&s()}))},y.getScript=C,y.imageToDataUrl=L,y.svgToDataUrl=j,y.svgToPdf=U,s}),e(t,"masters/modules/offline-exporting.src.js",[t["Core/Globals.js"],t["Extensions/OfflineExporting/OfflineExporting.js"]],function(t,e){t.downloadSVGLocal=e.downloadSVGLocal,e.compose(t.Chart)})});