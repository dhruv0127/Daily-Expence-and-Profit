"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/histogram-bellcurve",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,i,n){t.hasOwnProperty(e)||(t[e]=n.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t=t?t._modules:{},"Series/DerivedComposition.js",[t["Core/Globals.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(t,e,i){var n,r,s,t=t.noop,o=i.addEvent,a=i.defined;function u(){e.prototype.init.apply(this,arguments),this.initialised=!1,this.baseSeries=null,this.eventRemovers=[],this.addEvents()}function p(){var t=this.chart,e=this.options.baseSeries;this.baseSeries=a(e)&&(t.series[e]||t.get(e))||null}function h(){var t=this;this.eventRemovers.push(o(this.chart,"afterLinkSeries",function(){t.setBaseSeries(),t.baseSeries&&!t.initialised&&(t.setDerivedData(),t.addBaseSeriesEvents(),t.initialised=!0)}))}function c(){var t=this;this.eventRemovers.push(o(this.baseSeries,"updatedData",function(){t.setDerivedData()}),o(this.baseSeries,"destroy",function(){t.baseSeries=null,t.initialised=!1}))}function d(){this.eventRemovers.forEach(function(t){t()}),e.prototype.destroy.apply(this,arguments)}return r=n=n||{},s=[],r.hasDerivedData=!0,r.setDerivedData=t,r.compose=function(t){var e;return i.pushUnique(s,t)&&((e=t.prototype).addBaseSeriesEvents=c,e.addEvents=h,e.destroy=d,e.init=u,e.setBaseSeries=p),t},r.init=u,r.setBaseSeries=p,r.addEvents=h,r.addBaseSeriesEvents=c,r.destroy=d,n}),e(t,"Series/Histogram/HistogramSeries.js",[t["Series/DerivedComposition.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i){var n,r,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=e.seriesTypes.column,h=i.arrayMax,c=i.arrayMin,d=i.correctFloat,a=i.extend,l=i.isNumber,u=i.merge,f=i.objectEach,p={"square-root":function(t){return Math.ceil(Math.sqrt(t.options.data.length))},sturges:function(t){return Math.ceil(Math.log(t.options.data.length)*Math.LOG2E)},rice:function(t){return Math.ceil(2*Math.pow(t.options.data.length,1/3))}};function v(){var t=null!==r&&r.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t.userOptions=void 0,t}return s(v,r=o),v.prototype.binsNumber=function(){var t=this.options.binsNumber,e=p[t]||"function"==typeof t&&t;return Math.ceil(e&&e(this.baseSeries)||(l(t)?t:p["square-root"](this.baseSeries)))},v.prototype.derivedData=function(t,e,i){var n=d(h(t)),r=d(c(t)),s=[],o={},a=[];for(i=this.binWidth=d(l(i)?i||1:(n-r)/e),this.options.pointRange=Math.max(i,0),e=r;e<n&&(this.userOptions.binWidth||d(n-e)>=i||d(d(r+s.length*i)-e)<=0);e=d(e+i))s.push(e),o[e]=0;0!==o[r]&&(s.push(r),o[r]=0);u=s.map(function(t){return parseFloat(t)});var u,p=function(t){for(var e=1;u[e]<=t;)e++;return u[--e]};return t.forEach(function(t){t=d(p(t)),o[t]++}),f(o,function(t,e){a.push({x:Number(e),y:t,x2:d(Number(e)+i)})}),a.sort(function(t,e){return t.x-e.x}),a[a.length-1].x2=n,a},v.prototype.setDerivedData=function(){var t=this.baseSeries.yData;t.length?(t=this.derivedData(t,this.binsNumber(),this.options.binWidth),this.setData(t,!1)):this.setData([])},v.defaultOptions=u(o.defaultOptions,{binsNumber:"square-root",binWidth:void 0,pointPadding:0,groupPadding:0,grouping:!1,pointPlacement:"between",tooltip:{headerFormat:"",pointFormat:'<span style="font-size: 0.8em">{point.x} - {point.x2}</span><br/><span style="color:{point.color}">‚óè</span> {series.name} <b>{point.y}</b><br/>'}}),a((i=v).prototype,{hasDerivedData:t.hasDerivedData}),t.compose(i),e.registerSeriesType("histogram",i),i}),e(t,"Series/Bellcurve/BellcurveSeries.js",[t["Series/DerivedComposition.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i){var n,r,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=e.seriesTypes.areaspline,a=i.correctFloat,u=i.isNumber,p=i.merge;function h(){var t=null!==r&&r.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return s(h,r=o),h.mean=function(t){var e=t.length;return t=t.reduce(function(t,e){return t+e},0),0<e&&t/e},h.standardDeviation=function(t,i){var e=t.length;return i=u(i)?i:h.mean(t),t=t.reduce(function(t,e){return t+(e-=i)*e},0),1<e&&Math.sqrt(t/(e-1))},h.normalDensity=function(t,e,i){return t-=e,Math.exp(-t*t/(2*i*i))/(i*Math.sqrt(2*Math.PI))},h.prototype.derivedData=function(t,e){for(var i=t-(n=this.options.intervals)*e,n=n*(r=this.options.pointsInInterval)*2+1,r=e/r,s=[],o=0;o<n;o++)s.push([i,h.normalDensity(i,t,e)]),i+=r;return s},h.prototype.setDerivedData=function(){1<this.baseSeries.yData.length&&(this.setMean(),this.setStandardDeviation(),this.setData(this.derivedData(this.mean,this.standardDeviation),!1))},h.prototype.setMean=function(){this.mean=a(h.mean(this.baseSeries.yData))},h.prototype.setStandardDeviation=function(){this.standardDeviation=a(h.standardDeviation(this.baseSeries.yData,this.mean))},h.defaultOptions=p(o.defaultOptions,{intervals:3,pointsInInterval:3,marker:{enabled:!1}}),t.compose(i=h),e.registerSeriesType("bellcurve",i),i}),e(t,"masters/modules/histogram-bellcurve.src.js",[],function(){})});