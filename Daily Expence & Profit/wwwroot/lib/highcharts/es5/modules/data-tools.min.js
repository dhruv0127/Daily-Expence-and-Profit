"use strict";var $jscomp=$jscomp||{},$jscomp$lookupPolyfilledValue=($jscomp.scope={},$jscomp.arrayIteratorImpl=function(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}},$jscomp.arrayIterator=function(t){return{next:$jscomp.arrayIteratorImpl(t)}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.ISOLATE_POLYFILLS=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,o){return t==Array.prototype||t==Object.prototype||(t[e]=o.value),t},$jscomp.getGlobal=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var e=0;e<t.length;++e){var o=t[e];if(o&&o.Math==Math)return o}throw Error("Cannot find global object")},$jscomp.global=$jscomp.getGlobal(this),$jscomp.SYMBOL_PREFIX="jscomp_symbol_",$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){},$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)},$jscomp.SymbolClass=function(t,e){this.$jscomp$symbol$id_=t,$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:e})},$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_},$jscomp.Symbol=function(){var o=0;return function t(e){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(e||"")+"_"+o++,e)}}(),$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var t=(t=$jscomp.global.Symbol.iterator)||($jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[t]&&$jscomp.defineProperty(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}}),$jscomp.initSymbolIterator=function(){}},$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();$jscomp.global.Symbol.asyncIterator||($jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}},$jscomp.iteratorPrototype=function(t){return $jscomp.initSymbolIterator(),(t={next:t})[$jscomp.global.Symbol.iterator]=function(){return this},t},$jscomp.iteratorFromArray=function(e,o){$jscomp.initSymbolIterator(),e instanceof String&&(e+="");var r=0,n={next:function(){var t;return r<e.length?(t=r++,{value:o(t,e[t]),done:!1}):(n.next=function(){return{done:!0,value:void 0}},n.next())}};return n[Symbol.iterator]=function(){return n},n},$jscomp.polyfills={},$jscomp.propertyToPolyfillSymbol={},$jscomp.POLYFILL_PREFIX="$jscp$",$jscomp.IS_SYMBOL_NATIVE="function"==typeof Symbol&&"symbol"==typeof Symbol("x"),function(t,e){var o=$jscomp.propertyToPolyfillSymbol[e];return null!=o&&void 0!==(o=t[o])?o:t[e]});$jscomp.polyfill=function(t,e,o,r){e&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(t,e,o,r):$jscomp.polyfillUnisolated(t,e,o,r))},$jscomp.polyfillUnisolated=function(t,e,o,r){for(o=$jscomp.global,t=t.split("."),r=0;r<t.length-1;r++){var n=t[r];n in o||(o[n]={}),o=o[n]}(e=e(r=o[t=t[t.length-1]]))!=r&&null!=e&&$jscomp.defineProperty(o,t,{configurable:!0,writable:!0,value:e})},$jscomp.polyfillIsolated=function(t,e,o,r){var n=t.split(".");t=1===n.length,r=n[0],r=!t&&r in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var i=0;i<n.length-1;i++){var s=n[i];s in r||(r[s]={}),r=r[s]}n=n[n.length-1],null!=(e=e(o=$jscomp.IS_SYMBOL_NATIVE&&"es6"===o?r[n]:null))&&(t?$jscomp.defineProperty($jscomp.polyfills,n,{configurable:!0,writable:!0,value:e}):e!==o&&($jscomp.propertyToPolyfillSymbol[n]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(n):$jscomp.POLYFILL_PREFIX+n,n=$jscomp.propertyToPolyfillSymbol[n],$jscomp.defineProperty(r,n,{configurable:!0,writable:!0,value:e})))},$jscomp.polyfill("Array.prototype.values",function(t){return t||function(){return $jscomp.iteratorFromArray(this,function(t,e){return e})}},"es8","es3"),function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/data-tools",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,o,r){t.hasOwnProperty(e)||(t[e]=r.apply(null,o),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t=t?t._modules:{},"Data/DataTable.js",[t["Core/Utilities.js"]],function(t){var o=t.addEvent,e=t.fireEvent,u=t.uniqueKey;function d(t){void 0===t&&(t={}),this.aliasMap={},this.autoId=!t.id,this.columns={},this.id=t.id||u(),(this.modified=this).rowCount=0,this.versionTag=u();for(var e,o,r=t.columns||{},n=Object.keys(r),i=this.columns,s=0,a=0,l=n.length;a<l;++a)e=r[o=n[a]].slice(),i[o]=e,s=Math.max(s,e.length);for(a=0,l=n.length;a<l;++a)i[n[a]].length=s;for(this.rowCount=s,t=t.aliasMap||{},r=Object.keys(t),n=this.aliasMap,a=0,l=r.length;a<l;++a)n[i=r[a]]=t[i]}return d.isNull=function(t){if(t===d.NULL)return!0;if(t instanceof Array){if(!t.length)return!1;for(var e=0,o=t.length;e<o;++e)if(null!==t[e])return!1}else{var r=Object.keys(t);if(!r.length)return!1;for(e=0,o=r.length;e<o;++e)if(null!==t[r[e]])return!1}return!0},d.prototype.clone=function(t,e){var o={};return this.emit({type:"cloneTable",detail:e}),t||(o.aliasMap=this.aliasMap,o.columns=this.columns),this.autoId||(o.id=this.id),o=new d(o),t||(o.versionTag=this.versionTag),this.emit({type:"afterCloneTable",detail:e,tableClone:o}),o},d.prototype.deleteColumnAlias=function(t){var e=this.aliasMap[t],o=this.modifier;return e&&(delete this.aliasMap[t],o&&o.modifyColumns(this,((t={})[e]=Array(this.rowCount),t),0)),e},d.prototype.deleteColumns=function(t,e){var o=this.columns,r={},n={},i=this.modifier,s=this.rowCount;if((t=t||Object.keys(o)).length){this.emit({type:"deleteColumns",columnNames:t,detail:e});for(var a,l,u=0,c=t.length;u<c;++u)(a=o[l=t[u]])&&(r[l]=a,n[l]=Array(s)),delete o[l];return Object.keys(o).length||(this.rowCount=0),i&&i.modifyColumns(this,n,0,e),this.emit({type:"afterDeleteColumns",columns:r,columnNames:t,detail:e}),r}},d.prototype.deleteRows=function(t,e,o){var r=[],n=[],i=this.modifier;if(this.emit({type:"deleteRows",detail:o,rowCount:e=void 0===e?1:e,rowIndex:t||0}),void 0===t&&(t=0,e=this.rowCount),0<e&&t<this.rowCount)for(var s,a=this.columns,l=Object.keys(a),u=0,c=l.length;u<c;++u){s=(p=a[l[u]]).splice(t,e),u||(this.rowCount=p.length);for(var p=0,f=s.length;p<f;++p)r[p]=r[p]||[],r[p][u]=s[p];n.push(Array(c))}return i&&i.modifyRows(this,n,t||0,o),this.emit({type:"afterDeleteRows",detail:o,rowCount:e,rowIndex:t||0,rows:r}),r},d.prototype.emit=function(t){switch(t.type){case"afterDeleteColumns":case"afterDeleteRows":case"afterSetCell":case"afterSetColumns":case"afterSetRows":this.versionTag=u()}e(this,t.type,t)},d.prototype.getCell=function(t,e){if(t=this.aliasMap[t]||t,t=this.columns[t])return t[e]},d.prototype.getCellAsBoolean=function(t,e){return t=this.aliasMap[t]||t,!(!(t=this.columns[t])||!t[e])},d.prototype.getCellAsNumber=function(t,e,o){switch(t=this.aliasMap[t]||t,typeof(e=(t=this.columns[t])&&t[e])){case"boolean":return e?1:0;case"number":return isNaN(e)&&!o?null:e}return e=parseFloat("".concat(e)),isNaN(e)&&!o?null:e},d.prototype.getCellAsString=function(t,e){return t=this.aliasMap[t]||t,t=this.columns[t],"".concat(t&&t[e])},d.prototype.getColumn=function(t,e){return this.getColumns([t],e)[t]},d.prototype.getColumnAliases=function(){return Object.keys(this.aliasMap)},d.prototype.getColumnAsNumbers=function(t,e){var o=this.columns,r=[];if(o=o[t=this.aliasMap[t]||t]){var n,i=o.length;if(e)for(e=0;e<i;++e)r.push(this.getCellAsNumber(t,e,!0));else{e=0;for(;e<i;++e){if("number"==typeof(n=o[e]))return o.slice();if(null!=n)break}for(e=0;e<i;++e)r.push(this.getCellAsNumber(t,e))}}return r},d.prototype.getColumnNames=function(){return Object.keys(this.columns)},d.prototype.getColumns=function(t,e){for(var o,r,n=this.aliasMap,i=this.columns,s={},a=0,l=(t=t||Object.keys(i)).length;a<l;++a)(o=i[n[r=t[a]]||r])&&(s[r]=e?o:o.slice());return s},d.prototype.getModifier=function(){return this.modifier},d.prototype.getRow=function(t,e){return this.getRows(t,1,e)[0]},d.prototype.getRowCount=function(){return this.rowCount},d.prototype.getRowIndexBy=function(t,e,o){if(t=this.aliasMap[t]||t,(t=this.columns[t])&&-1!==(e=t.indexOf(e,o)))return e},d.prototype.getRowObject=function(t,e){return this.getRowObjects(t,1,e)[0]},d.prototype.getRowObjects=function(t,e,o){void 0===t&&(t=0),void 0===e&&(e=this.rowCount-t);var r=this.aliasMap,n=this.columns,i=Array(e),s=(o=o||Object.keys(n),t),a=0;for(t=Math.min(this.rowCount,t+e);s<t;++s,++a)for(var l=i[a]={},u=0,c=o;u<c.length;u++){var p=c[u];e=n[r[p]||p],l[p]=e?e[s]:void 0}return i},d.prototype.getRows=function(t,e,o){void 0===t&&(t=0),void 0===e&&(e=this.rowCount-t);var r,n=this.aliasMap,i=this.columns,s=Array(e),a=(o=o||Object.keys(i),t),l=0;for(t=Math.min(this.rowCount,t+e);a<t;++a,++l){e=s[l]=[];for(var u=0,c=o;u<c.length;u++)r=i[n[r=c[u]]||r],e.push(r?r[a]:void 0)}return s},d.prototype.getVersionTag=function(){return this.versionTag},d.prototype.hasColumns=function(t){for(var e,o=this.aliasMap,r=this.columns,n=0,i=t.length;n<i;++n)if(!r[e=t[n]]&&!o[e])return!1;return!0},d.prototype.hasRowWith=function(t,e){return t=this.aliasMap[t]||t,!!(t=this.columns[t])&&-1!==t.indexOf(e)},d.prototype.on=function(t,e){return o(this,t,e)},d.prototype.renameColumn=function(t,e){var o,r=this.columns;return!!r[t]&&(t!==e&&((o=this.aliasMap)[e]&&delete o[e],r[e]=r[t],delete r[t]),!0)},d.prototype.setCell=function(t,e,o,r){var n=this.columns,i=this.modifier,s=n[t=this.aliasMap[t]||t];s&&s[e]===o||(this.emit({type:"setCell",cellValue:o,columnName:t,detail:r,rowIndex:e}),s=s||(n[t]=Array(this.rowCount)),e>=this.rowCount&&(this.rowCount=e+1),s[e]=o,i&&i.modifyCell(this,t,e,o),this.emit({type:"afterSetCell",cellValue:o,columnName:t,detail:r,rowIndex:e}))},d.prototype.setColumn=function(t,e,o,r){var n;void 0===o&&(o=0),this.setColumns(((n={})[t]=e=void 0===e?[]:e,n),o,r)},d.prototype.setColumnAlias=function(t,e){var o=this.aliasMap;return!o[t]&&(o[t]=e,!0)},d.prototype.setColumns=function(t,e,o){var r=this.columns,n=this.modifier,i=void 0===e,s=Object.keys(t);this.emit({type:"setColumns",columns:t,columnNames:s,detail:o,rowIndex:e});for(var a,l=0,u=s.length;l<u;++l)if(a=t[c=s[l]],c=this.aliasMap[c]||c,i)r[c]=a.slice(),this.rowCount=a.length;else{for(var c=r[c]||(r[c]=Array(this.rowCount)),p=e||0,f=a.length;p<f;++p)c[p]=a[p];this.rowCount=Math.max(this.rowCount,c.length)}for(l=0,u=(i=Object.keys(r)).length;l<u;++l)r[i[l]].length=this.rowCount;n&&n.modifyColumns(this,t,e||0),this.emit({type:"afterSetColumns",columns:t,columnNames:s,detail:o,rowIndex:e})},d.prototype.setModifier=function(e,o){var r=this;return r.emit({type:"setModifier",detail:o,modifier:e,modified:r.modified}),(((r.modified=r).modifier=e)?e.modify(r):Promise.resolve(r)).then(function(t){return t.emit({type:"afterSetModifier",detail:o,modifier:e,modified:t.modified}),t}).catch(function(t){throw r.emit({type:"setModifierError",error:t,modifier:e,modified:r.modified}),t})},d.prototype.setRow=function(t,e,o){this.setRows([t],e,o)},d.prototype.setRows=function(t,e,o){void 0===e&&(e=this.rowCount);var r=this.aliasMap,n=this.columns,i=Object.keys(n),s=this.modifier,a=t.length;this.emit({type:"setRows",detail:o,rowCount:a,rowIndex:e,rows:t});for(var l,u=0,c=e;u<a;++u,++c)if((l=t[u])===d.NULL)for(var p=0,f=i.length;p<f;++p)n[i[p]][c]=null;else if(l instanceof Array)for(p=0,f=i.length;p<f;++p)n[i[p]][c]=l[p];else for(var m,h=Object.keys(l),p=0,f=h.length;p<f;++p)n[m=r[m=h[p]]||m]||(n[m]=Array(c+1)),n[m][c]=l[m];if((r=e+a)>this.rowCount)for(this.rowCount=r,u=0,c=i.length;u<c;++u)n[i[u]].length=r;s&&s.modifyRows(this,t,e),this.emit({type:"afterSetRows",detail:o,rowCount:a,rowIndex:e,rows:t})},d.NULL={},t=d}),e(t,"Data/Connectors/DataConnector.js",[t["Data/DataTable.js"],t["Core/Utilities.js"]],function(e,t){var o,r=t.addEvent,n=t.fireEvent,i=t.merge,s=t.pick;function a(t){this.table=new e((t=void 0===t?{}:t).dataTable),this.metadata=t.metadata||{columns:{}}}return a.prototype.describeColumn=function(t,e){var o=this.metadata.columns;o[t]=i(o[t]||{},e)},a.prototype.describeColumns=function(t){for(var e,o=Object.keys(t);"string"==typeof(e=o.pop());)this.describeColumn(e,t[e])},a.prototype.emit=function(t){n(this,t.type,t)},a.prototype.getColumnOrder=function(t){var o=this.metadata.columns;if((t=Object.keys(o||{})).length)return t.sort(function(t,e){return s(o[t].index,0)-s(o[e].index,0)})},a.prototype.getSortedColumns=function(t){return this.table.getColumns(this.getColumnOrder(t))},a.prototype.load=function(){return n(this,"afterLoad",{table:this.table}),Promise.resolve(this)},a.prototype.on=function(t,e){return r(this,t,e)},a.prototype.save=function(){return n(this,"saveError",{table:this.table}),Promise.reject(Error("Not implemented"))},a.prototype.setColumnOrder=function(t){for(var e=0,o=t.length;e<o;++e)this.describeColumn(t[e],{index:e})},a.prototype.startPolling=function(t){void 0===t&&(t=1e3);var e=this;window.clearTimeout(e.polling),e.polling=window.setTimeout(function(){return e.load().catch(function(t){return e.emit({type:"loadError",error:t,table:e.table})}).then(function(){e.polling&&e.startPolling(t)})},t)},a.prototype.stopPolling=function(){window.clearTimeout(this.polling),delete this.polling},a.prototype.whatIs=function(t){return this.metadata.columns[t]},(o=t=(t=a)||{}).types={},o.registerType=function(t,e){return!!t&&!o.types[t]&&!!(o.types[t]=e)},t}),e(t,"Data/Converters/DataConverter.js",[t["Data/DataTable.js"],t["Core/Utilities.js"]],function(i,t){var o=t.addEvent,e=t.fireEvent,s=t.isNumber,r=t.merge;function n(t){this.dateFormats={"YYYY/mm/dd":{regex:/^([0-9]{4})([\-\.\/])([0-9]{1,2})\2([0-9]{1,2})$/,parser:function(t){return t?Date.UTC(+t[1],t[3]-1,+t[4]):NaN}},"dd/mm/YYYY":{regex:/^([0-9]{1,2})([\-\.\/])([0-9]{1,2})\2([0-9]{4})$/,parser:function(t){return t?Date.UTC(+t[4],t[3]-1,+t[1]):NaN},alternative:"mm/dd/YYYY"},"mm/dd/YYYY":{regex:/^([0-9]{1,2})([\-\.\/])([0-9]{1,2})\2([0-9]{4})$/,parser:function(t){return t?Date.UTC(+t[4],t[1]-1,+t[3]):NaN}},"dd/mm/YY":{regex:/^([0-9]{1,2})([\-\.\/])([0-9]{1,2})\2([0-9]{2})$/,parser:function(t){if(!t)return NaN;var e=(e=+t[4])>(new Date).getFullYear()-2e3?e+1900:e+2e3;return Date.UTC(e,t[3]-1,+t[1])},alternative:"mm/dd/YY"},"mm/dd/YY":{regex:/^([0-9]{1,2})([\-\.\/])([0-9]{1,2})\2([0-9]{2})$/,parser:function(t){return t?Date.UTC(+t[4]+2e3,t[1]-1,+t[3]):NaN}}};var e=(t=r(n.defaultOptions,t)).decimalPoint;"."!==e&&","!==e||(this.decimalRegExp=new RegExp("^(-?[0-9]+)"+("."===e?"\\.":",")+"([0-9]+)$")),this.options=t}return n.prototype.asBoolean=function(t){return"boolean"==typeof t?t:"string"==typeof t?""!==t&&"0"!==t&&"false"!==t:!!this.asNumber(t)},n.prototype.asDate=function(t){if("string"==typeof t)t=this.parseDate(t);else if("number"!=typeof t){if(t instanceof Date)return t;t=this.parseDate(this.asString(t))}return new Date(t)},n.prototype.asGuessedType=function(t){return{number:this.asNumber,Date:this.asDate,string:this.asString}[this.guessType(t)].call(this,t)},n.prototype.asNumber=function(t){if("number"==typeof t)return t;if("boolean"==typeof t)return t?1:0;if("string"!=typeof t)return t instanceof Date?t.getDate():t?t.getRowCount():NaN;var e=this.decimalRegExp;if(-1<t.indexOf(" ")&&(t=t.replace(/\s+/g,"")),e){if(!e.test(t))return NaN;t=t.replace(e,"$1.$2")}return parseFloat(t)},n.prototype.asString=function(t){return""+t},n.prototype.deduceDateFormat=function(t,e,o){var r,n=[],i=[],s="YYYY/mm/dd",a=[],l=0,u=!1;for((!e||e>t.length)&&(e=t.length);l<e;l++)if(void 0!==t[l]&&t[l]&&t[l].length)for(var c=t[l].trim().replace(/[-\.\/]/g," ").split(" "),a=["","",""],p=0;p<c.length;p++)p<a.length&&(r=parseInt(c[p],10))&&(i[p]=!i[p]||i[p]<r?r:i[p],void 0!==n[p]?n[p]!==r&&(n[p]=!1):n[p]=r,31<r?a[p]=r<100?"YY":"YYYY":12<r&&r<=31?(a[p]="dd",u=!0):a[p].length||(a[p]="mm"));if(u){for(p=0;p<n.length;p++)!1!==n[p]?12<i[p]&&"YY"!==a[p]&&"YYYY"!==a[p]&&(a[p]="YY"):12<i[p]&&"mm"===a[p]&&(a[p]="dd");3===a.length&&"dd"===a[1]&&"dd"===a[2]&&(a[2]="YY"),s=a.join("/")}return o&&(this.options.dateFormat=s),s},n.prototype.emit=function(t){e(this,t.type,t)},n.prototype.export=function(t,e){throw this.emit({type:"exportError",columns:[],headers:[]}),Error("Not implemented")},n.prototype.getTable=function(){throw Error("Not implemented")},n.prototype.guessType=function(t){var e,o,r="string";return"string"==typeof t&&(o=this.trim("".concat(t)),e=this.decimalRegExp,o=this.trim(o,!0),+(o=e?e.test(o)?o.replace(e,"$1.$2"):"":o)===(e=parseFloat(o))?t=e:(r=this.parseDate(t),r=s(r)?"Date":"string")),r="number"==typeof t?31536e6<t?"Date":"number":r},n.prototype.on=function(t,e){return o(this,t,e)},n.prototype.parse=function(t){throw this.emit({type:"parseError",columns:[],headers:[]}),Error("Not implemented")},n.prototype.parseDate=function(t,e){var o,r,n=this.options,i=e||n.dateFormat;if(e=NaN,n.parseDate)e=n.parseDate(t);else{if(i)(n=this.dateFormats[i])||(n=this.dateFormats["YYYY/mm/dd"]),(r=t.match(n.regex))&&(e=n.parser(r));else for(o in this.dateFormats)if(n=this.dateFormats[o],r=t.match(n.regex)){e=n.parser(r);break}r||("object"==typeof(r=Date.parse(t))&&null!==r&&r.getTime?e=r.getTime()-6e4*r.getTimezoneOffset():s(r)&&(e=r-6e4*new Date(r).getTimezoneOffset(),-1===t.indexOf("2001")&&2001===new Date(e).getFullYear()&&(e=NaN)))}return e},n.prototype.trim=function(t,e){return"string"==typeof t&&(t=t.replace(/^\s+|\s+$/g,""),e&&/^[0-9\s]+$/.test(t)&&(t=t.replace(/\s/g,""))),t},n.defaultOptions={dateFormat:"",alternativeFormat:"",startColumn:0,endColumn:Number.MAX_VALUE,startRow:0,endRow:Number.MAX_VALUE,firstRowAsNames:!0,switchRowsAndColumns:!1},((t=n)||(t={})).getTableFromColumns=function(t,e){void 0===t&&(t=[]),void 0===e&&(e=[]);for(var o=new i,r=0,n=Math.max(e.length,t.length);r<n;++r)o.setColumn(e[r]||"".concat(r),t[r]);return o},t}),e(t,"Data/DataCursor.js",[],function(){l.prototype.addListener=function(t,e,o){return((t=this.listenerMap[t]=this.listenerMap[t]||{})[e]=t[e]||[]).push(o),this},l.prototype.buildEmittingTag=function(t){return("position"===t.cursor.type?[t.table.id,t.cursor.column,t.cursor.row,t.cursor.state,t.cursor.type]:[t.table.id,t.cursor.columns,t.cursor.firstRow,t.cursor.lastRow,t.cursor.state,t.cursor.type]).join("\0")},l.prototype.emitCursor=function(t,e,o,r){var n=t.id,i=e.state;if(i=this.listenerMap[n]&&this.listenerMap[n][i]){var s=(n=this.stateMap[n]=this.stateMap[n]||{})[e.state];if(r&&(s=s||(n[e.state]=[]),-1===l.getIndex(e,s)&&s.push(e)),t={cursor:e,cursors:s||[],table:t},o&&(t.event=o),e=this.emittingRegister,o=this.buildEmittingTag(t),0<=e.indexOf(o))return this;try{this.emittingRegister.push(o),e=0;for(var a=i.length;e<a;++e)i[e].call(this,t)}finally{0<=(a=this.emittingRegister.indexOf(o))&&this.emittingRegister.splice(a,1)}}return this},l.prototype.remitCursor=function(t,e){return!(t=this.stateMap[t]&&this.stateMap[t][e.state])||0<=(e=l.getIndex(e,t))&&t.splice(e,1),this},l.prototype.removeListener=function(t,e,o){return(t=this.listenerMap[t]&&this.listenerMap[t][e])&&(o=t.indexOf(o))&&t.splice(o,1),this};var t,e=l;function l(t){void 0===t&&(t={}),this.emittingRegister=[],this.listenerMap={},this.stateMap=t}function n(t,e){var o;return"range"===t.type?t:(e={type:"range",firstRow:null!=(o=null!=(o=t.row)?o:e&&e.firstRow)?o:0,lastRow:null!=(o=null!=(o=t.row)?o:e&&e.lastRow)?o:Number.MAX_VALUE,state:t.state},void 0!==t.column&&(e.columns=[t.column]),e)}return(t=e=l||{}).getIndex=function(t,e){if("position"===t.type){for(var o,r=0,n=e.length;r<n;++r)if("position"===(o=e[r]).type&&o.state===t.state&&o.column===t.column&&o.row===t.row)return r}else for(var i=JSON.stringify(t.columns),r=0,n=e.length;r<n;++r)if("range"===(o=e[r]).type&&o.state===t.state&&o.firstRow===t.firstRow&&o.lastRow===t.lastRow&&JSON.stringify(o.columns)===i)return r;return-1},t.isEqual=function(t,e){return"position"===t.type&&"position"===e.type?t.column===e.column&&t.row===e.row&&t.state===e.state:"range"===t.type&&"range"===e.type&&(t.firstRow===e.firstRow&&t.lastRow===e.lastRow&&JSON.stringify(t.columns)===JSON.stringify(e.columns))},t.isInRange=function(t,e){"position"===e.type&&(e=n(e));var o=(t="position"===t.type?n(t,e):t).columns,r=e.columns;return t.firstRow>=e.firstRow&&t.lastRow<=e.lastRow&&(!o||!r||o.every(function(t){return 0<=r.indexOf(t)}))},t.toPositions=function(t){if("position"===t.type)return[t];var e=t.columns||[],o=[],r=t.state,n=t.firstRow;for(t=t.lastRow;n<t;++n)if(e.length)for(var i=0,s=e.length;i<s;++i)o.push({type:"position",column:e[i],row:n,state:r});else o.push({type:"position",row:n,state:r});return o},t.toRange=n,e}),e(t,"Data/Modifiers/DataModifier.js",[t["Core/Utilities.js"]],function(t){var o,r=t.addEvent,e=t.fireEvent,l=t.merge;function n(){}return n.prototype.benchmark=function(t,e){function o(){i.modifyTable(t),i.emit({type:"afterBenchmarkIteration"})}var r,n=[],i=this,s=l({iterations:1},e).iterations,a=(i.on("afterBenchmarkIteration",function(){n.length===s?i.emit({type:"afterBenchmark",results:n}):o()}),0);return i.on("modify",function(){a=window.performance.now()}),i.on("afterModify",function(){r=window.performance.now(),n.push(r-a)}),o(),n},n.prototype.emit=function(t){e(this,t.type,t)},n.prototype.modify=function(o,r){var n=this;return new Promise(function(t,e){o.modified===o&&(o.modified=o.clone(!1,r));try{t(n.modifyTable(o,r))}catch(t){n.emit({type:"error",detail:r,table:o}),e(t)}})},n.prototype.modifyCell=function(t,e,o,r,n){return this.modifyTable(t)},n.prototype.modifyColumns=function(t,e,o,r){return this.modifyTable(t)},n.prototype.modifyRows=function(t,e,o,r){return this.modifyTable(t)},n.prototype.on=function(t,e){return r(this,t,e)},(o=t=(t=n)||{}).types={},o.registerType=function(t,e){return!!t&&!o.types[t]&&!!(o.types[t]=e)},t}),e(t,"Data/DataPoolDefaults.js",[],function(){return{connectors:[]}}),e(t,"Data/DataPool.js",[t["Data/DataPoolDefaults.js"],t["Data/Connectors/DataConnector.js"]],function(e,i){return t.prototype.getConnector=function(t){var e=this.connectors[t];if(e)return Promise.resolve(e);if(e=this.getConnectorOptions(t))return this.loadConnector(e);throw Error("Connector not found. (".concat(t,")"))},t.prototype.getConnectorOptions=function(t){for(var e=this.options.connectors,o=0,r=e.length;o<r;++o)if(e[o].name===t)return e[o]},t.prototype.getConnectorTable=function(t){return this.getConnector(t).then(function(t){return t.table})},t.prototype.loadConnector=function(r){var n=this;return new Promise(function(t,e){var o=i.types[r.type];if(!o)throw Error("Connector type not found. (".concat(r.type,")"));o=new o(r.options),(n.connectors[r.name]=o).load().then(t).catch(e)})},t.prototype.setConnectorOptions=function(t){for(var e=this.options.connectors,o=0,r=e.length;o<r;++o)if(e[o].name===t.name)return void e.splice(o,1,t);e.push(t)},t;function t(t){(t=void 0===t?e:t).connectors=t.connectors||[],this.options=t,this.connectors={}}}),e(t,"Data/Converters/CSVConverter.js",[t["Data/Converters/DataConverter.js"],t["Core/Utilities.js"]],function(t,e){var r,o,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,o=1,r=arguments.length;o<r;o++)for(var n in e=arguments[o])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},u=e.merge;return n(s,o=t),s.prototype.export=function(t,e){var o=(e=void 0===e?this.options:e).useLocalDecimalPoint,r=e.lineDelimiter,n=!1!==this.options.firstRowAsNames,i=e.decimalPoint,s=e.itemDelimiter,i=i||(","!==s&&o?1.1.toLocaleString()[1]:"."),s=s||(","===i?";":",");e=t.getSortedColumns(e.usePresentationOrder);var a=[],l=(o=Object.keys(e)).length,u=[];for(n&&a.push(o.map(function(t){return'"'.concat(t,'"')}).join(s)),n=0;n<l;n++){var c=e[m=o[n]],p=c.length,f=t.whatIs(m),m=void 0;for(f&&(m=f.dataType),f=0;f<p;f++){var h=c[f];if(u[f]||(u[f]=[]),"string"===m?h='"'+h+'"':"number"==typeof h?h=String(h).replace(".",i):"string"==typeof h&&(h='"'.concat(h,'"')),u[f][n]=h,n===l-1){for(h=n;2<u[f].length&&void 0===u[f][h];)u[f].pop(),h--;a.push(u[f].join(s))}}}return a.join(r)},s.prototype.parse=function(t,e){var o=this.dataTypes,r=u(this.options,t),n=r.beforeParse,i=r.lineDelimiter,s=r.firstRowAsNames,a=r.itemDelimiter,l=r.csv;if(t=r.startRow,r=r.endRow,this.columns=[],this.emit({type:"parse",columns:this.columns,detail:e,headers:this.headers}),l=l&&n?n(l):l){if(n=l.replace(/\r\n|\r/g,"\n").split(i||"\n"),(!t||t<0)&&(t=0),(!r||r>=n.length)&&(r=n.length-1),a||(this.guessedItemDelimiter=this.guessDelimiter(n)),s){for(a=n[0].split(a||this.guessedItemDelimiter||","),s=0;s<a.length;s++)a[s]=a[s].replace(/^["']|["']$/g,"");this.headers=a,t++}for(a=0,s=t;s<=r;s++)"#"===n[s][0]?a++:this.parseCSVRow(n[s],s-t-a);for(o.length&&o[0].length&&"date"===o[0][1]&&!this.options.dateFormat&&this.deduceDateFormat(this.columns[0],null,!0),s=0,t=this.columns.length;s<t;++s)for(r=0,a=(o=this.columns[s]).length;r<a;++r)o[r]&&"string"==typeof o[r]&&((n=this.asGuessedType(o[r]))instanceof Date&&(n=n.getTime()),this.columns[s][r]=n)}this.emit({type:"afterParse",columns:this.columns,detail:e,headers:this.headers})},s.prototype.parseCSVRow=function(e,o){function t(t){f=e[t],m=e[t-1],h=e[t+1]}function r(){var t;y<a||l<y?(++y,d=""):("string"==typeof d?!isNaN(parseFloat(d))&&isFinite(d)?(d=parseFloat(d),v("number")):isNaN(Date.parse(d))?v("string"):(d=d.replace(/\//g,"-"),v("date")):v("number"),i.length<g+1&&i.push([]),"number"!=typeof d&&"number"!==n.guessType(d)&&c&&(d=(t=d).replace(c,"."),"number"!==n.guessType(d)&&(d=t)),i[g][o]=d,d="",++g,++y)}var n=this,i=n.columns||[],s=n.dataTypes,a=(u=n.options).startColumn,l=u.endColumn,u=n.options.itemDelimiter||n.guessedItemDelimiter,c=n.options.decimalPoint,p=(c&&c!==u||(c=n.guessedDecimalPoint||"."),0),f="",m="",h="",d="",y=0,g=0,v=function(t){s.length<g+1&&s.push([t]),s[g][s[g].length-1]!==t&&s[g].push(t)};if(e.trim().length&&"#"!==e.trim()[0]){for(;p<e.length;p++){if(t(p),"#"===f&&!/^#[0-F]{3,3}|[0-F]{6,6}/i.test(e.substring(p)))return void r();if('"'===f)for(t(++p);p<e.length&&('"'!==f||'"'===m||'"'===h);)('"'!==f||'"'===f&&'"'!==m)&&(d+=f),t(++p);else f===u?r():d+=f}r()}},s.prototype.guessDelimiter=function(t){for(var e=0,o=0,r={",":0,";":0,"\t":0},n=t.length,i=0;i<n;i++){var s=!1,a="";if(13<i)break;for(var l=t[i],u=0;u<l.length;u++){var c=l[u],p=l[u+1],f=l[u-1];if("#"===c)break;if('"'===c)if(s){if('"'!==f&&'"'!==p){for(;" "===p&&u<l.length;)p=l[++u];void 0!==r[p]&&r[p]++,s=!1}}else s=!0;else void 0!==r[c]?(a=a.trim(),isNaN(Date.parse(a))&&!isNaN(Number(a))&&isFinite(Number(a))||r[c]++,a=""):a+=c;","===c&&o++,"."===c&&e++}}return t=r[";"]>r[","]?";":",",this.guessedDecimalPoint=o<e?".":",",t},s.prototype.getTable=function(){return t.getTableFromColumns(this.columns,this.headers)},s.defaultOptions=i(i({},t.defaultOptions),{lineDelimiter:"\n"}),s;function s(t){var e=u(s.defaultOptions,t);return(t=o.call(this,e)||this).columns=[],t.headers=[],t.dataTypes=[],t.options=e,t}}),e(t,"Data/Connectors/CSVConnector.js",[t["Data/Converters/CSVConverter.js"],t["Data/Connectors/DataConnector.js"],t["Core/Utilities.js"]],function(o,t,e){var r,n,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=e.merge;function a(t){var e=s(a.defaultOptions,t);return(t=n.call(this,e)||this).converter=new o(e),(t.options=e).enablePolling&&t.startPolling(1e3*Math.max(e.dataRefreshRate||0,1)),t}return i(a,n=t),a.prototype.load=function(e){var o=this,t=o.converter,r=o.table,n=(i=o.options).csv,i=i.csvURL;if(n)r.deleteRows(),o.emit({type:"load",csv:n,detail:e,table:r}),t.parse({csv:n}),r.setColumns(t.getTable().getColumns()),o.emit({type:"afterLoad",csv:n,detail:e,table:r});else{if(i)return o.table.deleteColumns(),o.emit({type:"load",detail:e,table:o.table}),fetch(i||"").then(function(t){return t.text().then(function(t){o.converter.parse({csv:t}),o.table.setColumns(o.converter.getTable().getColumns()),o.emit({type:"afterLoad",csv:t,detail:e,table:o.table})})}).catch(function(t){return o.emit({type:"loadError",detail:e,error:t,table:o.table}),Promise.reject(t)}).then(function(){return o});o.emit({type:"loadError",detail:e,error:"Unable to load: no CSV string or URL was provided",table:r})}return Promise.resolve(o)},a.defaultOptions={csv:"",csvURL:"",enablePolling:!1,dataRefreshRate:1},t.registerType("CSV",e=a),e}),e(t,"Data/Converters/GoogleSheetsConverter.js",[t["Data/Converters/DataConverter.js"],t["Core/Utilities.js"]],function(t,e){var r,o,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,o=1,r=arguments.length;o<r;o++)for(var n in e=arguments[o])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},u=e.merge,c=e.uniqueKey;return n(s,o=t),s.prototype.parse=function(t,e){var o=((t=u(this.options,t)).json&&t.json.values||[]).map(function(t){return t.slice()});if(0===o.length)return!1;this.header=[],this.columns=[],this.emit({type:"parse",columns:this.columns,detail:e,headers:this.header});for(var r,n=0,i=(this.columns=o).length;n<i;n++){r=o[n],this.header[n]=t.firstRowAsNames?"".concat(r.shift()):c();for(var s,a=0,l=r.length;a<l;++a)r[a]&&"string"==typeof r[a]&&((s=this.asGuessedType(r[a]))instanceof Date&&(s=s.getTime()),this.columns[n][a]=s)}this.emit({type:"afterParse",columns:this.columns,detail:e,headers:this.header})},s.prototype.getTable=function(){return t.getTableFromColumns(this.columns,this.header)},s.defaultOptions=i({},t.defaultOptions),s;function s(t){var e=u(s.defaultOptions,t);return(t=o.call(this,e)||this).columns=[],t.header=[],t.options=e,t}}),e(t,"Data/Connectors/GoogleSheetsConnector.js",[t["Data/Connectors/DataConnector.js"],t["Data/Converters/GoogleSheetsConverter.js"],t["Core/Utilities.js"]],function(t,o,e){var r,n,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=e.merge,a=e.pick;function l(t){var e=s(l.defaultOptions,t);return(t=n.call(this,e)||this).converter=new o(e),t.options=e,t}function u(t){var e=(t=void 0===t?{}:t).endColumn,o=t.endRow,r=t.startColumn,n=t.startRow;return t.googleSpreadsheetRange||("ABCDEFGHIJKLMNOPQRSTUVWXYZ"[r||0]||"A")+(Math.max(n||0,0)+1)+":"+("ABCDEFGHIJKLMNOPQRSTUVWXYZ"[a(e,25)]||"Z")+(o?Math.max(o,0):"Z")}return i(l,n=t),l.prototype.load=function(e){var o=this,t=o.options,r=t.dataRefreshRate,n=t.enablePolling,i=t.firstRowAsNames,s=l.buildFetchURL(t.googleAPIKey,t.googleSpreadsheetKey,o.options);return o.table.deleteColumns(),o.emit({type:"load",detail:e,table:o.table,url:s}),fetch(s).then(function(t){return t.json().then(function(t){if("object"==typeof t&&t&&"object"==typeof t.error&&t.error&&"number"==typeof t.error.code&&"string"==typeof t.error.message&&"string"==typeof t.error.status)throw Error(t.error.message);o.converter.parse({firstRowAsNames:i,json:t}),o.table.setColumns(o.converter.getTable().getColumns()),o.emit({type:"afterLoad",detail:e,table:o.table,url:s}),n&&setTimeout(function(){return o.load()},1e3*Math.max(r||0,1))})}).catch(function(t){return o.emit({type:"loadError",detail:e,error:t,table:o.table}),Promise.reject(t)}).then(function(){return o})},l.defaultOptions={googleAPIKey:"",googleSpreadsheetKey:"",worksheet:1,enablePolling:!1,dataRefreshRate:2,firstRowAsNames:!0},(i=e=(e=l)||{}).buildFetchURL=function(t,e,o){return void 0===o&&(o={}),"https://sheets.googleapis.com/v4/spreadsheets/".concat(e,"/values/")+(o.onlyColumnNames?"A1:Z1":u(o))+"?alt=json"+(o.onlyColumnNames?"":"&dateTimeRenderOption=FORMATTED_STRING&majorDimension=COLUMNS&valueRenderOption=UNFORMATTED_VALUE")+"&prettyPrint=false"+"&key=".concat(t)},i.buildQueryRange=u,t.registerType("GoogleSheets",e),e}),e(t,"Data/Converters/HTMLTableConverter.js",[t["Data/Converters/DataConverter.js"],t["Core/Utilities.js"]],function(t,e){var r,o,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,o=1,r=arguments.length;o<r;o++)for(var n in e=arguments[o])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},y=e.merge;return n(s,o=t),s.prototype.export=function(t,e){var o=!1!==(e=void 0===e?this.options:e).firstRowAsNames,r=e.useMultiLevelHeaders,n=t.getSortedColumns(e.usePresentationOrder),i=Object.keys(n),s=(t=[],i.length),a=[],l="";if(o)if(l=[],r){for(r=0;r<i.length;r++)o=(n[i[r]].shift()||"").toString(),l.push(o);l=this.getTableHeaderHTML(i,l,e)}else l=this.getTableHeaderHTML(void 0,i,e);for(r=0;r<s;r++)for(var u=(o=n[i[r]]).length,c=0;c<u;c++){var p=o[c];a[c]||(a[c]=[]),"string"!=typeof p&&"number"!=typeof p&&void 0!==p&&(p=(p||"").toString()),a[c][r]=this.getCellHTMLFromValue(r?"td":"th",null,r?"":'scope="row"',p),r===s-1&&t.push("<tr>"+a[c].join("")+"</tr>")}return n="","<table>"+(n=e.tableCaption?'<caption class="highcharts-table-caption">'+e.tableCaption+"</caption>":n)+l+"<tbody>"+t.join("")+"</tbody></table>"},s.prototype.getCellHTMLFromValue=function(t,e,o,r,n){var i=r;return e="text"+(e?" "+e:""),"number"==typeof i?(i=i.toString(),","===n&&(i=i.replace(".",n)),e="number"):r||(i="",e="empty"),"<"+t+(o?" "+o:"")+' class="'+e+'">'+i+"</"+t+">"},s.prototype.getTableHeaderHTML=function(t,e,o){void 0===t&&(t=[]),void 0===e&&(e=[]);var r=(o=void 0===o?this.options:o).useMultiLevelHeaders,n=o.useRowspanHeaders,i=(o.useLocalDecimalPoint&&1.1.toLocaleString(),o="<thead>",0),s=e&&e.length,a=0;if(r=r&&t&&e){t:if(r=t.length,e.length===r){for(;--r;)if(t[r]!==e[r]){r=!1;break t}r=!0}else r=!1;r=!r}if(r){for(o+="<tr>";i<s;++i){var r=t[i],l=t[i+1];r===l?++a:a?(o+=this.getCellHTMLFromValue("th","highcharts-table-topheading",'scope="col" colspan="'+(a+1)+'"',r),a=0):(r===e[i]?n?(l=2,delete e[i]):(l=1,e[i]=""):l=1,o+=this.getCellHTMLFromValue("th","highcharts-table-topheading",'scope="col"'+(1<l?' valign="top" rowspan="'+l+'"':""),r))}o+="</tr>"}if(e){for(o+="<tr>",i=0,s=e.length;i<s;++i)void 0!==e[i]&&(o+=this.getCellHTMLFromValue("th",null,'scope="col"',e[i]));o+="</tr>"}return o+"</thead>"},s.prototype.parse=function(t,e){var o=[],r=[],n=(t=(c=y(this.options,t)).endRow,c.startColumn),i=c.endColumn,s=c.firstRowAsNames;if((a=c.tableElement||this.tableElement)instanceof HTMLElement){this.tableElement=a,this.tableElementID=a.id,this.emit({type:"parse",columns:this.columns,detail:e,headers:this.headers});var a,l=(a=a.getElementsByTagName("tr")).length,u=0,c=c.startRow;if(s&&l){for(var p=a[0].children,f=p.length,m=n;m<f&&!(i<m);m++)"TD"!==(s=p[m]).tagName&&"TH"!==s.tagName||r.push(s.innerHTML);c++}for(;u<l;){if(c<=u&&u<=t)for(var f=(p=a[u].children).length,h=0;h<f;){var d=o[m=h-n];if(("TD"===(s=p[h]).tagName||"TH"===s.tagName)&&n<=h&&h<=i)for(o[m]||(o[m]=[]),(s=this.asGuessedType(s.innerHTML))instanceof Date&&(s=s.getTime()),o[m][u-c]=s,m=1;m<=u-c&&void 0===d[u-c-m];)d[u-c-m]=null,m++;h++}u++}this.columns=o,this.headers=r,this.emit({type:"afterParse",columns:o,detail:e,headers:r})}else this.emit({type:"parseError",columns:o,detail:e,headers:r,error:"Not a valid HTML Table"})},s.prototype.getTable=function(){return t.getTableFromColumns(this.columns,this.headers)},s.defaultOptions=i(i({},t.defaultOptions),{useRowspanHeaders:!0,useMultiLevelHeaders:!0}),s;function s(t){var e=y(s.defaultOptions,t);return(t=o.call(this,e)||this).columns=[],t.headers=[],(t.options=e).tableElement&&(t.tableElement=e.tableElement,t.tableElementID=e.tableElement.id),t}}),e(t,"Data/Connectors/HTMLTableConnector.js",[t["Data/Connectors/DataConnector.js"],t["Core/Globals.js"],t["Data/Converters/HTMLTableConverter.js"],t["Core/Utilities.js"]],function(t,e,o,r){var n,i,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=e.win,l=r.merge;function u(t){var e=l(u.defaultOptions,t);return(t=i.call(this,e)||this).converter=new o(e),t.options=e,t}return s(u,i=t),u.prototype.load=function(t){this.table.deleteColumns(),this.emit({type:"load",detail:t,table:this.table,tableElement:this.tableElement});var e=this.options.table;return"string"==typeof e?(this.tableID=e,e=a.document.getElementById(e)):this.tableID=e.id,this.tableElement=e||void 0,this.tableElement?(this.converter.parse(l({tableElement:this.tableElement},this.options),t),this.table.setColumns(this.converter.getTable().getColumns()),this.emit({type:"afterLoad",detail:t,table:this.table,tableElement:this.tableElement}),Promise.resolve(this)):(this.emit({type:"loadError",detail:t,error:"HTML table not provided, or element with ID not found",table:this.table}),Promise.reject(Error("HTML table not provided, or element with ID not found")))},u.defaultOptions={table:""},t.registerType("HTMLTable",e=u),e}),e(t,"Data/Modifiers/ChainModifier.js",[t["Data/Modifiers/DataModifier.js"],t["Core/Utilities.js"]],function(a,t){var r,l,e=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),u=t.merge;function c(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];(o=l.call(this)||this).chain=e,o.options=u(c.defaultOptions,t);for(var r,n=o.options.chain||[],i=0,s=n.length;i<s;++i)(r=a.types[n[i].modifier])&&e.unshift(new r(n[i]));return o}return e(c,l=a),c.prototype.add=function(t,e){this.emit({type:"addModifier",detail:e,modifier:t}),this.chain.push(t),this.emit({type:"addModifier",detail:e,modifier:t})},c.prototype.clear=function(t){this.emit({type:"clearChain",detail:t}),this.chain.length=0,this.emit({type:"afterClearChain",detail:t})},c.prototype.modify=function(e,o){for(var r=this,n=this.options.reverse?this.chain.slice().reverse():this.chain.slice(),i=Promise.resolve(e),t=0,s=n.length;t<s;++t)!function(t){var e=n[t];i=i.then(function(t){return e.modify(t.modified,o)})}(t);return i=(i=i.then(function(t){return e.modified=t.modified,e})).catch(function(t){throw r.emit({type:"error",detail:o,table:e}),t})},c.prototype.modifyCell=function(t,e,o,r,n){var i=this.options.reverse?this.chain.reverse():this.chain;if(i.length){for(var s=t.clone(),a=0,l=i.length;a<l;++a)i[a].modifyCell(s,e,o,r,n),s=s.modified;t.modified=s}return t},c.prototype.modifyColumns=function(t,e,o,r){var n=this.options.reverse?this.chain.reverse():this.chain.slice();if(n.length){for(var i=t.clone(),s=0,a=n.length;s<a;++s)n[s].modifyColumns(i,e,o,r),i=i.modified;t.modified=i}return t},c.prototype.modifyRows=function(t,e,o,r){var n=this.options.reverse?this.chain.reverse():this.chain.slice();if(n.length){for(var i=t.clone(),s=0,a=n.length;s<a;++s)n[s].modifyRows(i,e,o,r),i=i.modified;t.modified=i}return t},c.prototype.modifyTable=function(t,e){this.emit({type:"modify",detail:e,table:t});for(var o=this.options.reverse?this.chain.reverse():this.chain.slice(),r=t.modified,n=0,i=o.length;n<i;++n)r=o[n].modifyTable(r,e).modified;return t.modified=r,this.emit({type:"afterModify",detail:e,table:t}),t},c.prototype.remove=function(t,e){var o=this.chain;this.emit({type:"removeModifier",detail:e,modifier:t}),o.splice(o.indexOf(t),1),this.emit({type:"afterRemoveModifier",detail:e,modifier:t})},c.defaultOptions={modifier:"Chain"},a.registerType("Chain",t=c),t}),e(t,"Data/Modifiers/InvertModifier.js",[t["Data/Modifiers/DataModifier.js"],t["Core/Utilities.js"]],function(t,e){var r,o,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=e.merge;function s(t){var e=o.call(this)||this;return e.options=i(s.defaultOptions,t),e}return n(s,o=t),s.prototype.modifyCell=function(t,e,o,r,n){var i=t.modified;return void 0===(e=i.getRowIndexBy("columnNames",e))?i.setColumns(this.modifyTable(t.clone()).getColumns(),void 0,n):i.setCell("".concat(o),e,r,n),t},s.prototype.modifyColumns=function(t,e,o,r){var n=t.modified,i=n.getColumn("columnNames")||[],s=t.getColumnNames();if(!(u=t.getRowCount()!==i.length))for(var a=0,l=s.length;a<l;++a)if(s[a]!==i[a]){u=!0;break}if(u)return this.modifyTable(t,r);for(a=0,l=(s=Object.keys(e)).length;a<l;++a)for(var i=e[u=s[a]],u=n.getRowIndexBy("columnNames",u)||n.getRowCount(),c=0,p=o,f=i.length;c<f;++c,++p)n.setCell("".concat(p),u,i[c],r);return t},s.prototype.modifyRows=function(t,e,o,r){var n=t.getColumnNames(),i=t.modified,s=i.getColumn("columnNames")||[];if(!(u=t.getRowCount()!==s.length))for(var a=0,l=n.length;a<l;++a)if(n[a]!==s[a]){u=!0;break}if(u)return this.modifyTable(t,r);for(a=0,l=e.length;a<l;++a,++o)if((s=e[a])instanceof Array)i.setColumn("".concat(o),s);else for(var u=0,c=n.length;u<c;++u)i.setCell("".concat(o),u,s[n[u]],r);return t},s.prototype.modifyTable=function(t,e){this.emit({type:"modify",detail:e,table:t});var o=t.modified;if(t.hasColumns(["columnNames"]))for(var r=((t.deleteColumns(["columnNames"])||{}).columnNames||[]).map(function(t){return"".concat(t)}),n={},i=0,s=t.getRowCount(),a=void 0;i<s;++i)(a=t.getRow(i))&&(n[r[i]]=a);else{for(n={},i=0,s=t.getRowCount(),a=void 0;i<s;++i)(a=t.getRow(i))&&(n["".concat(i)]=a);n.columnNames=t.getColumnNames()}return o.deleteColumns(),o.setColumns(n),this.emit({type:"afterModify",detail:e,table:t}),t},s.defaultOptions={modifier:"Invert"},t.registerType("Invert",e=s),e}),e(t,"Data/Modifiers/RangeModifier.js",[t["Data/Modifiers/DataModifier.js"],t["Core/Utilities.js"]],function(t,e){var r,o,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=e.merge;function s(t){var e=o.call(this)||this;return e.options=i(s.defaultOptions,t),e}return n(s,o=t),s.prototype.modifyTable=function(t,e){this.emit({type:"modify",detail:e,table:t});var o=(r=this.options).ranges,r=r.strict;if(o.length){for(var n,i=t.getColumns(),s=[],a=t.modified,l=0,u=o.length;l<u;++l)if(n=o[l],!r||typeof n.minValue==typeof n.maxValue)for(var c,p,f=0,m=(c=i[n.column]||[]).length;f<m;++f){switch(typeof(p=c[f])){default:continue;case"boolean":case"number":case"string":}(!r||typeof p==typeof n.minValue)&&p>=n.minValue&&p<=n.maxValue&&(p=t.getRow(f))&&s.push(p)}a.deleteRows(),a.setRows(s)}return this.emit({type:"afterModify",detail:e,table:t}),t},s.defaultOptions={modifier:"Range",strict:!1,ranges:[]},t.registerType("Range",e=s),e}),e(t,"Data/Modifiers/SortModifier.js",[t["Data/Modifiers/DataModifier.js"],t["Data/DataTable.js"],t["Core/Utilities.js"]],function(t,a,e){var r,o,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=e.merge;function p(t){var e=o.call(this)||this;return e.options=i(p.defaultOptions,t),e}return n(p,o=t),p.ascending=function(t,e){return(t||0)<(e||0)?-1:(e||0)<(t||0)?1:0},p.descending=function(t,e){return(e||0)<(t||0)?-1:(t||0)<(e||0)?1:0},p.prototype.modifyCell=function(t,e,o,r,n){var i=(s=this.options).orderByColumn,s=s.orderInColumn;return e===i&&(s?(t.modified.setCell(e,o,r),t.modified.setColumn(s,this.modifyTable(new a({columns:t.getColumns([i,s])})).modified.getColumn(s))):this.modifyTable(t,n)),t},p.prototype.modifyColumns=function(t,e,o,r){var n=(i=this.options).orderByColumn,i=i.orderInColumn,s=Object.keys(e);return-1<s.indexOf(n)&&(i&&e[s[0]].length?(t.modified.setColumns(e,o),t.modified.setColumn(i,this.modifyTable(new a({columns:t.getColumns([n,i])})).modified.getColumn(i))):this.modifyTable(t,r)),t},p.prototype.modifyRows=function(t,e,o,r){var n=this.options,i=n.orderByColumn;return(n=n.orderInColumn)&&e.length?(t.modified.setRows(e,o),t.modified.setColumn(n,this.modifyTable(new a({columns:t.getColumns([i,n])})).modified.getColumn(n))):this.modifyTable(t,r),t},p.prototype.modifyTable=function(t,e){this.emit({type:"modify",detail:e,table:t});var o,r=t.getColumnNames(),n=t.getRowCount(),i=t.getRows().map(function(t,e){return{index:e,row:t}}),s=(c=this.options).orderInColumn,a="asc"===c.direction?p.ascending:p.descending,l=r.indexOf(c.orderByColumn),r=t.modified;if(-1!==l&&i.sort(function(t,e){return a(t.row[l],e.row[l])}),s){for(var u=[],c=0;c<n;++c)u[i[c].index]=c;r.setColumns(((o={})[s]=u,o))}else{for(o=[],c=0;c<n;++c)o.push(i[c].row);r.setRows(o,0)}return this.emit({type:"afterModify",detail:e,table:t}),t},p.defaultOptions={modifier:"Sort",direction:"desc",orderByColumn:"y"},t.registerType("Sort",e=p),e}),e(t,"masters/modules/data-tools.src.js",[t["Core/Globals.js"],t["Data/Connectors/DataConnector.js"],t["Data/Converters/DataConverter.js"],t["Data/DataCursor.js"],t["Data/Modifiers/DataModifier.js"],t["Data/DataPool.js"],t["Data/DataTable.js"]],function(t,e,o,r,n,i,s){t.DataConnector=e,t.DataConverter=o,t.DataCursor=r,t.DataModifier=n,t.DataPool=i,t.DataTable=s})});