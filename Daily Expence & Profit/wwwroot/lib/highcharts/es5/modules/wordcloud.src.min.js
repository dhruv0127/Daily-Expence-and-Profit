!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/wordcloud",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function e(t,e,i,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t,"Series/DrawPointUtilities.js",[t["Core/Utilities.js"]],function(t){var l=this&&this.__assign||function(){return(l=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};t.isNumber;return{draw:function(t,e){var i=e.animatableAttribs,o=e.onComplete,n=e.css,r=e.renderer,a=t.series&&t.series.chart.hasRendered?void 0:t.series&&t.series.options.animation,s=t.graphic;e.attribs=l(l({},e.attribs),{class:t.getClassName()})||{},t.shouldDraw()?(s||(t.graphic=s="text"===e.shapeType?r.text():r[e.shapeType](e.shapeArgs||{}),s.add(e.group)),n&&s.css(n),s.attr(e.attribs).animate(i,!e.isNew&&a,o)):s&&(r=function(){t.graphic=s=s&&s.destroy(),"function"==typeof o&&o()},Object.keys(i).length?s.animate(i,void 0,r):r())}}}),e(t,"Series/Wordcloud/WordcloudPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var o,i,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),t=t.seriesTypes.column.prototype.pointClass,e=e.extend,n=(n(r,i=t),r.prototype.isValid=function(){return!0},r);function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.dimensions=void 0,t.options=void 0,t.polygon=void 0,t.rect=void 0,t.series=void 0,t}return e(n.prototype,{weight:1}),n}),e(t,"Series/Wordcloud/WordcloudUtils.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,e){var n=t.deg2rad,f=e.extend,s=e.find,r=e.isNumber,m=e.isObject,a=e.merge;function l(t,e){return!(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top)}function i(t){var r=t.axes||[];return r.length||(r=[],t.concat([t[0]]).reduce(function(t,e){o=(i=e)[0]-t[0];var i,o,n=[[-(i=e[1]-t[1]),o],[i,-o]][0];return s(r,function(t){return t[0]===n[0]&&t[1]===n[1]})||r.push(n),e}),t.axes=r),r}function u(t,i){t=t.map(function(t){var e=t[0],t=t[1];return e*i[0]+t*i[1]});return{min:Math.min.apply(this,t),max:Math.max.apply(this,t)}}function d(o,n){var t=i(o),e=i(n),t=t.concat(e);return!s(t,function(t){return i=n,e=u(e=o,t=t),!!((i=u(i,t)).min>e.max||i.max<e.min);var e,i})}function y(i,t){function o(t){var e=l(n,t.rect);return e=e&&(i.rotation%90||t.rotation%90)?d(r,t.polygon):e}var e=!1,n=i.rect,r=i.polygon,a=i.lastCollidedWith;return a&&!(e=o(a))&&delete i.lastCollidedWith,e=e||!!s(t,function(t){var e=o(t);return e&&(i.lastCollidedWith=t),e})}function o(t,e){function i(t){return"boolean"==typeof t}var o=4*t,n=Math.ceil((Math.sqrt(o)-1)/2),r=2*n+1,a=Math.pow(r,2),s=!1;return--r,t<=1e4&&(i(s)&&a-r<=o&&(s={x:n-(a-o),y:-n}),a-=r,i(s)&&a-r<=o&&(s={x:-n,y:a-o-n}),a-=r,(s=i(s)?a-r<=o?{x:a-o-n,y:n}:{x:n,y:n-(a-o-r)}:s).x*=5,s.y*=5),s}function h(t,e){e=r(e)?e:14,e=Math.pow(10,e);return Math.round(t*e)/e}function c(t,e){var i=t[0],t=t[1],e=n*-e,o=Math.cos(e),e=Math.sin(e);return[h(i*o-t*e),h(i*e+t*o)]}function p(t,e,i){t=c([t[0]-e[0],t[1]-e[1]],i);return[t[0]+e[0],t[1]+e[1]]}return{archimedeanSpiral:function(t,e){var e=e.field,i=!1,e=e.width*e.width+e.height*e.height,o=.8*t;return t<=1e4&&(i={x:o*Math.cos(o),y:o*Math.sin(o)},Math.min(Math.abs(i.x),Math.abs(i.y))<e||(i=!1)),i},extendPlayingField:function(t,e){var i,o,n=m(t)&&m(e)?(n=e.bottom-e.top,e=e.right-e.left,i=t.ratioX,o=t.ratioY,a(t,{width:t.width+2*((e=n*o<e*i?e:n)*i),height:t.height+2*(e*o)})):t;return n},getBoundingBoxFromPolygon:function(t){return t.reduce(function(t,e){var i=e[0],e=e[1];return t.left=Math.min(i,t.left),t.right=Math.max(i,t.right),t.bottom=Math.max(e,t.bottom),t.top=Math.min(e,t.top),t},{left:Number.MAX_VALUE,right:-Number.MAX_VALUE,bottom:-Number.MAX_VALUE,top:Number.MAX_VALUE})},getPlayingField:function(t,e,i){var i=i.reduce(function(t,e){var e=e.dimensions,i=Math.max(e.width,e.height);return t.maxHeight=Math.max(t.maxHeight,e.height),t.maxWidth=Math.max(t.maxWidth,e.width),t.area+=i*i,t},{maxHeight:0,maxWidth:0,area:0}),i=Math.max(i.maxHeight,i.maxWidth,.85*Math.sqrt(i.area)),o=e<t?t/e:1;return{width:i*o,height:i*(e=t<e?e/t:1),ratioX:o,ratioY:e}},getPolygon:function(t,e,i,o,n){var r=[t,e],a=t-i/2,t=t+i/2;return[[a,i=e-o/2],[t,i],[t,e=e+o/2],[a,e]].map(function(t){return p(t,r,-n)})},getRandomPosition:function(t){return Math.round(t*(Math.random()+.5)/2)},getRotation:function(t,e,i,o){var n=!1;return n=r(t)&&r(e)&&r(i)&&r(o)&&0<t&&-1<e&&i<o?i+e%t*((o-i)/(t-1||1)):n},getScale:function(t,e,i){var o=2*Math.max(Math.abs(i.top),Math.abs(i.bottom)),i=2*Math.max(Math.abs(i.left),Math.abs(i.right));return Math.min(0<i?1/i*t:1,0<o?1/o*e:1)},getSpiral:function(t,e){for(var i=[],o=1;o<1e4;o++)i.push(t(o,e));return function(t){return t<=1e4&&i[t-1]}},intersectionTesting:function(t,e){var i,o,n,r,a,s=e.placed,l=e.field,u=e.rectangle,d=e.polygon,h=e.spiral,c=1,p={x:0,y:0},g=t.rect=f({},u);for(t.polygon=d,t.rotation=e.rotation;!1!==p&&(y(t,s)||(i=g,a=r=n=void 0,n=-(o=l).width/2,r=l.width/2,a=-l.height/2,o=l.height/2,!(n<i.left&&r>i.right&&a<i.top&&o>i.bottom)));)p=h(c),m(p)&&(g.left=u.left+p.x,g.right=u.right+p.x,g.top=u.top+p.y,g.bottom=u.bottom+p.y,t.polygon=function(e,i,t){return t.map(function(t){return[t[0]+e,t[1]+i]})}(p.x,p.y,d)),c++;return p},isPolygonsColliding:d,isRectanglesIntersecting:l,rectangularSpiral:function(t,e){return t=o(t),e=e.field,t&&(t.x*=e.ratioX,t.y*=e.ratioY),t},rotate2DToOrigin:c,rotate2DToPoint:p,squareSpiral:o,updateFieldBoundaries:function(t,e){return(!r(t.left)||t.left>e.left)&&(t.left=e.left),(!r(t.right)||t.right<e.right)&&(t.right=e.right),(!r(t.top)||t.top>e.top)&&(t.top=e.top),(!r(t.bottom)||t.bottom<e.bottom)&&(t.bottom=e.bottom),t}}}),e(t,"Series/Wordcloud/WordcloudSeries.js",[t["Series/DrawPointUtilities.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"],t["Series/Wordcloud/WordcloudPoint.js"],t["Series/Wordcloud/WordcloudUtils.js"]],function(M,i,e,t,o,n,r){var a,s,l=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),u=i.noop,d=t.seriesTypes.column,S=o.extend,h=o.isArray,P=o.isNumber,A=o.isObject,o=o.merge,c=r.archimedeanSpiral,j=r.extendPlayingField,_=r.getBoundingBoxFromPolygon,F=r.getPlayingField,C=r.getPolygon,p=r.getRandomPosition,g=r.getRotation,O=r.getScale,W=r.getSpiral,T=r.intersectionTesting,f=r.isPolygonsColliding,m=r.rectangularSpiral,y=r.rotate2DToOrigin,x=r.rotate2DToPoint,b=r.squareSpiral,D=r.updateFieldBoundaries,r=(l(v,s=d),v.prototype.bindAxes=function(){var t={endOnTick:!1,gridLineWidth:0,lineWidth:0,maxPadding:0,startOnTick:!1,title:void 0,tickPositions:[]};e.prototype.bindAxes.call(this),S(this.yAxis.options,t),S(this.xAxis.options,t)},v.prototype.pointAttribs=function(t,e){t=i.seriesTypes.column.prototype.pointAttribs.call(this,t,e);return delete t.stroke,delete t["stroke-width"],t},v.prototype.deriveFontSize=function(t,e,i){t=P(t)?t:0,e=P(e)?e:1,i=P(i)?i:1;return Math.floor(Math.max(i,t*e))},v.prototype.drawPoints=function(){var l,u,d=this,h=d.hasRendered,t=d.xAxis,e=d.yAxis,i=d.chart,c=d.group,p=d.options,g=p.animation,f=p.allowExtendPlayingField,m=i.renderer,o=m.text().add(c),y=[],x=d.placementStrategy[p.placementStrategy],b=p.rotation,i=d.points.map(function(t){return t.weight}),v=Math.max.apply(null,i),w=d.points.concat().sort(function(t,e){return e.weight-t.weight});d.group.attr({scaleX:1,scaleY:1}),w.forEach(function(t){var e=1/v*t.weight,e=d.deriveFontSize(e,p.maxFontSize,p.minFontSize),e=S({fontSize:e+"px"},p.style);o.css(e).attr({x:0,y:0,text:t.name}),e=o.getBBox(!0),t.dimensions={height:e.height,width:e.width}}),u=F(t.len,e.len,w),l=W(d.spirals[p.spiral],{field:u}),w.forEach(function(t){var e,i=1/v*t.weight,i=d.deriveFontSize(i,p.maxFontSize,p.minFontSize),i=S({fontSize:i+"px"},p.style),o=x(t,{data:w,field:u,placed:y,rotation:b}),n=S(d.pointAttribs(t,t.selected&&"select"),{align:"center","alignment-baseline":"middle","dominant-baseline":"middle",x:o.x,y:o.y,text:t.name,rotation:P(o.rotation)?o.rotation:void 0}),r=C(o.x,o.y,t.dimensions.width,t.dimensions.height,o.rotation),a=_(r),s=T(t,{rectangle:a,polygon:r,field:u,placed:y,spiral:l,rotation:o.rotation});!s&&f&&(u=j(u,a),s=T(t,{rectangle:a,polygon:r,field:u,placed:y,spiral:l,rotation:o.rotation})),A(s)?(n.x=(n.x||0)+s.x,n.y=(n.y||0)+s.y,a.left+=s.x,a.right+=s.x,a.top+=s.y,a.bottom+=s.y,u=D(u,a),y.push(t),t.isNull=!1,t.isInside=!0):t.isNull=!0,g&&(e={x:n.x,y:n.y},h?(delete n.x,delete n.y):(n.x=0,n.y=0)),M.draw(t,{animatableAttribs:e,attribs:n,css:i,group:c,renderer:m,shapeArgs:void 0,shapeType:"text"})}),o=o.destroy(),i=O(t.len,e.len,u),d.group.attr({scaleX:i,scaleY:i})},v.prototype.hasData=function(){return A(this)&&!0===this.visible&&h(this.points)&&0<this.points.length},v.prototype.getPlotBox=function(){var t=this.chart,e=t.inverted,i=this[e?"yAxis":"xAxis"],e=this[e?"xAxis":"yAxis"],o=i?i.len:t.plotWidth,n=e?e.len:t.plotHeight;return{translateX:(i?i.left:t.plotLeft)+o/2,translateY:(e?e.top:t.plotTop)+n/2,scaleX:1,scaleY:1}},v.defaultOptions=o(d.defaultOptions,{allowExtendPlayingField:!0,animation:{duration:500},borderWidth:0,clip:!1,colorByPoint:!0,cropThreshold:1/0,minFontSize:1,maxFontSize:25,placementStrategy:"center",rotation:{from:0,orientations:2,to:90},showInLegend:!1,spiral:"rectangular",style:{fontFamily:"sans-serif",fontWeight:"900",whiteSpace:"nowrap"},tooltip:{followPointer:!0,pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.weight}</b><br/>'}}),v);function v(){var t=null!==s&&s.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return S(r.prototype,{animate:u,animateDrilldown:u,animateDrillupFrom:u,pointClass:n,setClip:u,placementStrategy:{random:function(t,e){var i=e.field,e=e.rotation;return{x:p(i.width)-i.width/2,y:p(i.height)-i.height/2,rotation:g(e.orientations,t.index,e.from,e.to)}},center:function(t,e){e=e.rotation;return{x:0,y:0,rotation:g(e.orientations,t.index,e.from,e.to)}}},pointArrayMap:["weight"],spirals:{archimedean:c,rectangular:m,square:b},utils:{extendPlayingField:j,getRotation:g,isPolygonsColliding:f,rotate2DToOrigin:y,rotate2DToPoint:x}}),t.registerSeriesType("wordcloud",r),r}),e(t,"masters/modules/wordcloud.src.js",[],function(){})});