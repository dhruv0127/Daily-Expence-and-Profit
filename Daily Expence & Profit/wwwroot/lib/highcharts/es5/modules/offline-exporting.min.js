"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/offline-exporting",["highcharts","highcharts/modules/exporting"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,n,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,n),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t=t?t._modules:{},"Extensions/DownloadURL.js",[t["Core/Globals.js"]],function(t){var r=t.isSafari,a=t.win,l=a.document,i=a.URL||a.webkitURL||a,s=t.dataURLtoBlob=function(t){if((t=t.replace(/filename=.*;/,"").match(/data:([^;]*)(;base64)?,([0-9A-Za-z+/]+)/))&&3<t.length&&a.atob&&a.ArrayBuffer&&a.Uint8Array&&a.Blob&&i.createObjectURL){for(var e=a.atob(t[3]),n=new a.ArrayBuffer(e.length),n=new a.Uint8Array(n),o=0;o<n.length;++o)n[o]=e.charCodeAt(o);return t=new a.Blob([n],{type:t[1]}),i.createObjectURL(t)}};return t=t.downloadURL=function(e,t){var n=a.navigator,o=l.createElement("a");if("string"==typeof e||e instanceof String||!n.msSaveOrOpenBlob){if(e="".concat(e),n=/Edge\/\d+/.test(n.userAgent),(r&&"string"==typeof e&&0===e.indexOf("data:application/pdf")||n||2e6<e.length)&&!(e=s(e)||""))throw Error("Failed to convert to blob");if(void 0!==o.download)o.href=e,o.download=t,l.body.appendChild(o),o.click(),l.body.removeChild(o);else try{var i=a.open(e,"chart");if(null==i)throw Error("Failed to open window")}catch(t){a.location.href=e}}else n.msSaveOrOpenBlob(e,t)},{dataURLtoBlob:s,downloadURL:t}}),e(t,"Extensions/OfflineExporting/OfflineExportingDefaults.js",[],function(){return{libURL:"https://code.highcharts.com/11.0.1/lib/",menuItemDefinitions:{downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChartLocal()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChartLocal({type:"image/jpeg"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChartLocal({type:"image/svg+xml"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChartLocal({type:"application/pdf"})}}}}}),e(t,"Extensions/OfflineExporting/OfflineExporting.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Chart/Chart.js"],t["Core/Defaults.js"],t["Extensions/DownloadURL.js"],t["Extensions/Exporting/Exporting.js"],t["Core/Globals.js"],t["Core/HttpUtilities.js"],t["Extensions/OfflineExporting/OfflineExportingDefaults.js"],t["Core/Utilities.js"]],function(m,t,e,n,r,a,o,i,l){var s,y,v=e.defaultOptions,x=n.downloadURL,w=a.win,b=a.doc,E=o.ajax,h=l.addEvent,c=l.error,f=l.extend,d=l.fireEvent,u=l.merge,g=(m.allowedAttributes.push("data-z-index","fill-opacity","rx","ry","stroke-dasharray","stroke-linejoin","text-anchor","transform","version","viewBox","visibility","xmlns","xmlns:xlink"),m.allowedTags.push("desc","clippath","g"),[]);function p(t,e){function n(t){!1===i.fallbackToExportServer?i.error?i.error(i,t):c(28,!0):o.exportChart(i)}var o=this,i=u(o.options.exporting,t);t=function(){return[].some.call(o.container.getElementsByTagName("image"),function(t){return""!==(t=t.getAttribute("href"))&&"string"==typeof t&&0!==t.indexOf("data:")})},a.isMS&&o.styledMode&&!r.inlineAllowlist.length&&r.inlineAllowlist.push(/^blockSize/,/^border/,/^caretColor/,/^color/,/^columnRule/,/^columnRuleColor/,/^cssFloat/,/^cursor/,/^fill$/,/^fillOpacity/,/^font/,/^inlineSize/,/^length/,/^lineHeight/,/^opacity/,/^outline/,/^parentRule/,/^rx$/,/^ry$/,/^stroke/,/^textAlign/,/^textAnchor/,/^textDecoration/,/^transform/,/^vectorEffect/,/^visibility/,/^x$/,/^y$/),a.isMS&&("application/pdf"===i.type||o.container.getElementsByTagName("image").length&&"image/svg+xml"!==i.type)||"application/pdf"===i.type&&t()?n(Error("Image type not supported for this chart/browser.")):o.getSVGForLocalExport(i,e||{},n,function(t){-1<t.indexOf("<foreignObject")&&"image/svg+xml"!==i.type&&(a.isMS||"application/pdf"===i.type)?n(Error("Image type not supported for charts with embedded HTML")):y.downloadSVGLocal(t,f({filename:o.getFilename()},i),n,function(){return d(o,"exportChartLocalSuccess")})})}function S(t,e){var n=b.getElementsByTagName("head")[0],o=b.createElement("script");o.type="text/javascript",o.src=t,o.onload=e,o.onerror=function(){c("Error loading script "+t)},n.appendChild(o)}function C(t,e,n,o){function i(t,e,n){++u,n.imageElement.setAttributeNS("http://www.w3.org/1999/xlink","href",t),f()}var r,a,l,s,c=this,f=function(){s&&u===d&&o(c.sanitizeSVG(r.innerHTML,a))},d=0,u=0;c.unbindGetSVG=h(c,"getSVG",function(t){a=t.chartCopy.options,s=(r=t.chartCopy.container.cloneNode(!0))&&r.getElementsByTagName("image")||[],d=s.length}),c.getSVGForExport(t,e);try{if(!s||!s.length)return void o(c.sanitizeSVG(r.innerHTML,a));for(e=0;e<s.length;e++){var g=s[e];(l=g.getAttributeNS("http://www.w3.org/1999/xlink","href"))?y.imageToDataUrl(l,"image/png",{imageElement:g},t.scale,i,n,n,n):(u++,g.parentNode.removeChild(g),e--,f())}}catch(t){n(t)}c.unbindGetSVG()}function L(o,i,r,a,l,t,s,e,c){var f=new w.Image,n=function(){setTimeout(function(){var t=b.createElement("canvas"),e=t.getContext&&t.getContext("2d");try{if(e){t.height=f.height*a,t.width=f.width*a,e.drawImage(f,0,0,t.width,t.height);try{var n=t.toDataURL(i);l(n,i,r,a)}catch(t){u(o,i,r,a)}}else s(o,i,r,a)}finally{c&&c(o,i,r,a)}},y.loadEventDeferDelay)},d=function(){e(o,i,r,a),c&&c(o,i,r,a)},u=function(){f=new w.Image,u=t,f.crossOrigin="Anonymous",f.onload=n,f.onerror=d,f.src=o};f.onload=n,f.onerror=d,f.src=o}function j(t){var e=-1<(e=w.navigator.userAgent).indexOf("WebKit")&&e.indexOf("Chrome")<0;try{if(!e&&-1===t.indexOf("<foreignObject"))return y.domurl.createObjectURL(new w.Blob([t],{type:"image/svg+xml;charset-utf-16"}))}catch(t){}return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(t)}function U(t,e,n){var o=Number(t.getAttribute("width"))+2*e,i=(e=Number(t.getAttribute("height"))+2*e,new w.jspdf.jsPDF(o<e?"p":"l","pt",[o,e]));[].forEach.call(t.querySelectorAll('*[visibility="hidden"]'),function(t){t.parentNode.removeChild(t)});for(var r=t.querySelectorAll("linearGradient"),a=0;a<r.length;a++)for(var l=r[a].querySelectorAll("stop"),s=0;s<l.length&&"0"===l[s].getAttribute("offset")&&"0"===l[s+1].getAttribute("offset");)l[s].remove(),s++;[].forEach.call(t.querySelectorAll("tspan"),function(t){"â€‹"===t.textContent&&(t.textContent=" ",t.setAttribute("dx",-5))}),i.svg(t,{x:0,y:0,width:o,height:e,removeInvalid:!0}).then(function(){return n(i.output("datauristring"))})}return(y=s=s||{}).CanVGRenderer={},y.domurl=w.URL||w.webkitURL||w,y.loadEventDeferDelay=a.isMS?150:0,y.compose=function(t){var e;return l.pushUnique(g,t)&&((e=t.prototype).getSVGForLocalExport=C,e.exportChartLocal=p,u(!0,v.exporting,i)),t},y.downloadSVGLocal=function(r,t,a,l){function o(t,e){function o(t,e){w.jspdf.jsPDF.API.events.push(["initialized",function(){this.addFileToVFS(t,e),this.addFont(t,"HighchartsFont",t),this.getFontList().HighchartsFont||this.setFont("HighchartsFont")}])}function i(){var n=a.shift();if(!n)return e();var t=h&&h[n];t?E({url:t,responseType:"blob",success:function(t,e){(t=new FileReader).onloadend=function(){var t;"string"==typeof this.result&&(t=this.result.split(",")[1],o(n,t),"normal"===n&&(r=t)),i()},t.readAsDataURL(e.response)},error:i}):(r&&o(n,r),i())}h&&!/[^\u0000-\u007F\u200B]+/.test(t.textContent||"")&&(h=void 0);var r,a=["normal","italic","bold","bolditalic"];i()}function e(){m.setElementHTML(i,r);var t,e=i.getElementsByTagName("text"),n=([].forEach.call(e,function(n){["fontFamily","fontSize"].forEach(function(t){for(var e=n;e&&e!==i;){if(e.style[t]){e=e.style[t],"fontSize"===t&&/em$/.test(e)&&(e=Math.round(16*parseFloat(e))+"px"),n.style[t]=e;break}e=e.parentNode}}),n.style.fontFamily=h&&h.normal?"HighchartsFont":String(n.style.fontFamily&&n.style.fontFamily.split(" ").splice(-1)),t=n.getElementsByTagName("title"),[].forEach.call(t,function(t){n.removeChild(t)})}),i.querySelector("svg"));n&&o(n,function(){U(n,0,function(t){try{x(t,f),l&&l()}catch(t){a(t)}})})}var s,i=b.createElement("div"),c=t.type||"image/png",f=(t.filename||"chart")+"."+("image/svg+xml"===c?"svg":c.split("/")[1]),d=t.scale||1,u=t.libURL||v.exporting.libURL,g=!0,h=t.pdfFont,u="/"!==u.slice(-1)?u+"/":u;if("image/svg+xml"===c)try{var n,p=void 0!==w.MSBlobBuilder?((n=new w.MSBlobBuilder).append(r),n.getBlob("image/svg+xml")):j(r);x(p,f),l&&l()}catch(t){a(t)}else"application/pdf"===c?w.jspdf&&w.jspdf.jsPDF?e():(g=!0,S(u+"jspdf.js",function(){S(u+"svg2pdf.js",e)})):(p=j(r),s=function(){try{y.domurl.revokeObjectURL(p)}catch(t){}},L(p,c,{},d,function(t){try{x(t,f),l&&l()}catch(t){a(t)}},function(){function t(){w.canvg.Canvg.fromString(n,r).start();try{x(w.navigator.msSaveOrOpenBlob?e.msToBlob():e.toDataURL(c),f),l&&l()}catch(t){a(t)}finally{s()}}var e=b.createElement("canvas"),n=e.getContext("2d"),o=r.match(/^<svg[^>]*width\s*=\s*"?(\d+)"?[^>]*>/)[1]*d,i=r.match(/^<svg[^>]*height\s*=\s*"?(\d+)"?[^>]*>/)[1]*d;e.width=o,e.height=i,w.canvg?t():(g=!0,S(u+"canvg.js",function(){t()}))},a,a,function(){g&&s()}))},y.getScript=S,y.imageToDataUrl=L,y.svgToDataUrl=j,y.svgToPdf=U,s}),e(t,"masters/modules/offline-exporting.src.js",[t["Core/Globals.js"],t["Extensions/OfflineExporting/OfflineExporting.js"]],function(t,e){t.downloadSVGLocal=e.downloadSVGLocal,e.compose(t.Chart)})});