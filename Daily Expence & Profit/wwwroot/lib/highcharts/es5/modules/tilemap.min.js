"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/tilemap",["highcharts","highcharts/modules/map"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,n,a){t.hasOwnProperty(e)||(t[e]=a.apply(null,n),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t=t?t._modules:{},"Series/Tilemap/TilemapPoint.js",[t["Core/Axis/Color/ColorAxisComposition.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,n){var a,i,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=e.series.prototype.pointClass;function s(){var t=null!==i&&i.apply(this,arguments)||this;return t.options=void 0,t.radius=void 0,t.series=void 0,t.tileEdges=void 0,t}return n=n.extend,i=e.seriesTypes.heatmap.prototype.pointClass,o(s,i),s.prototype.haloPath=function(){return this.series.tileShape.haloPath.apply(this,arguments)},n((e=s).prototype,{setState:r.prototype.setState,setVisible:t.pointSetVisible}),e}),e(t,"Series/Tilemap/TilemapShapes.js",[t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,n){function a(t,e,n){return{xPad:((t=t.options).colsize||1)/-e,yPad:(t.rowsize||1)/-n}}var i=(e=e.seriesTypes).heatmap,o=e.scatter,x=n.clamp,m=n.pick;return{hexagon:{alignDataLabel:o.prototype.alignDataLabel,getSeriesPadding:function(t){return a(t,3,2)},haloPath:function(t){if(!t)return[];var e=this.tileEdges;return[["M",e.x2-t,e.y1+t],["L",e.x3+t,e.y1+t],["L",e.x4+1.5*t,e.y2],["L",e.x3+t,e.y3-t],["L",e.x2-t,e.y3-t],["L",e.x1-1.5*t,e.y2],["Z"]]},translate:function(){var d,t=this.options,u=this.xAxis,c=this.yAxis,y=t.pointPadding||0,f=(t.colsize||1)/3,g=(t.rowsize||1)/2;this.generatePoints(),this.points.forEach(function(t){var e=x(Math.floor(u.len-u.translate(t.x-2*f,0,1,0,1)),-u.len,2*u.len),n=x(Math.floor(u.len-u.translate(t.x-f,0,1,0,1)),-u.len,2*u.len),a=x(Math.floor(u.len-u.translate(t.x+f,0,1,0,1)),-u.len,2*u.len),i=x(Math.floor(u.len-u.translate(t.x+2*f,0,1,0,1)),-u.len,2*u.len),o=x(Math.floor(c.translate(t.y-g,0,1,0,1)),-c.len,2*c.len),r=x(Math.floor(c.translate(t.y,0,1,0,1)),-c.len,2*c.len),s=x(Math.floor(c.translate(t.y+g,0,1,0,1)),-c.len,2*c.len),l=(h=m(t.pointPadding,y))*Math.abs(n-e)/Math.abs(s-r),l=u.reversed?-l:l,p=u.reversed?-h:h,h=c.reversed?-h:h;t.x%2&&(o+=d=d||Math.round(Math.abs(s-o)/2)*(c.reversed?-1:1),r+=d,s+=d),t.plotX=t.clientX=(n+a)/2,t.plotY=r,t.tileEdges={x1:e+=l+p,x2:n+=p,x3:a-=p,x4:i-=l+p,y1:o-=h,y2:r,y3:s+=h},t.shapeType="path",t.shapeArgs={d:[["M",n,o],["L",a,o],["L",i,r],["L",a,s],["L",n,s],["L",e,r],["Z"]]}}),this.translateColors()}},diamond:{alignDataLabel:o.prototype.alignDataLabel,getSeriesPadding:function(t){return a(t,2,2)},haloPath:function(t){if(!t)return[];var e=this.tileEdges;return[["M",e.x2,e.y1+t],["L",e.x3+t,e.y2],["L",e.x2,e.y3-t],["L",e.x1-t,e.y2],["Z"]]},translate:function(){var p,t=this.options,h=this.xAxis,d=this.yAxis,u=t.pointPadding||0,c=t.colsize||1,y=(t.rowsize||1)/2;this.generatePoints(),this.points.forEach(function(t){var e=x(Math.round(h.len-h.translate(t.x-c,0,1,0,0)),-h.len,2*h.len),n=x(Math.round(h.len-h.translate(t.x,0,1,0,0)),-h.len,2*h.len),a=x(Math.round(h.len-h.translate(t.x+c,0,1,0,0)),-h.len,2*h.len),i=x(Math.round(d.translate(t.y-y,0,1,0,0)),-d.len,2*d.len),o=x(Math.round(d.translate(t.y,0,1,0,0)),-d.len,2*d.len),r=x(Math.round(d.translate(t.y+y,0,1,0,0)),-d.len,2*d.len),s=(l=m(t.pointPadding,u))*Math.abs(n-e)/Math.abs(r-o),s=h.reversed?-s:s,l=d.reversed?-l:l;t.x%2&&(i+=p=Math.abs(r-i)/2*(d.reversed?-1:1),o+=p,r+=p),t.plotX=t.clientX=n,t.plotY=o,t.tileEdges={x1:e+=s,x2:n,x3:a-=s,y1:i-=l,y2:o,y3:r+=l},t.shapeType="path",t.shapeArgs={d:[["M",n,i],["L",a,o],["L",n,r],["L",e,o],["Z"]]}}),this.translateColors()}},circle:{alignDataLabel:o.prototype.alignDataLabel,getSeriesPadding:function(t){return a(t,2,2)},haloPath:function(t){return o.prototype.pointClass.prototype.haloPath.call(this,t+(t&&this.radius))},translate:function(){var o,r,s,l,t=this.options,p=this.xAxis,h=this.yAxis,d=t.pointPadding||0,u=(t.rowsize||1)/2,c=t.colsize||1,y=!1;this.generatePoints(),this.points.forEach(function(t){var e=x(Math.round(p.len-p.translate(t.x,0,1,0,0)),-p.len,2*p.len),n=x(Math.round(h.translate(t.y,0,1,0,0)),-h.len,2*h.len),a=d,i=!1;void 0!==t.pointPadding&&(a=t.pointPadding,y=i=!0),l&&!y||(o=Math.abs(x(Math.floor(p.len-p.translate(t.x+c,0,1,0,0)),-p.len,2*p.len)-e),r=Math.abs(x(Math.floor(h.translate(t.y+u,0,1,0,0)),-h.len,2*h.len)-n),s=Math.floor(Math.sqrt(o*o+r*r)/2),l=Math.min(o,s,r)-a,y&&!i&&(y=!1)),t.x%2&&(n+=r*(h.reversed?-1:1)),t.plotX=t.clientX=e,t.plotY=n,t.radius=l,t.shapeType="circle",t.shapeArgs={x:e,y:n,r:l}}),this.translateColors()}},square:{alignDataLabel:i.prototype.alignDataLabel,translate:i.prototype.translate,getSeriesPadding:t.noop,haloPath:i.prototype.pointClass.prototype.haloPath}}}),e(t,"Series/Tilemap/TilemapComposition.js",[t["Core/Axis/Axis.js"],t["Core/Utilities.js"]],function(t,e){(e=e.addEvent)(t,"afterSetAxisTranslation",function(){var e,t,n;this.recomputingForTilemap||"colorAxis"===this.coll||(t=(e=this).series.map(function(t){return t.getSeriesPixelPadding&&t.getSeriesPixelPadding(e)}).reduce(function(t,e){return(t&&t.padding)>(e&&e.padding)?t:e},void 0)||{padding:0,axisLengthFactor:1},n=Math.round(t.padding*t.axisLengthFactor),t.padding&&(e.len-=n,e.recomputingForTilemap=!0,e.setAxisTranslation(),delete e.recomputingForTilemap,e.minPixelPadding+=t.padding,e.len+=n))})}),e(t,"Series/Tilemap/TilemapSeries.js",[t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Series/Tilemap/TilemapPoint.js"],t["Series/Tilemap/TilemapShapes.js"],t["Core/Utilities.js"]],function(t,e,n,a,i){var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});t=t.noop;var s,l=(h=e.seriesTypes).column,p=h.heatmap,h=h.scatter,d=i.extend,u=i.merge;function c(){var t=null!==s&&s.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t.tileShape=void 0,t}return r(c,s=p),c.prototype.alignDataLabel=function(){return this.tileShape.alignDataLabel.apply(this,Array.prototype.slice.call(arguments))},c.prototype.drawPoints=function(){var e=this;l.prototype.drawPoints.call(this),this.points.forEach(function(t){t.graphic&&t.graphic[e.chart.styledMode?"css":"animate"](e.colorAttribs(t))})},c.prototype.getSeriesPixelPadding=function(t){var e=t.isXAxis;if(!(a=this.tileShape.getSeriesPadding(this)))return{padding:0,axisLengthFactor:1};var n=Math.round(t.translate(e?2*a.xPad:a.yPad,0,1,0,1)),a=Math.round(t.translate(e?a.xPad:0,0,1,0,1));return{padding:(t.single?Math.abs(n-a)/2:Math.abs(n-a))||0,axisLengthFactor:e?2:1.1}},c.prototype.setOptions=function(){var t=s.prototype.setOptions.apply(this,Array.prototype.slice.call(arguments));return this.tileShape=a[t.tileShape],t},c.prototype.translate=function(){return this.tileShape.translate.apply(this,Array.prototype.slice.call(arguments))},c.defaultOptions=u(p.defaultOptions,{marker:null,states:{hover:{halo:{enabled:!0,size:2,opacity:.5,attributes:{zIndex:3}}}},pointPadding:2,tileShape:"hexagon"}),d((i=c).prototype,{getSymbol:t,markerAttribs:h.prototype.markerAttribs,pointAttribs:l.prototype.pointAttribs,pointClass:n}),e.registerSeriesType("tilemap",i),i}),e(t,"masters/modules/tilemap.src.js",[],function(){})});