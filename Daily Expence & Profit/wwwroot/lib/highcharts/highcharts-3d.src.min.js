!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/highcharts-3d",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function e(t,e,i,s){t.hasOwnProperty(e)||(t[e]=s.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t,"Core/Math3D.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,e){const p=t["deg2rad"],d=e["pick"];function s(t,e,i,s){const o=e.options.chart.options3d,a=d(s,!!i&&e.inverted),n={x:e.plotWidth/2,y:e.plotHeight/2,z:o.depth/2,vd:d(o.depth,1)*d(o.viewDistance,0)},h=e.scale3d||1,r=p*o.beta*(a?-1:1),l=p*o.alpha*(a?-1:1),c={cosA:Math.cos(l),cosB:Math.cos(-r),sinA:Math.sin(l),sinB:Math.sin(-r)};return i||(n.x+=e.plotLeft,n.y+=e.plotTop),t.map(function(t){s=(a?t.y:t.x)-n.x,o=(a?t.x:t.y)-n.y,t=(t.z||0)-n.z;const e={x:(r=c).cosB*s-r.sinB*t,y:-r.sinA*r.sinB*s+r.cosA*o-r.cosB*r.sinA*t,z:r.cosA*r.sinB*s+r.sinA*o+r.cosA*r.cosB*t},i=x(e,n,n.vd);var s,o,r;return i.x=i.x*h+n.x,i.y=i.y*h+n.y,i.z=e.z*h+n.z,{x:a?i.y:i.x,y:a?i.x:i.y,z:i.z}})}function x(t,e,i){e=0<i&&i<Number.POSITIVE_INFINITY?i/(t.z+e.z+i):1;return{x:t.x*e,y:t.y*e}}function o(t){let e=0,i,s;for(i=0;i<t.length;i++)s=(i+1)%t.length,e+=t[i].x*t[s].y-t[s].x*t[i].y;return e/2}return{perspective:s,perspective3D:x,pointCameraDistance:function(t,e){const i=e.options.chart.options3d,s=e.plotWidth/2,o=e.plotHeight/2,r=d(i.depth,1)*d(i.viewDistance,0)+i.depth,a=Math.sqrt(Math.pow(s-d(t.plotX,t.x),2)+Math.pow(o-d(t.plotY,t.y),2)+Math.pow(r-d(t.plotZ,t.z),2));return a},shapeArea:o,shapeArea3D:function(t,e,i){return o(s(t,e,i))}}}),e(t,"Core/Renderer/SVG/SVGElement3D.js",[t["Core/Color/Color.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(t,r,e){const i=t["parse"],{defined:a,merge:s,objectEach:l,pick:n}=e,h={base:{initArgs:function(t){const i=this,s=i.renderer,o=s[i.pathType+"Path"](t),r=o.zIndexes;i.parts.forEach(function(t){const e={class:"highcharts-3d-"+t,zIndex:r[t]||0};s.styledMode&&("top"===t?e.filter="url(#highcharts-brighter)":"side"===t&&(e.filter="url(#highcharts-darker)")),i[t]=s.path(o[t]).attr(e).add(i)}),i.attr({"stroke-linejoin":"round",zIndex:r.group}),i.originalDestroy=i.destroy,i.destroy=i.destroyParts,i.forcedSides=o.forcedSides},singleSetterForParts:function(i,t,s,e,o,r){const a={},n=[null,null,e||"attr",o,r],h=s&&s.zIndexes;return s?(h&&h.group&&this.attr({zIndex:h.group}),l(s,function(t,e){a[e]={},a[e][i]=t,h&&(a[e].zIndex=s.zIndexes[e]||0)}),n[1]=a):(a[i]=t,n[0]=a),this.processParts.apply(this,n)},processParts:function(e,i,s,o,r){const a=this;return a.parts.forEach(function(t){!1!==(e=i?n(i[t],!1):e)&&a[t][s](e,o,r)}),a},destroyParts:function(){return this.processParts(null,null,"destroy"),this.originalDestroy()}}};return h.cuboid=s(h.base,{parts:["front","top","side"],pathType:"cuboid",attr:function(t,e,i,s){var o;return"string"==typeof t&&void 0!==e&&(o=t,(t={})[o]=e),t.shapeArgs||a(t.x)?this.singleSetterForParts("d",null,this.renderer[this.pathType+"Path"](t.shapeArgs||t)):r.prototype.attr.call(this,t,void 0,i,s)},animate:function(t,e,i){var s,o;return a(t.x)&&a(t.y)?(o=(s=this.renderer[this.pathType+"Path"](t)).forcedSides,this.singleSetterForParts("d",null,s,"animate",e,i),this.attr({zIndex:s.zIndexes.group}),o!==this.forcedSides&&(this.forcedSides=o,this.renderer.styledMode||h.cuboid.fillSetter.call(this,this.fill))):r.prototype.animate.call(this,t,e,i),this},fillSetter:function(t){var e=this;return e.forcedSides=e.forcedSides||[],e.singleSetterForParts("fill",null,{front:t,top:i(t).brighten(0<=e.forcedSides.indexOf("top")?0:.1).get(),side:i(t).brighten(0<=e.forcedSides.indexOf("side")?0:-.1).get()}),e.color=e.fill=t,e}}),h}),e(t,"Core/Renderer/SVG/SVGRenderer3D.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Math3D.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Renderer/SVG/SVGElement3D.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],function(t,e,c,i,p,s,o,r){const d=t["animObject"],a=e["parse"],{charts:P,deg2rad:n}=c,{perspective:S,shapeArea:A}=i,{defined:h,extend:x,merge:y,pick:f}=r,M=Math.cos,D=Math.sin,C=Math.PI,u=4*(Math.sqrt(2)-1)/3/(C/2);class k extends o{static compose(t){const e=t.prototype,i=k.prototype;e.elements3d=s,e.arc3d=i.arc3d,e.arc3dPath=i.arc3dPath,e.cuboid=i.cuboid,e.cuboidPath=i.cuboidPath,e.element3d=i.element3d,e.face3d=i.face3d,e.polyhedron=i.polyhedron,e.toLinePath=i.toLinePath,e.toLineSegments=i.toLineSegments}static curveTo(t,e,i,s,o,r,a,n){let h=[],l=r-o;return o<r&&r-o>Math.PI/2+1e-4?h=(h=h.concat(this.curveTo(t,e,i,s,o,o+Math.PI/2,a,n))).concat(this.curveTo(t,e,i,s,o+Math.PI/2,r,a,n)):r<o&&o-r>Math.PI/2+1e-4?h=(h=h.concat(this.curveTo(t,e,i,s,o,o-Math.PI/2,a,n))).concat(this.curveTo(t,e,i,s,o-Math.PI/2,r,a,n)):[["C",t+i*Math.cos(o)-i*u*l*Math.sin(o)+a,e+s*Math.sin(o)+s*u*l*Math.cos(o)+n,t+i*Math.cos(r)+i*u*l*Math.sin(r)+a,e+s*Math.sin(r)-s*u*l*Math.cos(r)+n,t+i*Math.cos(r)+a,e+s*Math.sin(r)+n]]}toLinePath(t,e){const i=[];return t.forEach(function(t){i.push(["L",t.x,t.y])}),t.length&&(i[0][0]="M",e&&i.push(["Z"])),i}toLineSegments(t){let e=[],i=!0;return t.forEach(function(t){e.push(i?["M",t.x,t.y]:["L",t.x,t.y]),i=!i}),e}face3d(t){const s=this,e=this.createElement("path");return e.vertexes=[],e.insidePlotArea=!1,e.enabled=!0,e.attr=function(t){var e,i;return"object"==typeof t&&(h(t.enabled)||h(t.vertexes)||h(t.insidePlotArea))&&(this.enabled=f(t.enabled,this.enabled),this.vertexes=f(t.vertexes,this.vertexes),this.insidePlotArea=f(t.insidePlotArea,this.insidePlotArea),delete t.enabled,delete t.vertexes,delete t.insidePlotArea,i=P[s.chartIndex],i=S(this.vertexes,i,this.insidePlotArea),e=s.toLinePath(i,!0),i=A(i),t.d=e,t.visibility=this.enabled&&0<i?"inherit":"hidden"),p.prototype.attr.apply(this,arguments)},e.animate=function(t){var e,i;return"object"==typeof t&&(h(t.enabled)||h(t.vertexes)||h(t.insidePlotArea))&&(this.enabled=f(t.enabled,this.enabled),this.vertexes=f(t.vertexes,this.vertexes),this.insidePlotArea=f(t.insidePlotArea,this.insidePlotArea),delete t.enabled,delete t.vertexes,delete t.insidePlotArea,i=P[s.chartIndex],i=S(this.vertexes,i,this.insidePlotArea),e=s.toLinePath(i,!0),i=A(i),i=this.enabled&&0<i?"visible":"hidden",t.d=e,this.attr("visibility",i)),p.prototype.animate.apply(this,arguments)},e.attr(t)}polyhedron(t){const o=this,r=this.g(),e=r.destroy;return this.styledMode||r.attr({"stroke-linejoin":"round"}),r.faces=[],r.destroy=function(){for(let t=0;t<r.faces.length;t++)r.faces[t].destroy();return e.call(this)},r.attr=function(e,t,i,s){if("object"==typeof e&&h(e.faces)){for(;r.faces.length>e.faces.length;)r.faces.pop().destroy();for(;r.faces.length<e.faces.length;)r.faces.push(o.face3d().add(r));for(let t=0;t<e.faces.length;t++)o.styledMode&&delete e.faces[t].fill,r.faces[t].attr(e.faces[t],null,i,s);delete e.faces}return p.prototype.attr.apply(this,arguments)},r.animate=function(e,i,s){if(e&&e.faces){for(;r.faces.length>e.faces.length;)r.faces.pop().destroy();for(;r.faces.length<e.faces.length;)r.faces.push(o.face3d().add(r));for(let t=0;t<e.faces.length;t++)r.faces[t].animate(e.faces[t],i,s);delete e.faces}return p.prototype.animate.apply(this,arguments)},r.attr(t)}element3d(t,e){const i=this.g();return x(i,this.elements3d[t]),i.initArgs(e),i}cuboid(t){return this.element3d("cuboid",t)}cuboidPath(t){let e=t.x||0,i=t.y||0,s=t.z||0,o=t.height||0,r=t.width||0,a=t.depth||0,n=P[this.chartIndex],h,l,c,p,d,x,y,f=n.options.chart.options3d,u=f.alpha,z=0,b=[{x:e,y:i,z:s},{x:e+r,y:i,z:s},{x:e+r,y:i+o,z:s},{x:e,y:i+o,z:s},{x:e,y:i+o,z:s+a},{x:e+r,y:i+o,z:s+a},{x:e+r,y:i,z:s+a},{x:e,y:i,z:s+a}],g=[],m;function v(t){return 0===o&&1<t&&t<6?{x:b[t].x,y:b[t].y+10,z:b[t].z}:b[0].x===b[7].x&&4<=t?{x:b[t].x+10,y:b[t].y,z:b[t].z}:0===a&&t<2||5<t?{x:b[t].x,y:b[t].y,z:b[t].z+10}:b[t]}function M(t){return b[t]}return b=S(b,n,t.insidePlotArea),l=(h=(m=function(t,e,i){let s=[[],-1],o=t.map(M),r=e.map(M),a=t.map(v),n=e.map(v);return A(o)<0?s=[o,0]:A(r)<0?s=[r,1]:i&&(g.push(i),s=!(A(a)<0)&&A(n)<0?[r,1]:[o,0]),s})([3,2,1,0],[7,6,5,4],"front"))[0],d=h[1],c=(h=m([1,6,7,0],[4,5,2,3],"top"))[0],x=h[1],p=(h=m([1,2,5,6],[0,7,4,3],"side"))[0],1===(y=h[1])?z+=1e6*(n.plotWidth-e):y||(z+=1e6*e),z+=10*(!x||0<=u&&u<=180||u<360&&357.5<u?n.plotHeight-i:10+i),1===d?z+=100*s:d||(z+=100*(1e3-s)),{front:this.toLinePath(l,!0),top:this.toLinePath(c,!0),side:this.toLinePath(p,!0),zIndexes:{group:Math.round(z)},forcedSides:g,isFront:d,isTop:x}}arc3d(t){const h=this.g(),e=h.renderer,o=["x","y","r","innerR","start","end","depth"];function l(t){let e=!1,i={},s;for(s in t=y(t))-1!==o.indexOf(s)&&(i[s]=t[s],delete t[s],e=!0);return!!e&&[i,t]}return(t=y(t)).alpha=(t.alpha||0)*n,t.beta=(t.beta||0)*n,h.top=e.path(),h.side1=e.path(),h.side2=e.path(),h.inn=e.path(),h.out=e.path(),h.onAdd=function(){const e=h.parentGroup,i=h.attr("class");h.top.add(h),["out","inn","side1","side2"].forEach(function(t){h[t].attr({class:i+" highcharts-3d-side"}).add(e)})},["addClass","removeClass"].forEach(function(i){h[i]=function(){const e=arguments;["top","out","inn","side1","side2"].forEach(function(t){h[t][i].apply(h[t],e)})}}),h.setPaths=function(t){var e=h.renderer.arc3dPath(t),i=100*e.zTop;h.attribs=t,h.top.attr({d:e.top,zIndex:e.zTop}),h.inn.attr({d:e.inn,zIndex:e.zInn}),h.out.attr({d:e.out,zIndex:e.zOut}),h.side1.attr({d:e.side1,zIndex:e.zSide1}),h.side2.attr({d:e.side2,zIndex:e.zSide2}),h.zIndex=i,h.attr({zIndex:i}),t.center&&(h.top.setRadialReference(t.center),delete t.center)},h.setPaths(t),h.fillSetter=function(t){var e=a(t).brighten(-.1).get();return this.fill=t,this.side1.attr({fill:e}),this.side2.attr({fill:e}),this.inn.attr({fill:e}),this.out.attr({fill:e}),this.top.attr({fill:t}),this},["opacity","translateX","translateY","visibility"].forEach(function(t){h[t+"Setter"]=function(e,i){h[i]=e,["out","inn","side1","side2","top"].forEach(function(t){h[t].attr(i,e)})}}),h.attr=function(t){var e;return"object"==typeof t&&(t=l(t))&&(e=t[0],arguments[0]=t[1],x(h.attribs,e),h.setPaths(h.attribs)),p.prototype.attr.apply(h,arguments)},h.animate=function(t,e,i){let s,o=this.attribs,r,a,n="data-"+Math.random().toString(26).substring(2,9);return delete t.center,delete t.z,delete t.alpha,delete t.beta,(a=d(f(e,this.renderer.globalAnimation))).duration&&(s=l(t),h[n]=0,t[n]=1,h[n+"Setter"]=c.noop,s&&(r=s[0],a.step=function(t,e){function i(t){return o[t]+(f(r[t],o[t])-o[t])*e.pos}e.prop===n&&e.elem.setPaths(y(o,{x:i("x"),y:i("y"),r:i("r"),innerR:i("innerR"),start:i("start"),end:i("end"),depth:i("depth")}))}),e=a),p.prototype.animate.call(this,t,e,i)},h.destroy=function(){return this.top.destroy(),this.out.destroy(),this.inn.destroy(),this.side1.destroy(),this.side2.destroy(),p.prototype.destroy.call(this)},h.hide=function(){this.top.hide(),this.out.hide(),this.inn.hide(),this.side1.hide(),this.side2.hide()},h.show=function(t){this.top.show(t),this.out.show(t),this.inn.show(t),this.side1.show(t),this.side2.show(t)},h}arc3dPath(t){var e=t.x||0,i=t.y||0,s=t.start||0,o=(t.end||0)-1e-5,r=t.r||0,a=t.innerR||0,n=t.depth||0,h=t.alpha||0,t=t.beta||0,l=Math.cos(s),c=Math.sin(s),p=Math.cos(o),d=Math.sin(o),x=r*Math.cos(t),r=r*Math.cos(h),y=a*Math.cos(t),a=a*Math.cos(h),f=n*Math.sin(t),n=n*Math.sin(h);let u=[["M",e+x*l,i+r*c]];(u=u.concat(k.curveTo(e,i,x,r,s,o,0,0))).push(["L",e+y*p,i+a*d]),(u=u.concat(k.curveTo(e,i,y,a,o,s,0,0))).push(["Z"]);var t=0<t?Math.PI/2:0,h=0<h?0:Math.PI/2,t=!(-t<s)&&-t<o?-t:s,z=!(o<C-h)&&s<C-h?C-h:o,b=2*C-h;let g=[["M",e+x*M(t),i+r*D(t)]],m=(g=g.concat(k.curveTo(e,i,x,r,t,z,0,0)),b<o&&s<b?(g.push(["L",e+x*M(z)+f,i+r*D(z)+n]),(g=g.concat(k.curveTo(e,i,x,r,z,b,f,n))).push(["L",e+x*M(b),i+r*D(b)]),(g=g.concat(k.curveTo(e,i,x,r,b,o,0,0))).push(["L",e+x*M(o)+f,i+r*D(o)+n]),(g=g.concat(k.curveTo(e,i,x,r,o,b,f,n))).push(["L",e+x*M(b),i+r*D(b)]),g=g.concat(k.curveTo(e,i,x,r,b,z,0,0))):o>C-h&&s<C-h&&(g.push(["L",e+x*Math.cos(z)+f,i+r*Math.sin(z)+n]),(g=g.concat(k.curveTo(e,i,x,r,z,o,f,n))).push(["L",e+x*Math.cos(o),i+r*Math.sin(o)]),g=g.concat(k.curveTo(e,i,x,r,o,z,0,0))),g.push(["L",e+x*Math.cos(z)+f,i+r*Math.sin(z)+n]),(g=g.concat(k.curveTo(e,i,x,r,z,t,f,n))).push(["Z"]),[["M",e+y*l,i+a*c]]);(m=m.concat(k.curveTo(e,i,y,a,s,o,0,0))).push(["L",e+y*Math.cos(o)+f,i+a*Math.sin(o)+n]),(m=m.concat(k.curveTo(e,i,y,a,o,s,f,n))).push(["Z"]);b=[["M",e+x*l,i+r*c],["L",e+x*l+f,i+r*c+n],["L",e+y*l+f,i+a*c+n],["L",e+y*l,i+a*c],["Z"]],h=[["M",e+x*p,i+r*d],["L",e+x*p+f,i+r*d+n],["L",e+y*p+f,i+a*d+n],["L",e+y*p,i+a*d],["Z"]],z=Math.atan2(n,-f),t=Math.abs(o+z),l=Math.abs(s+z),c=Math.abs((s+o)/2+z);function v(t){return t=(t%=2*Math.PI)>Math.PI?2*Math.PI-t:t}t=v(t),l=v(l),x=1e5*v(c),r=1e5*l,e=1e5*t;return{top:u,zTop:1e5*Math.PI+1,out:g,zOut:Math.max(x,r,e),inn:m,zInn:Math.max(x,r,e),side1:b,zSide1:.99*e,side2:h,zSide2:.99*r}}}return k}),e(t,"Core/Chart/Chart3D.js",[t["Core/Color/Color.js"],t["Core/Defaults.js"],t["Core/Math3D.js"],t["Core/Utilities.js"]],function(t,e,i,s){const u=t["parse"],o=e["defaultOptions"],{perspective:C,shapeArea3D:k}=i,{addEvent:r,isArray:a,merge:n,pick:j,wrap:h}=s;var l;{var c=l=l||{};class P{constructor(t){this.frame3d=void 0,this.chart=t}get3dFrame(){function t(t){return.5<(t=k(t,r))?1:t<-.5?-1:0}const r=this.chart,e=r.options.chart.options3d,i=e.frame,s=r.plotLeft,o=r.plotLeft+r.plotWidth,a=r.plotTop,n=r.plotTop+r.plotHeight,h=e.depth,l=t([{x:s,y:n,z:h},{x:o,y:n,z:h},{x:o,y:n,z:0},{x:s,y:n,z:0}]),c=t([{x:s,y:a,z:0},{x:o,y:a,z:0},{x:o,y:a,z:h},{x:s,y:a,z:h}]),p=t([{x:s,y:a,z:0},{x:s,y:a,z:h},{x:s,y:n,z:h},{x:s,y:n,z:0}]),d=t([{x:o,y:a,z:h},{x:o,y:a,z:0},{x:o,y:n,z:0},{x:o,y:n,z:h}]),x=t([{x:s,y:n,z:0},{x:o,y:n,z:0},{x:o,y:a,z:0},{x:s,y:a,z:0}]),y=t([{x:s,y:a,z:h},{x:o,y:a,z:h},{x:o,y:n,z:h},{x:s,y:n,z:h}]);let f=!1,u=!1,z=!1,b=!1;[].concat(r.xAxis,r.yAxis,r.zAxis).forEach(function(t){t&&(t.horiz?t.opposite?u=!0:f=!0:t.opposite?b=!0:z=!0)});function g(e,t,i){const s=["size","color","visible"],o={};for(let t=0;t<s.length;t++){var r=s[t];for(let t=0;t<e.length;t++)if("object"==typeof e[t]){var a=e[t][r];if(null!=a){o[r]=a;break}}}let n=i;return!0===o.visible||!1===o.visible?n=o.visible:"auto"===o.visible&&(n=0<t),{size:j(o.size,1),color:j(o.color,"none"),frontFacing:0<t,visible:n}}const m={axes:{},bottom:g([i.bottom,i.top,i],l,f),top:g([i.top,i.bottom,i],c,u),left:g([i.left,i.right,i.side,i],p,z),right:g([i.right,i.left,i.side,i],d,b),back:g([i.back,i.front,i],y,!0),front:g([i.front,i.back,i],x,!1)};if("auto"===e.axisLabelPosition){var v=function(t,e){return t.visible!==e.visible||t.visible&&e.visible&&t.frontFacing!==e.frontFacing};const M=[],P=(v(m.left,m.front)&&M.push({y:(a+n)/2,x:s,z:0,xDir:{x:1,y:0,z:0}}),v(m.left,m.back)&&M.push({y:(a+n)/2,x:s,z:h,xDir:{x:0,y:0,z:-1}}),v(m.right,m.front)&&M.push({y:(a+n)/2,x:o,z:0,xDir:{x:0,y:0,z:1}}),v(m.right,m.back)&&M.push({y:(a+n)/2,x:o,z:h,xDir:{x:-1,y:0,z:0}}),[]),S=(v(m.bottom,m.front)&&P.push({x:(s+o)/2,y:n,z:0,xDir:{x:1,y:0,z:0}}),v(m.bottom,m.back)&&P.push({x:(s+o)/2,y:n,z:h,xDir:{x:-1,y:0,z:0}}),[]),A=(v(m.top,m.front)&&S.push({x:(s+o)/2,y:a,z:0,xDir:{x:1,y:0,z:0}}),v(m.top,m.back)&&S.push({x:(s+o)/2,y:a,z:h,xDir:{x:-1,y:0,z:0}}),[]),D=(v(m.bottom,m.left)&&A.push({z:(0+h)/2,y:n,x:s,xDir:{x:0,y:0,z:-1}}),v(m.bottom,m.right)&&A.push({z:(0+h)/2,y:n,x:o,xDir:{x:0,y:0,z:1}}),[]);v(m.top,m.left)&&D.push({z:(0+h)/2,y:a,x:s,xDir:{x:0,y:0,z:-1}}),v(m.top,m.right)&&D.push({z:(0+h)/2,y:a,x:o,xDir:{x:0,y:0,z:1}});v=function(t,e,i){if(0===t.length)return null;if(1===t.length)return t[0];var s=C(t,r,!1);let o=0;for(let t=1;t<s.length;t++)(i*s[t][e]>i*s[o][e]||i*s[t][e]==i*s[o][e]&&s[t].z<s[o].z)&&(o=t);return t[o]};m.axes={y:{left:v(M,"x",-1),right:v(M,"x",1)},x:{top:v(S,"y",-1),bottom:v(P,"y",1)},z:{top:v(D,"y",-1),bottom:v(A,"y",1)}}}else m.axes={y:{left:{x:s,z:0,xDir:{x:1,y:0,z:0}},right:{x:o,z:0,xDir:{x:0,y:0,z:1}}},x:{top:{y:a,z:0,xDir:{x:1,y:0,z:0}},bottom:{y:n,z:0,xDir:{x:1,y:0,z:0}}},z:{top:{x:z?o:s,y:a,xDir:z?{x:0,y:0,z:1}:{x:0,y:0,z:-1}},bottom:{x:z?o:s,y:n,xDir:z?{x:0,y:0,z:1}:{x:0,y:0,z:-1}}}};return m}getScale(t){const e=this.chart,i=e.plotLeft,s=e.plotWidth+i,o=e.plotTop,r=e.plotHeight+o,a=i+e.plotWidth/2,n=o+e.plotHeight/2,h={minX:Number.MAX_VALUE,maxX:-Number.MAX_VALUE,minY:Number.MAX_VALUE,maxY:-Number.MAX_VALUE};let l,c=1;return l=[{x:i,y:o,z:0},{x:i,y:o,z:t}],[0,1].forEach(function(t){l.push({x:s,y:l[t].y,z:l[t].z})}),[0,1,2,3].forEach(function(t){l.push({x:l[t].x,y:r,z:l[t].z})}),(l=C(l,e,!1)).forEach(function(t){h.minX=Math.min(h.minX,t.x),h.maxX=Math.max(h.maxX,t.x),h.minY=Math.min(h.minY,t.y),h.maxY=Math.max(h.maxY,t.y)}),i>h.minX&&(c=Math.min(c,1-Math.abs((i+a)/(h.minX+a))%1)),s<h.maxX&&(c=Math.min(c,(s-a)/(h.maxX-a))),o>h.minY&&(c=h.minY<0?Math.min(c,(o+n)/(-h.minY+o+n)):Math.min(c,1-(o+n)/(h.minY+n)%1)),c=r<h.maxY?Math.min(c,Math.abs((r-n)/(h.maxY-n))):c}}function p(t){this.is3d()&&"scatter"===t.options.type&&(t.options.type="scatter3d")}function d(){if(this.chart3d&&this.is3d()){const t=this,e=t.renderer,i=t.options.chart.options3d,s=t.chart3d.get3dFrame(),o=t.plotLeft,r=t.plotLeft+t.plotWidth,a=t.plotTop,n=t.plotTop+t.plotHeight,h=i.depth,l=o-(s.left.visible?s.left.size:0),c=r+(s.right.visible?s.right.size:0),p=a-(s.top.visible?s.top.size:0),d=n+(s.bottom.visible?s.bottom.size:0),x=0-(s.front.visible?s.front.size:0),y=h+(s.back.visible?s.back.size:0),f=t.hasRendered?"animate":"attr";t.chart3d.frame3d=s,t.frameShapes||(t.frameShapes={bottom:e.polyhedron().add(),top:e.polyhedron().add(),left:e.polyhedron().add(),right:e.polyhedron().add(),back:e.polyhedron().add(),front:e.polyhedron().add()}),t.frameShapes.bottom[f]({class:"highcharts-3d-frame highcharts-3d-frame-bottom",zIndex:s.bottom.frontFacing?-1e3:1e3,faces:[{fill:u(s.bottom.color).brighten(.1).get(),vertexes:[{x:l,y:d,z:x},{x:c,y:d,z:x},{x:c,y:d,z:y},{x:l,y:d,z:y}],enabled:s.bottom.visible},{fill:u(s.bottom.color).brighten(.1).get(),vertexes:[{x:o,y:n,z:h},{x:r,y:n,z:h},{x:r,y:n,z:0},{x:o,y:n,z:0}],enabled:s.bottom.visible},{fill:u(s.bottom.color).brighten(-.1).get(),vertexes:[{x:l,y:d,z:x},{x:l,y:d,z:y},{x:o,y:n,z:h},{x:o,y:n,z:0}],enabled:s.bottom.visible&&!s.left.visible},{fill:u(s.bottom.color).brighten(-.1).get(),vertexes:[{x:c,y:d,z:y},{x:c,y:d,z:x},{x:r,y:n,z:0},{x:r,y:n,z:h}],enabled:s.bottom.visible&&!s.right.visible},{fill:u(s.bottom.color).get(),vertexes:[{x:c,y:d,z:x},{x:l,y:d,z:x},{x:o,y:n,z:0},{x:r,y:n,z:0}],enabled:s.bottom.visible&&!s.front.visible},{fill:u(s.bottom.color).get(),vertexes:[{x:l,y:d,z:y},{x:c,y:d,z:y},{x:r,y:n,z:h},{x:o,y:n,z:h}],enabled:s.bottom.visible&&!s.back.visible}]}),t.frameShapes.top[f]({class:"highcharts-3d-frame highcharts-3d-frame-top",zIndex:s.top.frontFacing?-1e3:1e3,faces:[{fill:u(s.top.color).brighten(.1).get(),vertexes:[{x:l,y:p,z:y},{x:c,y:p,z:y},{x:c,y:p,z:x},{x:l,y:p,z:x}],enabled:s.top.visible},{fill:u(s.top.color).brighten(.1).get(),vertexes:[{x:o,y:a,z:0},{x:r,y:a,z:0},{x:r,y:a,z:h},{x:o,y:a,z:h}],enabled:s.top.visible},{fill:u(s.top.color).brighten(-.1).get(),vertexes:[{x:l,y:p,z:y},{x:l,y:p,z:x},{x:o,y:a,z:0},{x:o,y:a,z:h}],enabled:s.top.visible&&!s.left.visible},{fill:u(s.top.color).brighten(-.1).get(),vertexes:[{x:c,y:p,z:x},{x:c,y:p,z:y},{x:r,y:a,z:h},{x:r,y:a,z:0}],enabled:s.top.visible&&!s.right.visible},{fill:u(s.top.color).get(),vertexes:[{x:l,y:p,z:x},{x:c,y:p,z:x},{x:r,y:a,z:0},{x:o,y:a,z:0}],enabled:s.top.visible&&!s.front.visible},{fill:u(s.top.color).get(),vertexes:[{x:c,y:p,z:y},{x:l,y:p,z:y},{x:o,y:a,z:h},{x:r,y:a,z:h}],enabled:s.top.visible&&!s.back.visible}]}),t.frameShapes.left[f]({class:"highcharts-3d-frame highcharts-3d-frame-left",zIndex:s.left.frontFacing?-1e3:1e3,faces:[{fill:u(s.left.color).brighten(.1).get(),vertexes:[{x:l,y:d,z:x},{x:o,y:n,z:0},{x:o,y:n,z:h},{x:l,y:d,z:y}],enabled:s.left.visible&&!s.bottom.visible},{fill:u(s.left.color).brighten(.1).get(),vertexes:[{x:l,y:p,z:y},{x:o,y:a,z:h},{x:o,y:a,z:0},{x:l,y:p,z:x}],enabled:s.left.visible&&!s.top.visible},{fill:u(s.left.color).brighten(-.1).get(),vertexes:[{x:l,y:d,z:y},{x:l,y:p,z:y},{x:l,y:p,z:x},{x:l,y:d,z:x}],enabled:s.left.visible},{fill:u(s.left.color).brighten(-.1).get(),vertexes:[{x:o,y:a,z:h},{x:o,y:n,z:h},{x:o,y:n,z:0},{x:o,y:a,z:0}],enabled:s.left.visible},{fill:u(s.left.color).get(),vertexes:[{x:l,y:d,z:x},{x:l,y:p,z:x},{x:o,y:a,z:0},{x:o,y:n,z:0}],enabled:s.left.visible&&!s.front.visible},{fill:u(s.left.color).get(),vertexes:[{x:l,y:p,z:y},{x:l,y:d,z:y},{x:o,y:n,z:h},{x:o,y:a,z:h}],enabled:s.left.visible&&!s.back.visible}]}),t.frameShapes.right[f]({class:"highcharts-3d-frame highcharts-3d-frame-right",zIndex:s.right.frontFacing?-1e3:1e3,faces:[{fill:u(s.right.color).brighten(.1).get(),vertexes:[{x:c,y:d,z:y},{x:r,y:n,z:h},{x:r,y:n,z:0},{x:c,y:d,z:x}],enabled:s.right.visible&&!s.bottom.visible},{fill:u(s.right.color).brighten(.1).get(),vertexes:[{x:c,y:p,z:x},{x:r,y:a,z:0},{x:r,y:a,z:h},{x:c,y:p,z:y}],enabled:s.right.visible&&!s.top.visible},{fill:u(s.right.color).brighten(-.1).get(),vertexes:[{x:r,y:a,z:0},{x:r,y:n,z:0},{x:r,y:n,z:h},{x:r,y:a,z:h}],enabled:s.right.visible},{fill:u(s.right.color).brighten(-.1).get(),vertexes:[{x:c,y:d,z:x},{x:c,y:p,z:x},{x:c,y:p,z:y},{x:c,y:d,z:y}],enabled:s.right.visible},{fill:u(s.right.color).get(),vertexes:[{x:c,y:p,z:x},{x:c,y:d,z:x},{x:r,y:n,z:0},{x:r,y:a,z:0}],enabled:s.right.visible&&!s.front.visible},{fill:u(s.right.color).get(),vertexes:[{x:c,y:d,z:y},{x:c,y:p,z:y},{x:r,y:a,z:h},{x:r,y:n,z:h}],enabled:s.right.visible&&!s.back.visible}]}),t.frameShapes.back[f]({class:"highcharts-3d-frame highcharts-3d-frame-back",zIndex:s.back.frontFacing?-1e3:1e3,faces:[{fill:u(s.back.color).brighten(.1).get(),vertexes:[{x:c,y:d,z:y},{x:l,y:d,z:y},{x:o,y:n,z:h},{x:r,y:n,z:h}],enabled:s.back.visible&&!s.bottom.visible},{fill:u(s.back.color).brighten(.1).get(),vertexes:[{x:l,y:p,z:y},{x:c,y:p,z:y},{x:r,y:a,z:h},{x:o,y:a,z:h}],enabled:s.back.visible&&!s.top.visible},{fill:u(s.back.color).brighten(-.1).get(),vertexes:[{x:l,y:d,z:y},{x:l,y:p,z:y},{x:o,y:a,z:h},{x:o,y:n,z:h}],enabled:s.back.visible&&!s.left.visible},{fill:u(s.back.color).brighten(-.1).get(),vertexes:[{x:c,y:p,z:y},{x:c,y:d,z:y},{x:r,y:n,z:h},{x:r,y:a,z:h}],enabled:s.back.visible&&!s.right.visible},{fill:u(s.back.color).get(),vertexes:[{x:o,y:a,z:h},{x:r,y:a,z:h},{x:r,y:n,z:h},{x:o,y:n,z:h}],enabled:s.back.visible},{fill:u(s.back.color).get(),vertexes:[{x:l,y:d,z:y},{x:c,y:d,z:y},{x:c,y:p,z:y},{x:l,y:p,z:y}],enabled:s.back.visible}]}),t.frameShapes.front[f]({class:"highcharts-3d-frame highcharts-3d-frame-front",zIndex:s.front.frontFacing?-1e3:1e3,faces:[{fill:u(s.front.color).brighten(.1).get(),vertexes:[{x:l,y:d,z:x},{x:c,y:d,z:x},{x:r,y:n,z:0},{x:o,y:n,z:0}],enabled:s.front.visible&&!s.bottom.visible},{fill:u(s.front.color).brighten(.1).get(),vertexes:[{x:c,y:p,z:x},{x:l,y:p,z:x},{x:o,y:a,z:0},{x:r,y:a,z:0}],enabled:s.front.visible&&!s.top.visible},{fill:u(s.front.color).brighten(-.1).get(),vertexes:[{x:l,y:p,z:x},{x:l,y:d,z:x},{x:o,y:n,z:0},{x:o,y:a,z:0}],enabled:s.front.visible&&!s.left.visible},{fill:u(s.front.color).brighten(-.1).get(),vertexes:[{x:c,y:d,z:x},{x:c,y:p,z:x},{x:r,y:a,z:0},{x:r,y:n,z:0}],enabled:s.front.visible&&!s.right.visible},{fill:u(s.front.color).get(),vertexes:[{x:r,y:a,z:0},{x:o,y:a,z:0},{x:o,y:n,z:0},{x:r,y:n,z:0}],enabled:s.front.visible},{fill:u(s.front.color).get(),vertexes:[{x:c,y:d,z:x},{x:l,y:d,z:x},{x:l,y:p,z:x},{x:c,y:p,z:x}],enabled:s.front.visible}]})}}function x(){this.styledMode&&[{name:"darker",slope:.6},{name:"brighter",slope:1.4}].forEach(function(t){this.renderer.definition({tagName:"filter",attributes:{id:"highcharts-"+t.name},children:[{tagName:"feComponentTransfer",children:[{tagName:"feFuncR",attributes:{type:"linear",slope:t.slope}},{tagName:"feFuncG",attributes:{type:"linear",slope:t.slope}},{tagName:"feFuncB",attributes:{type:"linear",slope:t.slope}}]}]})},this)}function y(){const e=this.options;this.is3d()&&(e.series||[]).forEach(function(t){"scatter"===(t.type||e.chart.type||e.chart.defaultSeriesType)&&(t.type="scatter3d")})}function f(){const t=this,e=t.options.chart.options3d;if(t.chart3d&&t.is3d()){e&&(e.alpha=e.alpha%360+(0<=e.alpha?0:360),e.beta=e.beta%360+(0<=e.beta?0:360));const i=t.inverted,s=t.clipBox,o=t.margin,r=i?"y":"x",a=i?"x":"y",n=i?"height":"width",h=i?"width":"height";s[r]=-(o[3]||0),s[a]=-(o[0]||0),s[n]=t.chartWidth+(o[3]||0)+(o[1]||0),s[h]=t.chartHeight+(o[0]||0)+(o[2]||0),t.scale3d=1,!0===e.fitToPlot&&(t.scale3d=t.chart3d.getScale(e.depth)),t.chart3d.frame3d=t.chart3d.get3dFrame()}}function z(){this.is3d()&&(this.isDirtyBox=!0)}function b(){this.chart3d&&this.is3d()&&(this.chart3d.frame3d=this.chart3d.get3dFrame())}function g(){this.chart3d||(this.chart3d=new P(this))}function m(t){return this.is3d()||t.apply(this,[].slice.call(arguments,1))}function v(t){let e,i=this.series.length;if(this.is3d())for(;i--;)(e=this.series[i]).translate(),e.render();else t.call(this)}function M(t){t.apply(this,[].slice.call(arguments,1)),this.is3d()&&(this.container.className+=" highcharts-3d-chart")}c.Composition=P,c.defaultOptions={chart:{options3d:{enabled:!1,alpha:0,beta:0,depth:100,fitToPlot:!0,viewDistance:25,axisLabelPosition:null,frame:{visible:"default",size:1,bottom:{},top:{},left:{},right:{},back:{},front:{}}}}},c.compose=function(t,e){const i=t.prototype,s=e.prototype;i.is3d=function(){return Boolean(this.options.chart.options3d&&this.options.chart.options3d.enabled)},i.propsRequireDirtyBox.push("chart.options3d"),i.propsRequireUpdateSeries.push("chart.options3d"),s.matrixSetter=function(){let e;if(this.pos<1&&(a(this.start)||a(this.end))){var i=this.start||[1,0,0,1,0,0],s=this.end||[1,0,0,1,0,0];e=[];for(let t=0;t<6;t++)e.push(this.pos*s[t]+(1-this.pos)*i[t])}else e=this.end;this.elem.attr(this.prop,e,null,!0)},n(!0,o,c.defaultOptions),r(t,"init",g),r(t,"addSeries",p),r(t,"afterDrawChartBox",d),r(t,"afterGetContainer",x),r(t,"afterInit",y),r(t,"afterSetChartSize",f),r(t,"beforeRedraw",z),r(t,"beforeRender",b),h(i,"isInsidePlot",m),h(i,"renderSeries",v),h(i,"setClassName",M)}}return l}),e(t,"Core/Axis/ZAxis.js",[t["Core/Axis/Axis.js"],t["Core/Utilities.js"]],function(t,i){const{addEvent:s,merge:e,pick:o,splat:r}=i,a=[];function n(t){return new l(this,t)}function h(){const t=this.options.zAxis=r(this.options.zAxis||{});this.is3d()&&(this.zAxis=[],t.forEach((t,e)=>{t.index=e,t.isX=!0,this.addZAxis(t).setScale()}))}class l extends t{static compose(t){if(i.pushUnique(a,t)){s(t,"afterGetAxes",h);const e=t.prototype;e.addZAxis=n,e.collectionsWithInit.zAxis=[e.addZAxis],e.collectionsWithUpdate.push("zAxis")}}constructor(t,e){super(t,e),this.isZAxis=!0}getSeriesExtremes(){const t=this.chart;this.hasVisibleSeries=!1,this.dataMin=this.dataMax=this.ignoreMinPadding=this.ignoreMaxPadding=void 0,this.stacking&&this.stacking.buildStacks(),this.series.forEach(e=>{if(e.visible||!t.options.chart.ignoreHiddenSeries){let t=e.options.threshold;this.hasVisibleSeries=!0,this.positiveValuesOnly&&t<=0&&(t=void 0);e=e.zData;e.length&&(this.dataMin=Math.min(o(this.dataMin,e[0]),Math.min.apply(null,e)),this.dataMax=Math.max(o(this.dataMax,e[0]),Math.max.apply(null,e)))}})}setAxisSize(){var t=this.chart;super.setAxisSize(),this.width=this.len=t.options.chart.options3d&&t.options.chart.options3d.depth||0,this.right=t.chartWidth-this.width-this.left}setOptions(t){t=e({offset:0,lineWidth:0},t),this.isZAxis=!0,super.setOptions(t),this.coll="zAxis"}}return l}),e(t,"Core/Axis/Axis3DDefaults.js",[],function(){return{labels:{position3d:"offset",skew3d:!1},title:{position3d:null,skew3d:null}}}),e(t,"Core/Axis/Tick3DComposition.js",[t["Core/Utilities.js"]],function(e){const{addEvent:i,extend:s,wrap:o}=e,r=[];function a(t){const e=this.axis.axis3D;e&&s(t.pos,e.fix3dPosition(t.pos))}function n(t){const e=this.axis.axis3D,i=t.apply(this,[].slice.call(arguments,1));if(e){var t=i[0],s=i[1];if("M"===t[0]&&"L"===s[0])return t=[e.fix3dPosition({x:t[1],y:t[2],z:0}),e.fix3dPosition({x:s[1],y:s[2],z:0})],this.axis.chart.renderer.toLineSegments(t)}return i}return{compose:function(t){e.pushUnique(r,t)&&(i(t,"afterGetLabelPosition",a),o(t.prototype,"getMarkPath",n))}}}),e(t,"Core/Axis/Axis3DComposition.js",[t["Core/Axis/Axis3DDefaults.js"],t["Core/Globals.js"],t["Core/Math3D.js"],t["Core/Axis/Tick3DComposition.js"],t["Core/Utilities.js"]],function(i,t,e,s,o){const v=t["deg2rad"],{perspective:M,perspective3D:x,shapeArea:P}=e,{addEvent:r,merge:a,pick:S,wrap:n}=o,h=[];function l(){const t=this.chart,e=this.options;t.is3d&&t.is3d()&&"colorAxis"!==this.coll&&(e.tickWidth=S(e.tickWidth,0),e.gridLineWidth=S(e.gridLineWidth,1))}function c(t){this.chart.is3d()&&"colorAxis"!==this.coll&&t.point&&(t.point.crosshairPos=this.isXAxis?t.point.axisXpos:this.len-t.point.axisYpos)}function p(){this.axis3D||(this.axis3D=new b(this))}function d(t){return this.chart.is3d()&&"colorAxis"!==this.coll?[]:t.apply(this,[].slice.call(arguments,1))}function y(t){if(!this.chart.is3d()||"colorAxis"===this.coll)return t.apply(this,[].slice.call(arguments,1));const e=arguments,i=e[1],s=e[2],o=[],r=this.getPlotLinePath({value:i}),a=this.getPlotLinePath({value:s});if(r&&a)for(let t=0;t<r.length;t+=2){var n=r[t],h=r[t+1],l=a[t],c=a[t+1];"M"===n[0]&&"L"===h[0]&&"M"===l[0]&&"L"===c[0]&&o.push(n,h,c,["L",l[1],l[2]],["Z"])}return o}function f(t){const e=this,i=e.axis3D,s=e.chart,o=t.apply(e,[].slice.call(arguments,1));if("colorAxis"===e.coll||!s.chart3d||!s.is3d())return o;if(null===o)return o;var t=s.options.chart.options3d,t=e.isZAxis?s.plotWidth:t.depth,r=s.chart3d.frame3d,a=o[0],n=o[1];let h,l=[];return"M"===a[0]&&"L"===n[0]&&(h=[i.swapZ({x:a[1],y:a[2],z:0}),i.swapZ({x:a[1],y:a[2],z:t}),i.swapZ({x:n[1],y:n[2],z:0}),i.swapZ({x:n[1],y:n[2],z:t})],this.horiz?(this.isZAxis?(r.left.visible&&l.push(h[0],h[2]),r.right.visible&&l.push(h[1],h[3])):(r.front.visible&&l.push(h[0],h[2]),r.back.visible&&l.push(h[1],h[3])),r.top.visible&&l.push(h[0],h[1]),r.bottom.visible&&l.push(h[2],h[3])):(r.front.visible&&l.push(h[0],h[2]),r.back.visible&&l.push(h[1],h[3]),r.left.visible&&l.push(h[0],h[1]),r.right.visible&&l.push(h[2],h[3])),l=M(l,this.chart,!1)),s.renderer.toLineSegments(l)}function u(t,s){const e=this,o=e.chart,r=e.ticks,a=e.gridGroup;if(e.categories&&o.frameShapes&&o.is3d()&&a&&s&&s.label){var n=a.element.childNodes[0].getBBox(),h=o.frameShapes.left.getBBox(),l=o.options.chart.options3d,l={x:o.plotWidth/2,y:o.plotHeight/2,z:l.depth/2,vd:S(l.depth,1)*S(l.viewDistance,0)},c=s.pos,p=r[c-1],d=r[c+1];let t,e,i;return 0!==c&&p&&p.label&&p.label.xy&&(e=x({x:p.label.xy.x,y:p.label.xy.y,z:null},l,l.vd)),d&&d.label&&d.label.xy&&(i=x({x:d.label.xy.x,y:d.label.xy.y,z:null},l,l.vd)),t={x:s.label.xy.x,y:s.label.xy.y,z:null},t=x(t,l,l.vd),Math.abs(e?t.x-e.x:i?i.x-t.x:n.x-h.x)}return t.apply(e,[].slice.call(arguments,1))}function z(t){t=t.apply(this,[].slice.call(arguments,1));return this.axis3D?this.axis3D.fix3dPosition(t,!0):t}class b{static compose(t,e){s.compose(e),o.pushUnique(h,t)&&(a(!0,t.defaultOptions,i),t.keepProps.push("axis3D"),r(t,"init",p),r(t,"afterSetOptions",l),r(t,"drawCrosshair",c),e=t.prototype,n(e,"getLinePath",d),n(e,"getPlotBandPath",y),n(e,"getPlotLinePath",f),n(e,"getSlotWidth",u),n(e,"getTitlePosition",z))}constructor(t){this.axis=t}fix3dPosition(t,e){const i=this.axis,s=i.chart;if("colorAxis"===i.coll||!s.chart3d||!s.is3d())return t;var o=v*s.options.chart.options3d.alpha,r=v*s.options.chart.options3d.beta,a=S(e&&i.options.title.position3d,i.options.labels.position3d),e=S(e&&i.options.title.skew3d,i.options.labels.skew3d),n=s.chart3d.frame3d,h=s.plotLeft,l=s.plotWidth+h,c=s.plotTop,p=s.plotHeight+c;let d=0,x=0,y,f={x:0,y:1,z:0},u=!1;if(t=i.axis3D.swapZ({x:t.x,y:t.y,z:0}),i.isZAxis)if(i.opposite){if(null===n.axes.z.top)return{};x=t.y-c,t.x=n.axes.z.top.x,t.y=n.axes.z.top.y,y=n.axes.z.top.xDir,u=!n.top.frontFacing}else{if(null===n.axes.z.bottom)return{};x=t.y-p,t.x=n.axes.z.bottom.x,t.y=n.axes.z.bottom.y,y=n.axes.z.bottom.xDir,u=!n.bottom.frontFacing}else if(i.horiz)if(i.opposite){if(null===n.axes.x.top)return{};x=t.y-c,t.y=n.axes.x.top.y,t.z=n.axes.x.top.z,y=n.axes.x.top.xDir,u=!n.top.frontFacing}else{if(null===n.axes.x.bottom)return{};x=t.y-p,t.y=n.axes.x.bottom.y,t.z=n.axes.x.bottom.z,y=n.axes.x.bottom.xDir,u=!n.bottom.frontFacing}else if(i.opposite){if(null===n.axes.y.right)return{};d=t.x-l,t.x=n.axes.y.right.x,t.z=n.axes.y.right.z,y={x:(y=n.axes.y.right.xDir).z,y:y.y,z:-y.x}}else{if(null===n.axes.y.left)return{};d=t.x-h,t.x=n.axes.y.left.x,t.z=n.axes.y.left.z,y=n.axes.y.left.xDir}if("chart"!==a)if("flap"===a)if(i.horiz){let t=Math.sin(o);c=Math.cos(o);i.opposite&&(t=-t),u&&(t=-t),f={x:y.z*t,y:c,z:-y.x*t}}else y={x:Math.cos(r),y:0,z:Math.sin(r)};else if("ortho"===a)if(i.horiz){p=Math.sin(o),l=Math.cos(o);const b=Math.sin(r)*l,g=-p,m=-l*Math.cos(r);f={x:y.y*m-y.z*g,y:y.z*b-y.x*m,z:y.x*g-y.y*b};let t=1/Math.sqrt(f.x*f.x+f.y*f.y+f.z*f.z);u&&(t=-t),f={x:t*f.x,y:t*f.y,z:t*f.z}}else y={x:Math.cos(r),y:0,z:Math.sin(r)};else i.horiz?f={x:Math.sin(r)*Math.sin(o),y:Math.cos(o),z:-Math.cos(r)*Math.sin(o)}:y={x:Math.cos(r),y:0,z:Math.sin(r)};t.x+=d*y.x+x*f.x,t.y+=d*y.y+x*f.y,t.z+=d*y.z+x*f.z;const z=M([t],i.chart)[0];return e&&(P(M([t,{x:t.x+y.x,y:t.y+y.y,z:t.z+y.z},{x:t.x+f.x,y:t.y+f.y,z:t.z+f.z}],i.chart))<0&&(y={x:-y.x,y:-y.y,z:-y.z}),h=M([{x:t.x,y:t.y,z:t.z},{x:t.x+y.x,y:t.y+y.y,z:t.z+y.z},{x:t.x+f.x,y:t.y+f.y,z:t.z+f.z}],i.chart),z.matrix=[h[1].x-h[0].x,h[1].y-h[0].y,h[2].x-h[0].x,h[2].y-h[0].y,z.x,z.y],z.matrix[4]-=z.x*z.matrix[0]+z.y*z.matrix[2],z.matrix[5]-=z.x*z.matrix[1]+z.y*z.matrix[3]),z}swapZ(t,e){var i=this.axis;return i.isZAxis?{x:(e=e?0:i.chart.plotLeft)+t.z,y:t.y,z:t.x-e}:t}}return class{static compose(t,e){s.compose(e),o.pushUnique(h,t)&&(a(!0,t.defaultOptions,i),t.keepProps.push("axis3D"),r(t,"init",p),r(t,"afterSetOptions",l),r(t,"drawCrosshair",c),e=t.prototype,n(e,"getLinePath",d),n(e,"getPlotBandPath",y),n(e,"getPlotLinePath",f),n(e,"getSlotWidth",u),n(e,"getTitlePosition",z))}constructor(t){this.axis=t}fix3dPosition(t,e){const i=this.axis,s=i.chart;if("colorAxis"===i.coll||!s.chart3d||!s.is3d())return t;var o=v*s.options.chart.options3d.alpha,r=v*s.options.chart.options3d.beta,a=S(e&&i.options.title.position3d,i.options.labels.position3d),e=S(e&&i.options.title.skew3d,i.options.labels.skew3d),n=s.chart3d.frame3d,h=s.plotLeft,l=s.plotWidth+h,c=s.plotTop,p=s.plotHeight+c;let d=0,x=0,y,f={x:0,y:1,z:0},u=!1;if(t=i.axis3D.swapZ({x:t.x,y:t.y,z:0}),i.isZAxis)if(i.opposite){if(null===n.axes.z.top)return{};x=t.y-c,t.x=n.axes.z.top.x,t.y=n.axes.z.top.y,y=n.axes.z.top.xDir,u=!n.top.frontFacing}else{if(null===n.axes.z.bottom)return{};x=t.y-p,t.x=n.axes.z.bottom.x,t.y=n.axes.z.bottom.y,y=n.axes.z.bottom.xDir,u=!n.bottom.frontFacing}else if(i.horiz)if(i.opposite){if(null===n.axes.x.top)return{};x=t.y-c,t.y=n.axes.x.top.y,t.z=n.axes.x.top.z,y=n.axes.x.top.xDir,u=!n.top.frontFacing}else{if(null===n.axes.x.bottom)return{};x=t.y-p,t.y=n.axes.x.bottom.y,t.z=n.axes.x.bottom.z,y=n.axes.x.bottom.xDir,u=!n.bottom.frontFacing}else if(i.opposite){if(null===n.axes.y.right)return{};d=t.x-l,t.x=n.axes.y.right.x,t.z=n.axes.y.right.z,y={x:(y=n.axes.y.right.xDir).z,y:y.y,z:-y.x}}else{if(null===n.axes.y.left)return{};d=t.x-h,t.x=n.axes.y.left.x,t.z=n.axes.y.left.z,y=n.axes.y.left.xDir}if("chart"!==a)if("flap"===a)if(i.horiz){let t=Math.sin(o);c=Math.cos(o),i.opposite&&(t=-t),u&&(t=-t),f={x:y.z*t,y:c,z:-y.x*t}}else y={x:Math.cos(r),y:0,z:Math.sin(r)};else if("ortho"===a)if(i.horiz){p=Math.sin(o),l=Math.cos(o);const b=Math.sin(r)*l,g=-p,m=-l*Math.cos(r);f={x:y.y*m-y.z*g,y:y.z*b-y.x*m,z:y.x*g-y.y*b};let t=1/Math.sqrt(f.x*f.x+f.y*f.y+f.z*f.z);u&&(t=-t),f={x:t*f.x,y:t*f.y,z:t*f.z}}else y={x:Math.cos(r),y:0,z:Math.sin(r)};else i.horiz?f={x:Math.sin(r)*Math.sin(o),y:Math.cos(o),z:-Math.cos(r)*Math.sin(o)}:y={x:Math.cos(r),y:0,z:Math.sin(r)};t.x+=d*y.x+x*f.x,t.y+=d*y.y+x*f.y,t.z+=d*y.z+x*f.z;const z=M([t],i.chart)[0];return e&&(P(M([t,{x:t.x+y.x,y:t.y+y.y,z:t.z+y.z},{x:t.x+f.x,y:t.y+f.y,z:t.z+f.z}],i.chart))<0&&(y={x:-y.x,y:-y.y,z:-y.z}),h=M([{x:t.x,y:t.y,z:t.z},{x:t.x+y.x,y:t.y+y.y,z:t.z+y.z},{x:t.x+f.x,y:t.y+f.y,z:t.z+f.z}],i.chart),z.matrix=[h[1].x-h[0].x,h[1].y-h[0].y,h[2].x-h[0].x,h[2].y-h[0].y,z.x,z.y],z.matrix[4]-=z.x*z.matrix[0]+z.y*z.matrix[2],z.matrix[5]-=z.x*z.matrix[1]+z.y*z.matrix[3]),z}swapZ(t,e){var i=this.axis;return i.isZAxis?{x:(e=e?0:i.chart.plotLeft)+t.z,y:t.y,z:t.x-e}:t}}}),e(t,"Core/Series/Series3D.js",[t["Core/Math3D.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(t,e,i){const d=t["perspective"],{addEvent:s,extend:o,merge:r,pick:x,isNumber:y}=i;class a extends e{translate(){super.translate.apply(this,arguments),this.chart.is3d()&&this.translate3dPoints()}translate3dPoints(){let t=this,e=t.options,i=t.chart,s=x(t.zAxis,i.options.zAxis[0]),o=[],r,a,n,h,l,c=[],p=e.stacking?y(e.stack)?e.stack:0:t.index||0;for(t.zPadding=p*(e.depth||0+(e.groupZPadding||1)),l=0;l<t.data.length;l++)r=t.data[l],s&&s.translate?(h=s.logarithmic&&s.val2lin?s.val2lin(r.z):r.z,r.plotZ=s.translate(h),r.isInside=!!r.isInside&&(h>=s.min&&h<=s.max)):r.plotZ=t.zPadding,r.axisXpos=r.plotX,r.axisYpos=r.plotY,r.axisZpos=r.plotZ,o.push({x:r.plotX,y:r.plotY,z:r.plotZ}),c.push(r.plotX||0);for(t.rawPointsX=c,a=d(o,i,!0),l=0;l<t.data.length;l++)r=t.data[l],n=a[l],r.plotX=n.x,r.plotY=n.y,r.plotZ=n.z}}return a.defaultOptions=r(e.defaultOptions),s(e,"afterTranslate",function(){this.chart.is3d()&&this.translate3dPoints()}),o(e.prototype,{translate3dPoints:a.prototype.translate3dPoints}),a}),e(t,"Series/Area3D/Area3DSeries.js",[t["Core/Math3D.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i){const l=t["perspective"],{line:{prototype:c}}=e["seriesTypes"],s=i["wrap"],o=[];function r(t){var e=this,t=t.apply(e,[].slice.call(arguments,1));if(!e.chart.is3d())return t;const i=c.getGraphPath,s=e.options,o=Math.round(e.yAxis.getThreshold(s.threshold));let r=[];if(e.rawPointsX)for(let t=0;t<e.points.length;t++)r.push({x:e.rawPointsX[t],y:s.stacking?e.points[t].yBottom:o,z:e.zPadding});var a=e.chart.options.chart.options3d;r=l(r,e.chart,!0).map(t=>({plotX:t.x,plotY:t.y,plotZ:t.z})),e.group&&a&&a.depth&&a.beta&&(e.markerGroup&&(e.markerGroup.add(e.group),e.markerGroup.attr({translateX:0,translateY:0})),e.group.attr({zIndex:Math.max(1,270<a.beta||a.beta<90?a.depth-Math.round(e.zPadding||0):Math.round(e.zPadding||0))})),r.reversed=!0;const n=i.call(e,r,!0,!0);if(n[0]&&"M"===n[0][0]&&(n[0]=["L",n[0][1],n[0][2]]),e.areaPath){const h=e.areaPath.splice(0,e.areaPath.length/2).concat(n);h.xMap=e.areaPath.xMap,e.areaPath=h}return t}return{compose:function(t){i.pushUnique(o,t)&&s(t.prototype,"getGraphPath",r)}}}),e(t,"Series/Column3D/Column3DComposition.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/Series.js"],t["Core/Math3D.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Axis/Stacking/StackItem.js"],t["Core/Utilities.js"]],function(t,e,i,a,s,o){const r=t["prototype"],d=i["perspective"],{addEvent:n,extend:x,pick:l,wrap:h}=o;function c(t){const e=t.apply(this,[].slice.call(arguments,1));return this.chart.is3d&&this.chart.is3d()&&(e.stroke=this.options.edgeColor||e.fill,e["stroke-width"]=l(this.options.edgeWidth,1)),e}function p(t,e,i){var s=this.chart.is3d&&this.chart.is3d();s&&(this.options.inactiveOtherPoints=!0),t.call(this,e,i),s&&(this.options.inactiveOtherPoints=!1)}function y(t,...e){return this.series.chart.is3d()?this.graphic&&"g"!==this.graphic.element.nodeName:t.apply(this,e)}if(h(r,"translate",function(t){t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&this.translate3dShapes()}),h(e.prototype,"justifyDataLabel",function(t){return!arguments[2].outside3dPlot&&t.apply(this,[].slice.call(arguments,1))}),r.translate3dPoints=function(){},r.translate3dShapes=function(){let a=this,n=a.chart,t=a.options,h=t.depth,e=t.stacking?t.stack||0:a.index,l=e*(h+(t.groupZPadding||1)),c=a.borderWidth%2?.5:0,p;n.inverted&&!a.yAxis.reversed&&(c*=-1),!1!==t.grouping&&(l=0),l+=t.groupZPadding||1,a.data.forEach(function(s){if((s.outside3dPlot=null)!==s.y){const o=x({x:0,y:0,width:0,height:0},s.shapeArgs||{}),e=[["x","width"],["y","height"]],r=s.tooltipPos;let i;var t;e.forEach(t=>{if((i=o[t[0]]-c)<0&&(o[t[1]]+=o[t[0]]+c,o[t[0]]=-c,i=0),i+o[t[1]]>a[t[0]+"Axis"].len&&0!==o[t[1]]&&(o[t[1]]=a[t[0]+"Axis"].len-o[t[0]]),0!==o[t[1]]&&(o[t[0]]>=a[t[0]+"Axis"].len||o[t[0]]+o[t[1]]<=c)){for(const e in o)o[e]="y"===e?-9999:0;s.outside3dPlot=!0}}),"roundedRect"===s.shapeType&&(s.shapeType="cuboid"),s.shapeArgs=x(o,{z:l,depth:h,insidePlotArea:!0}),p={x:o.x+o.width/2,y:o.y,z:l+h/2},n.inverted&&(p.x=o.height,p.y=s.clientX||0),s.plot3d=d([p],n,!0,!1)[0],r&&(t=d([{x:r[0],y:r[1],z:l+h/2}],n,!0,!1)[0],s.tooltipPos=[t.x,t.y])}}),a.z=l},h(r,"animate",function(t){if(this.chart.is3d()){const e=arguments,i=e[1],s=this.yAxis,o=this,r=this.yAxis.reversed;i?o.data.forEach(function(t){null!==t.y&&(t.height=t.shapeArgs.height,t.shapey=t.shapeArgs.y,t.shapeArgs.height=1,r||(t.stackY?t.shapeArgs.y=t.plotY+s.translate(t.stackY):t.shapeArgs.y=t.plotY+(t.negative?-t.height:t.height)))}):(o.data.forEach(function(t){null!==t.y&&(t.shapeArgs.height=t.height,t.shapeArgs.y=t.shapey,t.graphic&&t.graphic[t.outside3dPlot?"attr":"animate"](t.shapeArgs,o.options.animation))}),this.drawDataLabels())}else t.apply(this,[].slice.call(arguments,1))}),h(r,"plotGroup",function(t,e,i,s,o,r){return"dataLabelsGroup"!==e&&"markerGroup"!==e&&this.chart.is3d()&&(this[e]&&delete this[e],r&&(this.chart.columnGroup||(this.chart.columnGroup=this.chart.renderer.g("columnGroup").add(r)),this[e]=this.chart.columnGroup,this.chart.columnGroup.attr(this.getPlotBox()),this[e].survive=!0,"group"===e&&(arguments[3]="visible"))),t.apply(this,Array.prototype.slice.call(arguments,1))}),h(r,"setVisible",function(t,e){const i=this;i.chart.is3d()&&i.data.forEach(function(t){t.visible=t.options.visible=e=void 0===e?!l(i.visible,t.visible):e,i.options.data[i.data.indexOf(t)]=t.options,t.graphic&&t.graphic.attr({visibility:e?"visible":"hidden"})}),t.apply(this,Array.prototype.slice.call(arguments,1))}),n(t,"afterInit",function(){if(this.chart.is3d()){let s=this.options,t=s.grouping,o=s.stacking,r=this.yAxis.options.reversedStacks,a=0;if(void 0===t||t){let t=function(t,e){const i=t.series,s={totalStacks:0};let o,r=1;return i.forEach(function(t){o=l(t.options.stack,e?0:i.length-1-t.index),s[o]?s[o].series.push(t):(s[o]={series:[t],position:r},r++)}),s.totalStacks=r+1,s}(this.chart,o),e=s.stack||0,i;for(i=0;i<t[e].series.length&&t[e].series[i]!==this;i++);a=10*(t.totalStacks-t[e].position)+(r?i:-i),this.xAxis.reversed||(a=10*t.totalStacks-a)}s.depth=s.depth||25,this.z=this.z||0,s.zIndex=a}}),h(r,"pointAttribs",c),h(r,"setState",p),h(r.pointClass.prototype,"hasNewShapeType",y),a.seriesTypes.columnRange){const f=a.seriesTypes.columnrange.prototype;h(f,"pointAttribs",c),h(f,"setState",p),h(f.pointClass.prototype,"hasNewShapeType",y),f.plotGroup=r.plotGroup,f.setVisible=r.setVisible}return h(e.prototype,"alignDataLabel",function(t,e,i,s,o){const r=this.chart;if(s.outside3dPlot=e.outside3dPlot,r.is3d()&&this.is("column")){var a=this.options,s=l(s.inside,!!this.options.stacking),n=r.options.chart.options3d,h=e.pointWidth/2||0;let t={x:o.x+h,y:o.y,z:this.z+a.depth/2};r.inverted&&(s&&(o.width=0,t.x+=e.shapeArgs.height/2),90<=n.alpha&&n.alpha<=270&&(t.y+=e.shapeArgs.width)),t=d([t],r,!0,!1)[0],o.x=t.x-h,o.y=e.outside3dPlot?-9e9:t.y}t.apply(this,[].slice.call(arguments,1))}),h(s.prototype,"getStackBox",function(e,i){const s=e.apply(this,[].slice.call(arguments,1)),o=this.axis.chart,r=i["width"];if(o.is3d()&&this.base){e=+this.base.split(",")[0],i=o.series[e],e=o.options.chart.options3d;if(i&&i instanceof a.seriesTypes.column){let t={x:s.x+(o.inverted?s.height:r/2),y:s.y,z:i.options.depth/2};o.inverted&&(s.width=0,90<=e.alpha&&e.alpha<=270&&(t.y+=r)),t=d([t],o,!0,!1)[0],s.x=t.x-r/2,s.y=t.y}}return s}),t}),e(t,"Series/Pie3D/Pie3DPoint.js",[t["Core/Series/SeriesRegistry.js"]],function(t){var{prototype:{pointClass:t}}=t["seriesTypes"]["pie"];const e=t.prototype.haloPath;class i extends t{constructor(){super(...arguments),this.series=void 0}haloPath(){var t;return null!=(t=this.series)&&t.chart.is3d()?[]:e.apply(this,arguments)}}return i}),e(t,"Series/Pie3D/Pie3DSeries.js",[t["Core/Globals.js"],t["Series/Pie3D/Pie3DPoint.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i,s){const p=t["deg2rad"];var t=i["seriesTypes"]["pie"];const{extend:o,pick:a}=s;class r extends t{addPoint(){super.addPoint.apply(this,arguments),this.chart.is3d()&&this.update(this.userOptions,!0)}animate(r){if(this.chart.is3d()){let t=this.options.animation,e,i=this.center,s=this.group,o=this.markerGroup;!0===t&&(t={}),r?(s.oldtranslateX=a(s.oldtranslateX,s.translateX),s.oldtranslateY=a(s.oldtranslateY,s.translateY),e={translateX:i[0],translateY:i[1],scaleX:.001,scaleY:.001},s.attr(e),o&&(o.attrSetters=s.attrSetters,o.attr(e))):(e={translateX:s.oldtranslateX,translateY:s.oldtranslateY,scaleX:1,scaleY:1},s.animate(e,t),o&&o.animate(e,t))}else super.animate.apply(this,arguments)}drawDataLabels(){if(this.chart.is3d()){const t=this.chart,c=t.options.chart.options3d;this.data.forEach(function(t){const e=t.shapeArgs,i=e.r,s=(e.alpha||c.alpha)*p,o=(e.beta||c.beta)*p,r=(e.start+e.end)/2,a=t.labelPosition,n=a.connectorPosition,h=-i*(1-Math.cos(s))*Math.sin(r),l=i*(Math.cos(o)-1)*Math.cos(r);[a.natural,n.breakAt,n.touchingSliceAt].forEach(function(t){t.x+=l,t.y+=h})})}super.drawDataLabels.apply(this,arguments)}pointAttribs(t){const e=super.pointAttribs.apply(this,arguments),i=this.options;return this.chart.is3d()&&!this.chart.styledMode&&(e.stroke=i.edgeColor||t.color||this.color,e["stroke-width"]=a(i.edgeWidth,1)),e}translate(){if(super.translate.apply(this,arguments),this.chart.is3d()){let s=this,o=s.options,r=o.depth||0,t=s.chart.options.chart.options3d,a=t.alpha,n=t.beta,h=o.stacking?(o.stack||0)*r:s._i*r;h+=r/2,!1!==o.grouping&&(h=0),s.data.forEach(function(t){let e=t.shapeArgs,i;t.shapeType="arc3d",e.z=h,e.depth=.75*r,e.alpha=a,e.beta=n,e.center=s.center,i=(e.end+e.start)/2,t.slicedTranslation={translateX:Math.round(Math.cos(i)*o.slicedOffset*Math.cos(a*p)),translateY:Math.round(Math.sin(i)*o.slicedOffset*Math.cos(a*p))}})}}drawTracker(){super.drawTracker.apply(this,arguments),this.chart.is3d()&&this.points.forEach(function(e){e.graphic&&["out","inn","side1","side2"].forEach(t=>{e.graphic&&(e.graphic[t].element.point=e)})})}}return o(r.prototype,{pointClass:e}),r}),e(t,"Series/Pie3D/Pie3DComposition.js",[t["Series/Pie3D/Pie3DPoint.js"],t["Series/Pie3D/Pie3DSeries.js"],t["Core/Series/SeriesRegistry.js"]],function(t,e,i){i.seriesTypes.pie.prototype.pointClass.prototype.haloPath=t.prototype.haloPath,i.seriesTypes.pie=e}),e(t,"Series/Scatter3D/Scatter3DPoint.js",[t["Series/Scatter/ScatterSeries.js"],t["Core/Utilities.js"]],function(t,e){const i=e["defined"];class s extends t.prototype.pointClass{constructor(){super(...arguments),this.options=void 0,this.series=void 0}applyOptions(){return super.applyOptions.apply(this,arguments),i(this.z)||(this.z=0),this}}return s}),e(t,"Series/Scatter3D/Scatter3DSeries.js",[t["Core/Math3D.js"],t["Series/Scatter3D/Scatter3DPoint.js"],t["Series/Scatter/ScatterSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i,s,o){const r=t["pointCameraDistance"],{extend:a,merge:n}=o;class h extends i{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}pointAttribs(t){const e=super.pointAttribs.apply(this,arguments);return this.chart.is3d()&&t&&(e.zIndex=r(t,this.chart)),e}}return h.defaultOptions=n(i.defaultOptions,{tooltip:{pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>"}}),a(h.prototype,{axisTypes:["xAxis","yAxis","zAxis"],directTouch:!0,parallelArrays:["x","y","z"],pointArrayMap:["x","y","z"],pointClass:e}),s.registerSeriesType("scatter3d",h),h}),e(t,"masters/highcharts-3d.src.js",[t["Core/Globals.js"],t["Core/Renderer/SVG/SVGRenderer3D.js"],t["Core/Chart/Chart3D.js"],t["Core/Axis/ZAxis.js"],t["Core/Axis/Axis3DComposition.js"],t["Series/Area3D/Area3DSeries.js"]],function(t,e,i,s,o,r){e.compose(t.SVGRenderer),i.compose(t.Chart,t.Fx),s.compose(t.Chart),o.compose(t.Axis,t.Tick),r.compose(t.seriesTypes.area)})});