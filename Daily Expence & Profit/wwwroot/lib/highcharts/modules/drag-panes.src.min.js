!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/modules/drag-panes",["highcharts","highcharts/modules/stock"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){"use strict";e=e?e._modules:{};function t(e,t,s,o){e.hasOwnProperty(t)||(e[t]=o.apply(null,s),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:e[t]}})))}t(e,"Extensions/DragPanes/AxisResizerDefaults.js",[],function(){return{minLength:"10%",maxLength:"100%",resize:{controlledAxis:{next:[],prev:[]},enabled:!1,cursor:"ns-resize",lineColor:"#cccccc",lineDashStyle:"Solid",lineWidth:4,x:0,y:0}}}),t(e,"Extensions/DragPanes/AxisResizer.js",[e["Extensions/DragPanes/AxisResizerDefaults.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],function(e,t,s){const a=t["hasTouch"],{addEvent:h,clamp:v,isNumber:y,objectEach:o,relativeLength:z}=s;class i{constructor(e){this.axis=void 0,this.controlLine=void 0,this.lastPos=void 0,this.options=void 0,this.init(e)}init(e,t){this.axis=e,this.options=e.options.resize,this.render(),t||this.addMouseEvents()}render(){const e=this,t=e.axis,s=t.chart,o=e.options,i=o.x||0,n=o.y,r=v(t.top+t.height+n,s.plotTop,s.plotTop+s.plotHeight);let a={};s.styledMode||(a={cursor:o.cursor,stroke:o.lineColor,"stroke-width":o.lineWidth,dashstyle:o.lineDashStyle}),e.lastPos=r-n,e.controlLine||(e.controlLine=s.renderer.path().addClass("highcharts-axis-resizer")),e.controlLine.add(t.axisGroup);var h=s.styledMode?e.controlLine.strokeWidth():o.lineWidth;a.d=s.renderer.crispLine([["M",t.left+i,r],["L",t.left+t.width+i,r]],h),e.controlLine.attr(a)}addMouseEvents(){const t=this,e=t.controlLine.element,s=t.axis.chart.container,o=[];var i,n,r;t.mouseMoveHandler=i=function(e){t.onMouseMove(e)},t.mouseUpHandler=n=function(e){t.onMouseUp(e)},t.mouseDownHandler=r=function(e){t.onMouseDown(e)},o.push(h(s,"mousemove",i),h(s.ownerDocument,"mouseup",n),h(e,"mousedown",r)),a&&o.push(h(s,"touchmove",i),h(s.ownerDocument,"touchend",n),h(e,"touchstart",r)),t.eventsToUnbind=o}onMouseMove(e){e.touches&&0===e.touches[0].pageX||this.grabbed&&(this.hasDragged=!0,this.updateAxes(this.axis.chart.pointer.normalize(e).chartY-this.options.y))}onMouseUp(e){this.hasDragged&&this.updateAxes(this.axis.chart.pointer.normalize(e).chartY-this.options.y),this.grabbed=this.hasDragged=this.axis.chart.activeResizer=null}onMouseDown(e){this.axis.chart.pointer.reset(!1,0),this.grabbed=this.axis.chart.activeResizer=!0}updateAxes(a){function h(e){return 100*e/x+"%"}function c(e,t,s){return Math.round(v(e,t,s))}const u=this,d=u.axis.chart,e=u.options.controlledAxis,t=0===e.next.length?[d.yAxis.indexOf(u.axis)+1]:e.next,s=[u.axis].concat(e.prev),l=[],p=d.plotTop,x=d.plotHeight,g=p+x;a=v(a,p,g);let f=!1,m=a-u.lastPos;m*m<1||([s,t].forEach((e,r)=>{e.forEach((e,t)=>{var s,o,t=y(e)?d.yAxis[e]:r||t?d.get(e):e,e=t&&t.options;let i,n;e&&"navigator-y-axis"!==e.id&&(n=t.top,s=Math.round(z(e.minLength,x)),e=Math.round(z(e.maxLength,x)),r?(m=a-u.lastPos,i=c(t.len-m,s,e),(n=t.top+m)+i>g&&(o=g-i-n,a+=o,n+=o),(i=n<p&&(n=p)+i>g?x:i)===s&&(f=!0),l.push({axis:t,options:{top:h(n-p),height:h(i)}})):((i=c(a-n,s,e))===e&&(f=!0),a=n+i,l.push({axis:t,options:{height:h(i)}})),i)})}),f||(l.forEach(function(e){e.axis.update(e.options,!1)}),d.redraw(!1)))}destroy(){const s=this,e=s.axis;delete e.resizer,this.eventsToUnbind&&this.eventsToUnbind.forEach(function(e){e()}),s.controlLine.destroy(),o(s,function(e,t){s[t]=null})}}return i.resizerOptions=e,i}),t(e,"Extensions/DragPanes/DragPanes.js",[e["Extensions/DragPanes/AxisResizer.js"],e["Core/Utilities.js"]],function(i,s){const{addEvent:o,merge:n,wrap:r}=s,a=[];function h(){let e=this,t=e.resizer,s=e.options.resize,o;s&&(o=!1!==s.enabled,t?o?t.init(e,!0):t.destroy():o&&(e.resizer=new i(e)))}function c(e){!e.keepEvents&&this.resizer&&this.resizer.destroy()}function u(e){this.chart.activeResizer||e.apply(this,Array.prototype.slice.call(arguments,1))}function d(e){this.chart.activeResizer||e.apply(this,Array.prototype.slice.call(arguments,1))}return{compose:function(e,t){s.pushUnique(a,e)&&(n(!0,e.defaultOptions,i.resizerOptions),e.keepProps.push("resizer"),o(e,"afterRender",h),o(e,"destroy",c)),s.pushUnique(a,t)&&(r(t.prototype,"runPointActions",d),r(t.prototype,"drag",u))}}}),t(e,"masters/modules/drag-panes.src.js",[e["Core/Globals.js"],e["Extensions/DragPanes/AxisResizer.js"],e["Extensions/DragPanes/DragPanes.js"]],function(e,t,s){const o=e;o.AxisResizer=t,s.compose(o.Axis,o.Pointer)})});