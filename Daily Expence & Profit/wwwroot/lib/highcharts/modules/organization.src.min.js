!function(i){"object"==typeof module&&module.exports?module.exports=i.default=i:"function"==typeof define&&define.amd?define("highcharts/modules/organization",["highcharts","highcharts/modules/sankey"],function(t){return i(t),i.Highcharts=t,i}):i("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function i(t,i,e,n){t.hasOwnProperty(i)||(t[i]=n.apply(null,e),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:i,module:t[i]}})))}i(t,"Series/Organization/OrganizationPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,i){const{sankey:{prototype:{pointClass:e}}}=t["seriesTypes"],{defined:s,find:r,pick:a}=i;class n extends e{constructor(){super(...arguments),this.fromNode=void 0,this.linksFrom=void 0,this.linksTo=void 0,this.options=void 0,this.series=void 0,this.toNode=void 0}init(){return e.prototype.init.apply(this,arguments),this.isNode||(this.dataLabelOnNull=!0,this.formatPrefix="link"),this}getSum(){return 1}setNodeColumn(){super.setNodeColumn();const n=this,i=n.getFromNode().fromNode;if(!s(n.options.column)&&0!==n.linksTo.length&&i&&"hanging"===i.options.layout){n.options.layout=a(n.options.layout,"hanging"),n.hangsFrom=i;let e=-1;r(i.linksFrom,function(t,i){t=t.toNode===n;return t&&(e=i),t});for(let t=0;t<i.linksFrom.length;t++){var o=i.linksFrom[t];o.toNode.id===n.id?t=i.linksFrom.length:e+=function i(t){let e=t.linksFrom.length;return t.linksFrom.forEach(t=>{t.id===t.toNode.linksTo[0].id?e+=i(t.toNode):e--}),e}(o.toNode)}n.column=(n.column||0)+e}}}return n}),i(t,"Series/Organization/OrganizationSeriesDefaults.js",[],function(){return{borderColor:"#666666",borderRadius:3,link:{color:"#666666",lineWidth:1,radius:10,type:"default"},borderWidth:1,dataLabels:{nodeFormatter:function(){const t={width:"100%",height:"100%",display:"flex","flex-direction":"row","align-items":"center","justify-content":"center"},i={"max-height":"100%","border-radius":"50%"},e={width:"100%",padding:0,"text-align":"center","white-space":"normal"};function n(e){return Object.keys(e).reduce(function(t,i){return t+i+":"+e[i]+";"},'style="')+'"'}var{description:o,image:s,title:r}=this.point;s&&(i["max-width"]="30%",e.width="70%"),this.series.chart.renderer.forExport&&(t.display="block",e.position="absolute",e.left=s?"30%":0,e.top=0);let a="<div "+n(t)+">";return s&&(a+='<img src="'+s+'" '+n(i)+">"),a+="<div "+n(e)+">",this.point.name&&(a+="<h4 "+n({margin:0})+">"+this.point.name+"</h4>"),r&&(a+="<p "+n({margin:0})+">"+(r||"")+"</p>"),o&&(a+="<p "+n({opacity:.75,margin:"5px"})+">"+o+"</p>"),a+="</div></div>"},style:{fontWeight:"normal",fontSize:"0.9em"},useHTML:!0,linkTextPath:{attributes:{startOffset:"95%",textAnchor:"end"}}},hangingIndent:20,hangingIndentTranslation:"inherit",minNodeLength:10,nodeWidth:50,tooltip:{nodeFormat:"{point.name}<br>{point.title}<br>{point.description}"}}}),i(t,"Series/PathUtilities.js",[],function(){function l(i,e){const n=[];for(let t=0;t<i.length;t++){var o,s,r,a,h,l,d=i[t][1],p=i[t][2];"number"==typeof d&&"number"==typeof p&&(0===t?n.push(["M",d,p]):t!==i.length-1&&e?(s=i[t-1],a=i[t+1],s&&a&&(o=s[1],s=s[2],r=a[1],a=a[2],"number"==typeof o&&"number"==typeof r&&"number"==typeof s&&"number"==typeof a&&o!==r&&s!==a&&(h=o<r?1:-1,l=s<a?1:-1,n.push(["L",d-h*Math.min(Math.abs(d-o),e),p-l*Math.min(Math.abs(p-s),e)],["C",d,p,d,p,d+h*Math.min(Math.abs(d-r),e),p+l*Math.min(Math.abs(p-a),e)])))):n.push(["L",d,p]))}return n}return{applyRadius:l,getLinkPath:{default:function(t){var{x1:t,y1:i,x2:e,y2:n,width:o=0,inverted:s=!1,radius:r,parentVisible:a}=t,h=[["M",t,i],["L",t,i],["C",t,i,t,n,t,n],["L",t,n],["C",t,i,t,n,t,n],["L",t,n]];return a?l([["M",t,i],["L",t+o*(s?-.5:.5),i],["L",t+o*(s?-.5:.5),n],["L",e,n]],r):h},straight:function(t){var{x1:t,y1:i,x2:e,y2:n,width:o=0,inverted:s=!1,parentVisible:r}=t;return r?[["M",t,i],["L",t+o*(s?-1:1),n],["L",e,n]]:[["M",t,i],["L",t,n],["L",t,n]]},curved:function(t){var{x1:t,y1:i,x2:e,y2:n,offset:o=0,width:s=0,inverted:r=!1,parentVisible:a}=t;return a?[["M",t,i],["C",t+o,i,t-o+s*(r?-1:1),n,t+s*(r?-1:1),n],["L",e,n]]:[["M",t,i],["C",t,i,t,n,t,n],["L",e,n]]}}}}),i(t,"Series/Organization/OrganizationSeries.js",[t["Series/Organization/OrganizationPoint.js"],t["Series/Organization/OrganizationSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Series/PathUtilities.js"],t["Core/Utilities.js"]],function(t,i,e,k,n){const{sankey:g}=e["seriesTypes"],{css:r,extend:o,isNumber:u,merge:s,pick:m}=n;class a extends g{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}alignDataLabel(n,o,s){n=n.shapeArgs;if(s.useHTML&&n){let t=n.width||0,i=n.height||0,e=this.options.borderWidth+2*this.options.dataLabels.padding;this.chart.inverted&&(t=i,i=n.width||0),i-=e,t-=e;s=o.text;s&&(r(s.element.parentNode,{width:t+"px",height:i+"px"}),r(s.element,{left:0,top:0,width:"100%",height:"100%",overflow:"hidden"})),o.getBBox=()=>({width:t,height:i,x:0,y:0}),o.width=t,o.height=i}super.alignDataLabel.apply(this,arguments)}createNode(t){const i=super.createNode.call(this,t);return i.getSum=()=>1,i}pointAttribs(t,i){const e=this,n=g.prototype.pointAttribs.call(e,t,i),o=(t.isNode?t:t.fromNode).level,s=e.mapOptionsToLevel[o||0]||{},r=t.options,a=s.states&&s.states[i]||{},h=m(a.borderRadius,r.borderRadius,s.borderRadius,e.options.borderRadius),l=m(a.linkColor,r.linkColor,s.linkColor,e.options.linkColor,a.link&&a.link.color,r.link&&r.link.color,s.link&&s.link.color,e.options.link&&e.options.link.color),d=m(a.linkLineWidth,r.linkLineWidth,s.linkLineWidth,e.options.linkLineWidth,a.link&&a.link.lineWidth,r.link&&r.link.lineWidth,s.link&&s.link.lineWidth,e.options.link&&e.options.link.lineWidth),p=m(a.linkOpacity,r.linkOpacity,s.linkOpacity,e.options.linkOpacity,a.link&&a.link.linkOpacity,r.link&&r.link.linkOpacity,s.link&&s.link.linkOpacity,e.options.link&&e.options.link.linkOpacity);return t.isNode?u(h)&&(n.r=h):(n.stroke=l,n["stroke-width"]=d,n.opacity=p,delete n.fill),n}translateLink(l){var d=l.fromNode,p=l.toNode,g=m(this.options.linkLineWidth,this.options.link.lineWidth),u=Math.round(g)%2/2,c=m(this.options.link.offset,.5),f=m(l.options.link&&l.options.link.type,this.options.link.type);if(d.shapeArgs&&p.shapeArgs){let t=Math.floor((d.shapeArgs.x||0)+(d.shapeArgs.width||0))+u,i=Math.floor((d.shapeArgs.y||0)+(d.shapeArgs.height||0)/2)+u,e=Math.floor(p.shapeArgs.x||0)+u,n=Math.floor((p.shapeArgs.y||0)+(p.shapeArgs.height||0)/2)+u,o,s=this.options.hangingIndent,r=p.options.offset,a=/%$/.test(r)&&parseInt(r,10),h=this.chart.inverted;h&&(t-=d.shapeArgs.width||0,e+=p.shapeArgs.width||0),o=this.colDistance?Math.floor(e+(h?1:-1)*(this.colDistance-this.nodeWidth)/2)+u:Math.floor((e+t)/2)+u,a&&(50<=a||a<=-50)&&(o=e=Math.floor(e+(h?-.5:.5)*(p.shapeArgs.width||0))+u,n=p.shapeArgs.y||0,0<a&&(n+=p.shapeArgs.height||0)),p.hangsFrom===d&&(this.chart.inverted?(i=Math.floor((d.shapeArgs.y||0)+(d.shapeArgs.height||0)-s/2)+u,n=(p.shapeArgs.y||0)+(p.shapeArgs.height||0)):i=Math.floor((d.shapeArgs.y||0)+s/2)+u,o=e=Math.floor((p.shapeArgs.x||0)+(p.shapeArgs.width||0)/2)+u),l.plotX=o,l.plotY=(i+n)/2,l.shapeType="path","straight"===f?l.shapeArgs={d:[["M",t,i],["L",e,n]]}:"curved"===f?(d=Math.abs(e-t)*c*(h?-1:1),l.shapeArgs={d:[["M",t,i],["C",t+d,i,e-d,n,e,n]]}):l.shapeArgs={d:k.applyRadius([["M",t,i],["L",o,i],["L",o,n],["L",e,n]],m(this.options.linkRadius,this.options.link.radius))},l.dlBox={x:(t+e)/2,y:(i+n)/2,height:g,width:0}}}translateNode(t,i){g.prototype.translateNode.call(this,t,i);let e=t.hangsFrom,n=this.options.hangingIndent||0,o=this.chart.inverted?-1:1,s=t.shapeArgs,r=this.options.hangingIndentTranslation,a=this.options.minNodeLength||10;if(e)if("cumulative"===r)for(s.height-=n,s.y-=o*n;e;)s.y+=o*n,e=e.hangsFrom;else if("shrink"===r)for(;e&&s.height>n+a;)s.height-=n,e=e.hangsFrom;else s.height-=n,this.chart.inverted||(s.y+=n);t.nodeHeight=this.chart.inverted?s.width:s.height}drawDataLabels(){var t=this.options.dataLabels;if(t.linkTextPath&&t.linkTextPath.enabled)for(const i of this.points)i.options.dataLabels=s(i.options.dataLabels,{useHTML:!1});super.drawDataLabels()}}return a.defaultOptions=s(g.defaultOptions,i),o(a.prototype,{pointClass:t}),e.registerSeriesType("organization",a),a}),i(t,"masters/modules/organization.src.js",[],function(){})});