!function(o){"object"==typeof module&&module.exports?module.exports=o.default=o:"function"==typeof define&&define.amd?define("highcharts/modules/datagrouping",["highcharts"],function(t){return o(t),o.Highcharts=t,o}):o("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function o(t,o,e,a){t.hasOwnProperty(o)||(t[o]=a.apply(null,e),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:o,module:t[o]}})))}o(t,"Extensions/DataGrouping/ApproximationRegistry.js",[],function(){return{}}),o(t,"Extensions/DataGrouping/ApproximationDefaults.js",[t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Core/Utilities.js"]],function(i,t){const{arrayMax:o,arrayMin:e,correctFloat:a,extend:n,isNumber:r}=t;function s(t){var o=t.length;let e=p(t);return e=r(e)&&o?a(e/o):e}function p(t){let o=t.length,e;if(!o&&t.hasNulls)e=null;else if(o)for(e=0;o--;)e+=t[o];return e}t={average:s,averages:function(){const o=[];return[].forEach.call(arguments,function(t){o.push(s(t))}),void 0===o[0]?void 0:o},close:function(t){return t.length?t[t.length-1]:t.hasNulls?null:void 0},high:function(t){return t.length?o(t):t.hasNulls?null:void 0},hlc:function(t,o,e){if(t=i.high(t),o=i.low(o),e=i.close(e),r(t)||r(o)||r(e))return[t,o,e]},low:function(t){return t.length?e(t):t.hasNulls?null:void 0},ohlc:function(t,o,e,a){if(t=i.open(t),o=i.high(o),e=i.low(e),a=i.close(a),r(t)||r(o)||r(e)||r(a))return[t,o,e,a]},open:function(t){return t.length?t[0]:t.hasNulls?null:void 0},range:function(t,o){return t=i.low(t),o=i.high(o),r(t)||r(o)?[t,o]:null===t&&null===o?null:void 0},sum:p};return n(i,t),t}),o(t,"Extensions/DataGrouping/DataGroupingDefaults.js",[],function(){return{common:{groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %e %b, %H:%M:%S.%L","%A, %e %b, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %e %b, %H:%M:%S","%A, %e %b, %H:%M:%S","-%H:%M:%S"],minute:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],hour:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],day:["%A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],week:["Week from %A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},seriesSpecific:{line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]]}}),o(t,"Extensions/DataGrouping/DataGroupingAxisComposition.js",[t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Core/Utilities.js"]],function(r,o){const{addEvent:e,extend:a,merge:i,pick:s}=o,n=[];let p;function u(o){const e=this,t=e.series;t.forEach(function(t){t.groupPixelWidth=void 0}),t.forEach(function(t){t.groupPixelWidth=e.getGroupPixelWidth&&e.getGroupPixelWidth(),t.groupPixelWidth&&(t.hasProcessed=!0),t.applyGrouping(!!o.hasExtremesChanged)})}function l(){var t=this.series;let o=t.length,e=0,a=!1,i,n;for(;o--;)(n=t[o].options.dataGrouping)&&(e=Math.max(e,s(n.groupPixelWidth,r.common.groupPixelWidth)),i=(t[o].processedXData||t[o].data).length,(t[o].groupPixelWidth||i>this.chart.plotSizeX/e||i&&n.forced)&&(a=!0));return a?e:0}function d(){this.series.forEach(function(t){t.hasProcessed=!1})}function h(o,t){let e;if(t=s(t,!0),o=o||{forced:!1,units:null},this instanceof p)for(e=this.series.length;e--;)this.series[e].update({dataGrouping:o},!1);else this.chart.options.series.forEach(function(t){t.dataGrouping="boolean"==typeof o?o:i(o,t.dataGrouping)});this.ordinal&&(this.ordinal.slope=void 0),t&&this.chart.redraw()}return{compose:function(t){p=t,o.pushUnique(n,t)&&(e(t,"afterSetScale",d),e(t,"postProcessData",u),a(t.prototype,{applyGrouping:u,getGroupPixelWidth:l,setDataGrouping:h}))}}}),o(t,"Extensions/DataGrouping/DataGroupingSeriesComposition.js",[t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Core/Axis/DateTimeAxis.js"],t["Core/Defaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(P,T,Y,s,t,e){const{prototype:w}=t["series"],{addEvent:a,defined:N,error:O,extend:i,isNumber:R,merge:j,pick:U}=e,o=w.generatePoints,n=[];function r(n){const r=this,s=r.chart,t=r.options,p=t.dataGrouping,o=!1!==r.allowDG&&p&&U(p.enabled,s.options.isStock),u=r.visible||!s.options.chart.ignoreHiddenSeries,e=this.currentDataGrouping;let l,d,a=!1;o&&!r.requireSorting&&(r.requireSorting=a=!0);var h=!1==(n=n,!((h=r).isCartesian&&!h.isDirty&&!h.xAxis.isDirty&&!h.yAxis.isDirty&&!n))||!o;if(a&&(r.requireSorting=!1),!h){r.destroyGroupedData();const M=p.groupAll?r.xData:r.processedXData,A=p.groupAll?r.yData:r.processedYData,v=s.plotSizeX,S=r.xAxis,b=S.options.ordinal,E=r.groupPixelWidth;let a,i;if(E&&M&&M.length&&v){i=!0,r.isDirty=!0,r.points=null;const P=S.getExtremes(),j=P.min,C=P.max,W=b&&S.ordinal&&S.ordinal.getGroupIntervalFactor(j,C,r)||1,k=E*(C-j)/v*W,H=S.getTimeTicks(Y.Additions.prototype.normalizeTimeTickInterval(k,p.units||T.units),Math.min(j,M[0]),Math.max(C,M[M.length-1]),S.options.startOfWeek,M,r.closestPointRange),F=w.groupData.apply(r,[M,A,H,p.approximation]);let o=F.groupedXData,t=F.groupedYData,e=0;p&&p.smoothed&&o.length&&(p.firstAnchor="firstPoint",p.anchor="middle",p.lastAnchor="lastPoint",O(32,!1,s,{"dataGrouping.smoothed":"use dataGrouping.anchor"}));{n=r;var g=o;h=C;var c=n.options.dataGrouping,f=n.currentDataGrouping&&n.currentDataGrouping.gapSize;let t;if(c&&n.xData&&f&&n.groupMap){var m=g.length-1,x=c.anchor,D=U(c.firstAnchor,x),c=U(c.lastAnchor,x);if(x&&"start"!==x){var G=f*{middle:.5,end:1}[x];for(t=g.length-1;t--&&0<t;)g[t]+=G}if(D&&"start"!==D&&n.xData[0]>=g[0]){var x=n.groupMap[0].start,y=n.groupMap[0].length;let t;R(x)&&R(y)&&(t=x+(y-1)),g[0]={middle:g[0]+.5*f,end:g[0]+f,firstPoint:n.xData[0],lastPoint:t&&n.xData[t]}[D]}c&&"start"!==c&&f&&g[m]>=h-f&&(x=n.groupMap[n.groupMap.length-1].start,g[m]={middle:g[m]+.5*f,end:g[m]+f,firstPoint:x&&n.xData[x],lastPoint:n.xData[n.xData.length-1]}[c])}}for(a=1;a<H.length;a++)H.info.segmentStarts&&-1!==H.info.segmentStarts.indexOf(a)||(e=Math.max(H[a]-H[a-1],e));(l=H.info).gapSize=e,r.closestPointRange=H.info.totalRange,r.groupMap=F.groupMap,u&&(y=S,D=o,N(D[0])&&R(y.min)&&R(y.dataMin)&&D[0]<y.min&&((!N(y.options.min)&&y.min<=y.dataMin||y.min===y.dataMin)&&(y.min=Math.min(D[0],y.min)),y.dataMin=Math.min(D[0],y.dataMin)),N(D[D.length-1])&&R(y.max)&&R(y.dataMax)&&D[D.length-1]>y.max&&((!N(y.options.max)&&R(y.dataMax)&&y.max>=y.dataMax||y.max===y.dataMax)&&(y.max=Math.max(D[D.length-1],y.max)),y.dataMax=Math.max(D[D.length-1],y.dataMax))),p.groupAll&&(r.allGroupedData=t,d=r.cropData(o,t,S.min,S.max,1),o=d.xData,t=d.yData,r.cropStart=d.start),r.processedXData=o,r.processedYData=t}else r.groupMap=null;r.hasGroupedData=i,r.currentDataGrouping=l,r.preventGraphAnimation=(e&&e.totalRange)!==(l&&l.totalRange)}}function p(){this.groupedData&&(this.groupedData.forEach(function(t,o){t&&(this.groupedData[o]=t.destroy?t.destroy():null)},this),this.groupedData.length=0)}function u(){o.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null}function l(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")?"sum":"average"}function d(o,e,a,t){const i=this,n=i.data,r=i.options&&i.options.data,s=[],p=[],u=[],l=o.length,d=!!e,h=[],g=i.pointArrayMap,c=g&&g.length,f=["x"].concat(g||["y"]),m=this.options.dataGrouping&&this.options.dataGrouping.groupAll;let x,D,G,y=0,M=0;const A="function"==typeof t?t:t&&P[t]?P[t]:P[i.getDGApproximation&&i.getDGApproximation()||"average"];if(c){let t=g.length;for(;t--;)h.push([])}else h.push([]);var v=c||1;for(let t=0;t<=l;t++)if(!(o[t]<a[0])){for(;void 0!==a[y+1]&&o[t]>=a[y+1]||t===l;){x=a[y],i.dataGroupInfo={start:m?M:i.cropStart+M,length:h[0].length},G=A.apply(i,h),i.pointClass&&!N(i.dataGroupInfo.options)&&(i.dataGroupInfo.options=j(i.pointClass.prototype.optionsToObject.call({series:i},i.options.data[i.cropStart+M])),f.forEach(function(t){delete i.dataGroupInfo.options[t]})),void 0!==G&&(s.push(x),p.push(G),u.push(i.dataGroupInfo)),M=t;for(let t=0;t<v;t++)h[t].length=0,h[t].hasNulls=!1;if(y+=1,t===l)break}if(t===l)break;if(g){var S,b=i.options.dataGrouping&&i.options.dataGrouping.groupAll?t:i.cropStart+t,E=n&&n[b]||i.pointClass.prototype.applyOptions.apply({series:i},[r[b]]);for(let t=0;t<c;t++)S=E[g[t]],R(S)?h[t].push(S):null===S&&(h[t].hasNulls=!0)}else D=d?e[t]:null,R(D)?h[0].push(D):null===D&&(h[0].hasNulls=!0)}return{groupedXData:s,groupedYData:p,groupMap:u}}function h(t){const o=t.options,e=this.type,a=this.chart.options.plotOptions,i=this.useCommonDataGrouping&&T.common,n=T.seriesSpecific;let r=s.defaultOptions.plotOptions[e].dataGrouping;a&&(n[e]||i)&&(t=this.chart.rangeSelector,r=r||j(T.common,n[e]),o.dataGrouping=j(i,r,a.series&&a.series.dataGrouping,a[e].dataGrouping,this.userOptions.dataGrouping,!o.isInternal&&t&&R(t.selected)&&t.buttonOptions[t.selected].dataGrouping))}return{compose:function(t){var o=t.prototype.pointClass;e.pushUnique(n,o)&&a(o,"update",function(){if(this.dataGroup)return O(24,!1,this.series.chart),!1}),e.pushUnique(n,t)&&(a(t,"afterSetOptions",h),a(t,"destroy",p),i(t.prototype,{applyGrouping:r,destroyGroupedData:p,generatePoints:u,getDGApproximation:l,groupData:d}))},groupData:d}}),o(t,"Extensions/DataGrouping/DataGrouping.js",[t["Extensions/DataGrouping/DataGroupingAxisComposition.js"],t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Extensions/DataGrouping/DataGroupingSeriesComposition.js"],t["Core/FormatUtilities.js"],t["Core/Utilities.js"]],function(a,m,i,t,n){const x=t["format"],{addEvent:r,extend:D,isNumber:G}=n,s=[];function p(t){const o=this.chart,e=o.time,a=t.labelConfig,i=a.series,n=i.options,r=i.tooltipOptions,s=n.dataGrouping,p=i.xAxis;let u=r.xDateFormat,l,d,h,g,c,f=r[t.isFooter?"footerFormat":"headerFormat"];p&&"datetime"===p.options.type&&s&&G(a.key)&&(d=i.currentDataGrouping,h=s.dateTimeLabelFormats||m.common.dateTimeLabelFormats,d?(g=h[d.unitName],1===d.count?u=g[0]:(u=g[1],l=g[2])):!u&&h&&p.dateTime&&(u=p.dateTime.getXDateFormat(a.x,r.dateTimeLabelFormats)),c=e.dateFormat(u,a.key),l&&(c+=e.dateFormat(l,a.key+d.totalRange-1)),i.chart.styledMode&&(f=this.styledModeFormat(f)),t.text=x(f,{point:D(a.point,{key:c}),series:i},o),t.preventDefault())}return{compose:function(t,o,e){a.compose(t),i.compose(o),e&&n.pushUnique(s,e)&&r(e,"headerFormatter",p)},groupData:i.groupData}}),o(t,"masters/modules/datagrouping.src.js",[t["Core/Globals.js"],t["Extensions/DataGrouping/ApproximationDefaults.js"],t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Extensions/DataGrouping/DataGrouping.js"]],function(t,o,e,a){const i=t;i.dataGrouping={approximationDefaults:o,approximations:e},a.compose(i.Axis,i.Series,i.Tooltip)})});