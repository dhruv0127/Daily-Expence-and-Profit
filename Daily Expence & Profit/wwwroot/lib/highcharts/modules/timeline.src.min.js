!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/timeline",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function e(t,e,i,s){t.hasOwnProperty(e)||(t[e]=s.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t,"Series/Timeline/TimelinePoint.js",[t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(i,t,e){const{series:s,seriesTypes:{pie:{prototype:{pointClass:n}}}}=t,{defined:p,isNumber:d,merge:c,objectEach:h,pick:o}=e;class a extends s.prototype.pointClass{constructor(){super(...arguments),this.options=void 0,this.series=void 0}alignConnector(){let t=this,e=t.series,i=t.connector,s=t.dataLabel,n=t.dataLabel.options=c(e.options.dataLabels,t.options.dataLabels),o=t.series.chart,a=i.getBBox(),r={x:a.x+s.translateX,y:a.y+s.translateY},l;o.inverted?r.y-=s.options.connectorWidth/2:r.x+=s.options.connectorWidth/2,l=o.isInsidePlot(r.x,r.y),i[l?"animate":"attr"]({d:t.getConnectorPath()}),i.addClass("highcharts-color-"+t.colorIndex),e.chart.styledMode||i.attr({stroke:n.connectorColor||t.color,"stroke-width":n.connectorWidth,opacity:s[p(s.newOpacity)?"newOpacity":"opacity"]})}drawConnector(){const t=this,e=t.series;t.connector||(t.connector=e.chart.renderer.path(t.getConnectorPath()).attr({zIndex:-1}).add(t.dataLabel)),t.series.chart.isInsidePlot(t.dataLabel.x,t.dataLabel.y)&&t.alignConnector()}getConnectorPath(){let t=this,e=t.series.chart,i=t.series.xAxis.len,s=e.inverted,n=s?"x2":"y2",o=t.dataLabel,a=o.targetPosition,r={x1:t.plotX,y1:t.plotY,x2:t.plotX,y2:(d(a.y)?a:o).y},l=(o.alignAttr||o)[n[0]]<t.series.yAxis.len/2;return s&&(r={x1:t.plotY,y1:i-t.plotX,x2:a.x||o.x,y2:i-t.plotX}),l&&(r[n]+=o[s?"width":"height"]),h(r,function(t,e){r[e]-=(o.alignAttr||o)[e[0]]}),e.renderer.crispLine([["M",r.x1,r.y1],["L",r.x2,r.y2]],o.options.connectorWidth)}init(){const t=super.init.apply(this,arguments);return t.name=o(t.name,"Event"),t.y=1,t}isValid(){return null!==this.options.y}setState(){const t=super.setState;this.isNull||t.apply(this,arguments)}setVisible(t,e){const i=this.series;e=o(e,i.options.ignoreHiddenPoint),n.prototype.setVisible.call(this,t,!1),i.processData(),e&&i.chart.redraw()}applyOptions(t,e){return t=i.prototype.optionsToObject.call(this,t),this.userDLOptions=c(this.userDLOptions,t.dataLabels),super.applyOptions(t,e)}}return a}),e(t,"Series/Timeline/TimelineSeriesDefaults.js",[],function(){return{colorByPoint:!0,stickyTracking:!1,ignoreHiddenPoint:!0,legendType:"point",lineWidth:4,tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.8em"> {point.key}</span><br/>',pointFormat:"{point.description}"},states:{hover:{lineWidthPlus:0}},dataLabels:{enabled:!0,allowOverlap:!0,alternate:!0,backgroundColor:"#ffffff",borderWidth:1,borderColor:"#999999",borderRadius:3,color:"#333333",connectorWidth:1,distance:100,formatter:function(){let t;return t=this.series.chart.styledMode?'<span class="highcharts-color-'+this.point.colorIndex+'">● </span>':'<span style="color:'+this.point.color+'">● </span>',t+='<span class="highcharts-strong">'+(this.key||"")+"</span><br/>"+(this.point.label||"")},style:{textOutline:"none",fontWeight:"normal",fontSize:"0.8em"},shadow:!1,verticalAlign:"middle"},marker:{enabledThreshold:0,symbol:"square",radius:6,lineWidth:2,height:15},showInLegend:!1,colorKey:"x",legendSymbol:"rectangle"}}),e(t,"Series/Timeline/TimelineSeries.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Series/Timeline/TimelinePoint.js"],t["Series/Timeline/TimelineSeriesDefaults.js"],t["Core/Utilities.js"]],function(t,i,e,s,n){var{column:o,line:a}=t["seriesTypes"];const{addEvent:r,arrayMax:l,arrayMin:p,defined:d,extend:c,merge:h,pick:u}=n;class y extends a{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0,this.userOptions=void 0,this.visibilityMap=void 0}alignDataLabel(t,e,i,s){let n=this,o=n.chart.inverted,a=n.visibilityMap.filter(function(t){return t}),r=n.visiblePointsCount,l=a.indexOf(t),p=!l||l===r-1,d=n.options.dataLabels,c=t.userDLOptions||{},h=d.alternate?p?1.5:2:1,u,y=Math.floor(n.xAxis.len/r),f=e.padding,b,g;t.visible&&(u=Math.abs(c.x||t.options.dataLabels.x),g=o?{width:(b=2*(u-f)-t.itemHeight/2)+"px",textOverflow:e.width/b*e.height/2>y*h?"ellipsis":"none"}:{width:(c.width||d.width||y*h-2*f)+"px"},e.css(g),n.chart.styledMode||e.shadow(d.shadow)),super.alignDataLabel.apply(n,arguments)}bindAxes(){const e=this;super.bindAxes.call(e),["xAxis","yAxis"].forEach(function(t){"xAxis"!==t||e[t].userOptions.type||(e[t].categories=e[t].hasNames=!0)})}distributeDL(){const e=this,i=e.options.dataLabels;let s=1;if(i){const n=i.distance||0;e.points.forEach(t=>{t.options.dataLabels=h({[e.chart.inverted?"x":"y"]:i.alternate&&s%2?-n:n},t.userDLOptions),s++})}}generatePoints(){const i=this;super.generatePoints.apply(i),i.points.forEach(function(t,e){t.applyOptions({x:i.xData[e]},i.xData[e])})}getVisibilityMap(){return(this.data.length?this:this.userOptions).data.map(function(t){return!(!t||!1===t.visible||t.isNull)&&t})}getXExtremes(t){const i=this,e=t.filter(function(t,e){return i.points[e].isValid()&&i.points[e].visible});return{min:p(e),max:l(e)}}init(){const t=this;super.init.apply(t,arguments),t.eventsToUnbind.push(r(t,"afterTranslate",function(){let e,i=Number.MAX_VALUE;t.points.forEach(function(t){t.isInside=t.isInside&&t.visible,t.visible&&!t.isNull&&(d(e)&&(i=Math.min(i,Math.abs(t.plotX-e))),e=t.plotX)}),t.closestPointRangePx=i})),t.eventsToUnbind.push(r(t,"drawDataLabels",function(){t.distributeDL()})),t.eventsToUnbind.push(r(t,"afterDrawDataLabels",function(){let e;t.points.forEach(function(t){if(e=t.dataLabel)return e.animate=function(t){return this.targetPosition&&(this.targetPosition=t),i.prototype.animate.apply(this,arguments)},e.targetPosition||(e.targetPosition={}),t.drawConnector()})})),t.eventsToUnbind.push(r(t.chart,"afterHideOverlappingLabel",function(){t.points.forEach(function(t){t.connector&&t.dataLabel&&t.dataLabel.oldOpacity!==t.dataLabel.newOpacity&&t.alignConnector()})}))}markerAttribs(t,e){let i=this,s=i.options.marker,n,o=t.marker||{},a=o.symbol||s.symbol,r,l=u(o.width,s.width,i.closestPointRangePx),p=u(o.height,s.height),d=0,c;return i.xAxis.dateTime?super.markerAttribs.call(this,t,e):(e&&(n=s.states[e]||{},r=o.states&&o.states[e]||{},d=u(r.radius,n.radius,d+(n.radiusPlus||0))),t.hasImage=a&&0===a.indexOf("url"),c={x:Math.floor(t.plotX)-l/2-d/2,y:t.plotY-p/2-d/2,width:l+d,height:p+d},i.chart.inverted?{y:c.x&&c.width&&i.xAxis.len-c.x-c.width,x:c.y,width:c.height,height:c.width}:c)}processData(){let t=this,e=0,i;for(t.visibilityMap=t.getVisibilityMap(),t.visibilityMap.forEach(function(t){t&&e++}),t.visiblePointsCount=e,i=0;i<t.xData.length;i++)t.yData[i]=1;super.processData.call(this,arguments)}}return y.defaultOptions=h(a.defaultOptions,s),c(y.prototype,{drawTracker:o.prototype.drawTracker,pointClass:e,trackerGroups:["markerGroup","dataLabelsGroup"]}),t.registerSeriesType("timeline",y),y}),e(t,"masters/modules/timeline.src.js",[],function(){})});