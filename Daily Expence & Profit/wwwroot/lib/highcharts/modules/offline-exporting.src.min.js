!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/offline-exporting",["highcharts","highcharts/modules/exporting"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function e(t,e,o,n){t.hasOwnProperty(e)||(t[e]=n.apply(null,o),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t,"Extensions/DownloadURL.js",[t["Core/Globals.js"]],function(t){const l=t["isSafari"],s=t.win,c=s.document,i=s.URL||s.webkitURL||s,d=t.dataURLtoBlob=function(t){t=t.replace(/filename=.*;/,"").match(/data:([^;]*)(;base64)?,([0-9A-Za-z+/]+)/);if(t&&3<t.length&&s.atob&&s.ArrayBuffer&&s.Uint8Array&&s.Blob&&i.createObjectURL){const e=s.atob(t[3]),o=new s.ArrayBuffer(e.length),n=new s.Uint8Array(o);for(let t=0;t<n.length;++t)n[t]=e.charCodeAt(t);t=new s.Blob([n],{type:t[1]});return i.createObjectURL(t)}};t=t.downloadURL=function(e,t){const o=s.navigator,n=c.createElement("a");if("string"==typeof e||e instanceof String||!o.msSaveOrOpenBlob){e=""+e;var i=/Edge\/\d+/.test(o.userAgent),r=l&&"string"==typeof e&&0===e.indexOf("data:application/pdf");if((r||i||2e6<e.length)&&!(e=d(e)||""))throw new Error("Failed to convert to blob");if(void 0!==n.download)n.href=e,n.download=t,c.body.appendChild(n),n.click(),c.body.removeChild(n);else try{var a=s.open(e,"chart");if(null==a)throw new Error("Failed to open window")}catch(t){s.location.href=e}}else o.msSaveOrOpenBlob(e,t)};return{dataURLtoBlob:d,downloadURL:t}}),e(t,"Extensions/OfflineExporting/OfflineExportingDefaults.js",[],function(){return{libURL:"https://code.highcharts.com/11.0.1/lib/",menuItemDefinitions:{downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChartLocal()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChartLocal({type:"image/jpeg"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChartLocal({type:"image/svg+xml"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChartLocal({type:"application/pdf"})}}}}}),e(t,"Extensions/OfflineExporting/OfflineExporting.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Chart/Chart.js"],t["Core/Defaults.js"],t["Extensions/DownloadURL.js"],t["Extensions/Exporting/Exporting.js"],t["Core/Globals.js"],t["Core/HttpUtilities.js"],t["Extensions/OfflineExporting/OfflineExportingDefaults.js"],t["Core/Utilities.js"]],function(i,t,e,o,r,a,n,l,s){const m=e["defaultOptions"],y=o["downloadURL"],{win:x,doc:v}=a,w=n["ajax"],{addEvent:u,error:c,extend:d,fireEvent:f,merge:g}=s,h=(i.allowedAttributes.push("data-z-index","fill-opacity","rx","ry","stroke-dasharray","stroke-linejoin","text-anchor","transform","version","viewBox","visibility","xmlns","xmlns:xlink"),i.allowedTags.push("desc","clippath","g"),[]);var p,b;function E(t,e){const o=this,n=g(o.options.exporting,t),i=function(t){!1===n.fallbackToExportServer?n.error?n.error(n,t):c(28,!0):o.exportChart(n)};a.isMS&&o.styledMode&&!r.inlineAllowlist.length&&r.inlineAllowlist.push(/^blockSize/,/^border/,/^caretColor/,/^color/,/^columnRule/,/^columnRuleColor/,/^cssFloat/,/^cursor/,/^fill$/,/^fillOpacity/,/^font/,/^inlineSize/,/^length/,/^lineHeight/,/^opacity/,/^outline/,/^parentRule/,/^rx$/,/^ry$/,/^stroke/,/^textAlign/,/^textAnchor/,/^textDecoration/,/^transform/,/^vectorEffect/,/^visibility/,/^x$/,/^y$/),a.isMS&&("application/pdf"===n.type||o.container.getElementsByTagName("image").length&&"image/svg+xml"!==n.type)||"application/pdf"===n.type&&[].some.call(o.container.getElementsByTagName("image"),function(t){const e=t.getAttribute("href");return""!==e&&"string"==typeof e&&0!==e.indexOf("data:")})?i(new Error("Image type not supported for this chart/browser.")):o.getSVGForLocalExport(n,e||{},i,function(t){-1<t.indexOf("<foreignObject")&&"image/svg+xml"!==n.type&&(a.isMS||"application/pdf"===n.type)?i(new Error("Image type not supported for charts with embedded HTML")):b.downloadSVGLocal(t,d({filename:o.getFilename()},n),i,()=>f(o,"exportChartLocalSuccess"))})}function S(t,e){const o=v.getElementsByTagName("head")[0],n=v.createElement("script");n.type="text/javascript",n.src=t,n.onload=e,n.onerror=function(){c("Error loading script "+t)},o.appendChild(n)}function C(e,t,o,n){const i=this,r=t=>i.sanitizeSVG(t,d),a=()=>{g&&p===h&&n(r(c.innerHTML))},l=(t,e,o)=>{++p,o.imageElement.setAttributeNS("http://www.w3.org/1999/xlink","href",t),a()};let s,c,d,f,g,h=0,p=0;i.unbindGetSVG=u(i,"getSVG",t=>{d=t.chartCopy.options,c=t.chartCopy.container.cloneNode(!0),g=c&&c.getElementsByTagName("image")||[],h=g.length}),i.getSVGForExport(e,t);try{if(!g||!g.length)return void n(r(c.innerHTML));for(let t=0;t<g.length;t++)s=g[t],(f=s.getAttributeNS("http://www.w3.org/1999/xlink","href"))?b.imageToDataUrl(f,"image/png",{imageElement:s},e.scale,l,o,o,o):(p++,s.parentNode.removeChild(s),t--,a())}catch(t){o(t)}i.unbindGetSVG()}function L(n,i,r,a,l,t,s,e,c){let d=new x.Image,f;const o=()=>{setTimeout(function(){const t=v.createElement("canvas"),e=t.getContext&&t.getContext("2d");var o;try{if(e){t.height=d.height*a,t.width=d.width*a,e.drawImage(d,0,0,t.width,t.height);try{o=t.toDataURL(i),l(o,i,r,a)}catch(t){f(n,i,r,a)}}else s(n,i,r,a)}finally{c&&c(n,i,r,a)}},b.loadEventDeferDelay)},g=()=>{e(n,i,r,a),c&&c(n,i,r,a)};f=()=>{d=new x.Image,f=t,d.crossOrigin="Anonymous",d.onload=o,d.onerror=g,d.src=n},d.onload=o,d.onerror=g,d.src=n}function j(t){const e=x.navigator.userAgent;var o=-1<e.indexOf("WebKit")&&e.indexOf("Chrome")<0;try{if(!o&&-1===t.indexOf("<foreignObject"))return b.domurl.createObjectURL(new x.Blob([t],{type:"image/svg+xml;charset-utf-16"}))}catch(t){}return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(t)}function U(t,e,o){const n=Number(t.getAttribute("width"))+2*e,i=Number(t.getAttribute("height"))+2*e,r=new x.jspdf.jsPDF(n<i?"p":"l","pt",[n,i]);[].forEach.call(t.querySelectorAll('*[visibility="hidden"]'),function(t){t.parentNode.removeChild(t)});var a=t.querySelectorAll("linearGradient");for(let e=0;e<a.length;e++){const l=a[e],s=l.querySelectorAll("stop");let t=0;for(;t<s.length&&"0"===s[t].getAttribute("offset")&&"0"===s[t+1].getAttribute("offset");)s[t].remove(),t++}[].forEach.call(t.querySelectorAll("tspan"),t=>{"â€‹"===t.textContent&&(t.textContent=" ",t.setAttribute("dx",-5))}),r.svg(t,{x:0,y:0,width:n,height:i,removeInvalid:!0}).then(()=>o(r.output("datauristring")))}return(b=p=p||{}).CanVGRenderer={},b.domurl=x.URL||x.webkitURL||x,b.loadEventDeferDelay=a.isMS?150:0,b.compose=function(t){if(s.pushUnique(h,t)){const e=t.prototype;e.getSVGForLocalExport=C,e.exportChartLocal=E,g(!0,m.exporting,l)}return t},b.downloadSVGLocal=function(c,t,d,f){const g=v.createElement("div"),r=t.type||"image/png",h=(t.filename||"chart")+"."+("image/svg+xml"===r?"svg":r.split("/")[1]),a=t.scale||1;let e,o,l,s=t.libURL||m.exporting.libURL,p=!0,u=t.pdfFont;s="/"!==s.slice(-1)?s+"/":s;const n=()=>{i.setElementHTML(g,c);const t=g.getElementsByTagName("text");let e;[].forEach.call(t,function(i){["fontFamily","fontSize"].forEach(t=>{{var o=i,n=t;let e=o;for(;e&&e!==g;){if(e.style[n]){let t=e.style[n];"fontSize"===n&&/em$/.test(t)&&(t=Math.round(16*parseFloat(t))+"px"),o.style[n]=t;break}e=e.parentNode}return}}),i.style.fontFamily=u&&u.normal?"HighchartsFont":String(i.style.fontFamily&&i.style.fontFamily.split(" ").splice(-1)),e=i.getElementsByTagName("title"),[].forEach.call(e,function(t){i.removeChild(t)})});const o=g.querySelector("svg");if(o){var n=o;var r=()=>{U(o,0,t=>{try{y(t,h),f&&f()}catch(t){d(t)}})};const a=(t,e)=>{x.jspdf.jsPDF.API.events.push(["initialized",function(){this.addFileToVFS(t,e),this.addFont(t,"HighchartsFont",t),this.getFontList().HighchartsFont||this.setFont("HighchartsFont")}])},l=(u&&!/[^\u0000-\u007F\u200B]+/.test(n.textContent||"")&&(u=void 0),["normal","italic","bold","bolditalic"]);let i;const s=()=>{const n=l.shift();if(!n)return r();var t=u&&u[n];t?w({url:t,responseType:"blob",success:(t,e)=>{const o=new FileReader;o.onloadend=function(){var t;"string"==typeof this.result&&(t=this.result.split(",")[1],a(n,t),"normal"===n&&(i=t)),s()},o.readAsDataURL(e.response)},error:s}):(i&&a(n,i),s())};s()}};if("image/svg+xml"===r)try{e=void 0!==x.MSBlobBuilder?((o=new x.MSBlobBuilder).append(c),o.getBlob("image/svg+xml")):j(c),y(e,h),f&&f()}catch(t){d(t)}else"application/pdf"===r?x.jspdf&&x.jspdf.jsPDF?n():(p=!0,S(s+"jspdf.js",function(){S(s+"svg2pdf.js",n)})):(e=j(c),l=function(){try{b.domurl.revokeObjectURL(e)}catch(t){}},L(e,r,{},a,function(t){try{y(t,h),f&&f()}catch(t){d(t)}},function(){function t(){const t=x.canvg.Canvg.fromString(o,c);t.start();try{y(x.navigator.msSaveOrOpenBlob?e.msToBlob():e.toDataURL(r),h),f&&f()}catch(t){d(t)}finally{l()}}const e=v.createElement("canvas"),o=e.getContext("2d"),n=c.match(/^<svg[^>]*width\s*=\s*\"?(\d+)\"?[^>]*>/)[1]*a,i=c.match(/^<svg[^>]*height\s*=\s*\"?(\d+)\"?[^>]*>/)[1]*a;e.width=n,e.height=i,x.canvg?t():(p=!0,S(s+"canvg.js",function(){t()}))},d,d,function(){p&&l()}))},b.getScript=S,b.imageToDataUrl=L,b.svgToDataUrl=j,b.svgToPdf=U,p}),e(t,"masters/modules/offline-exporting.src.js",[t["Core/Globals.js"],t["Extensions/OfflineExporting/OfflineExporting.js"]],function(t,e){const o=t;o.downloadSVGLocal=e.downloadSVGLocal,e.compose(o.Chart)})});