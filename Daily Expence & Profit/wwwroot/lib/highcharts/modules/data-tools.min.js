"use strict";var $jscomp=$jscomp||{},$jscomp$lookupPolyfilledValue=($jscomp.scope={},$jscomp.arrayIteratorImpl=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}},$jscomp.arrayIterator=function(e){return{next:$jscomp.arrayIteratorImpl(e)}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.ISOLATE_POLYFILLS=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,o){return e==Array.prototype||e==Object.prototype||(e[t]=o.value),e},$jscomp.getGlobal=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var t=0;t<e.length;++t){var o=e[t];if(o&&o.Math==Math)return o}throw Error("Cannot find global object")},$jscomp.global=$jscomp.getGlobal(this),$jscomp.SYMBOL_PREFIX="jscomp_symbol_",$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){},$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)},$jscomp.SymbolClass=function(e,t){this.$jscomp$symbol$id_=e,$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:t})},$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_},$jscomp.Symbol=function(){var o=0;return function e(t){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(t||"")+"_"+o++,t)}}(),$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var e=(e=$jscomp.global.Symbol.iterator)||($jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[e]&&$jscomp.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}}),$jscomp.initSymbolIterator=function(){}},$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();$jscomp.global.Symbol.asyncIterator||($jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}},$jscomp.iteratorPrototype=function(e){return $jscomp.initSymbolIterator(),(e={next:e})[$jscomp.global.Symbol.iterator]=function(){return this},e},$jscomp.iteratorFromArray=function(t,o){$jscomp.initSymbolIterator(),t instanceof String&&(t+="");var s=0,i={next:function(){var e;return s<t.length?(e=s++,{value:o(e,t[e]),done:!1}):(i.next=function(){return{done:!0,value:void 0}},i.next())}};return i[Symbol.iterator]=function(){return i},i},$jscomp.polyfills={},$jscomp.propertyToPolyfillSymbol={},$jscomp.POLYFILL_PREFIX="$jscp$",$jscomp.IS_SYMBOL_NATIVE="function"==typeof Symbol&&"symbol"==typeof Symbol("x"),function(e,t){var o=$jscomp.propertyToPolyfillSymbol[t];return null!=o&&void 0!==(o=e[o])?o:e[t]});$jscomp.polyfill=function(e,t,o,s){t&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(e,t,o,s):$jscomp.polyfillUnisolated(e,t,o,s))},$jscomp.polyfillUnisolated=function(e,t,o,s){for(o=$jscomp.global,e=e.split("."),s=0;s<e.length-1;s++){var i=e[s];i in o||(o[i]={}),o=o[i]}(t=t(s=o[e=e[e.length-1]]))!=s&&null!=t&&$jscomp.defineProperty(o,e,{configurable:!0,writable:!0,value:t})},$jscomp.polyfillIsolated=function(e,t,o,s){var i=e.split(".");e=1===i.length,s=i[0],s=!e&&s in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var r=0;r<i.length-1;r++){var n=i[r];n in s||(s[n]={}),s=s[n]}i=i[i.length-1],null!=(t=t(o=$jscomp.IS_SYMBOL_NATIVE&&"es6"===o?s[i]:null))&&(e?$jscomp.defineProperty($jscomp.polyfills,i,{configurable:!0,writable:!0,value:t}):t!==o&&($jscomp.propertyToPolyfillSymbol[i]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(i):$jscomp.POLYFILL_PREFIX+i,i=$jscomp.propertyToPolyfillSymbol[i],$jscomp.defineProperty(s,i,{configurable:!0,writable:!0,value:t})))},$jscomp.polyfill("Array.prototype.values",function(e){return e||function(){return $jscomp.iteratorFromArray(this,function(e,t){return t})}},"es8","es3"),function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/modules/data-tools",["highcharts"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){function t(e,t,o,s){e.hasOwnProperty(t)||(e[t]=s.apply(null,o),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:e[t]}})))}t(e=e?e._modules:{},"Data/DataTable.js",[e["Core/Utilities.js"]],function(e){const{addEvent:o,fireEvent:t,uniqueKey:l}=e;class m{static isNull(o){if(o===m.NULL)return!0;if(o instanceof Array){if(!o.length)return!1;for(let e=0,t=o.length;e<t;++e)if(null!==o[e])return!1}else{var s=Object.keys(o);if(!s.length)return!1;for(let e=0,t=s.length;e<t;++e)if(null!==o[s[e]])return!1}return!0}constructor(s={}){this.aliasMap={},this.autoId=!s.id,this.columns={},this.id=s.id||l(),(this.modified=this).rowCount=0,this.versionTag=l();var i=s.columns||{},r=Object.keys(i);const n=this.columns;let a=0;for(let e=0,t=r.length,o,s;e<t;++e)o=i[s=r[e]].slice(),n[s]=o,a=Math.max(a,o.length);for(let e=0,t=r.length;e<t;++e)n[r[e]].length=a;this.rowCount=a,s=s.aliasMap||{},i=Object.keys(s),r=this.aliasMap;for(let e=0,t=i.length,o;e<t;++e)r[o=i[e]]=s[o]}clone(e,t){var o={};return this.emit({type:"cloneTable",detail:t}),e||(o.aliasMap=this.aliasMap,o.columns=this.columns),this.autoId||(o.id=this.id),o=new m(o),e||(o.versionTag=this.versionTag),this.emit({type:"afterCloneTable",detail:t,tableClone:o}),o}deleteColumnAlias(e){const t=this.aliasMap[e],o=this.modifier;return t&&(delete this.aliasMap[e],o&&o.modifyColumns(this,{[t]:Array(this.rowCount)},0)),t}deleteColumns(i,e){const r=this.columns,n={},a={},t=this.modifier,l=this.rowCount;if((i=i||Object.keys(r)).length){this.emit({type:"deleteColumns",columnNames:i,detail:e});for(let e=0,t=i.length,o,s;e<t;++e)s=i[e],(o=r[s])&&(n[s]=o,a[s]=Array(l)),delete r[s];return Object.keys(r).length||(this.rowCount=0),t&&t.modifyColumns(this,a,0,e),this.emit({type:"afterDeleteColumns",columns:n,columnNames:i,detail:e}),n}}deleteRows(i,r=1,n){const a=[],l=[],e=this.modifier;if(this.emit({type:"deleteRows",detail:n,rowCount:r,rowIndex:i||0}),void 0===i&&(i=0,r=this.rowCount),0<r&&i<this.rowCount){const n=this.columns,m=Object.keys(n);for(let o=0,e=m.length,t,s;o<e;++o){s=(t=n[m[o]]).splice(i,r),o||(this.rowCount=t.length);for(let e=0,t=s.length;e<t;++e)a[e]=a[e]||[],a[e][o]=s[e];l.push(Array(e))}}return e&&e.modifyRows(this,l,i||0,n),this.emit({type:"afterDeleteRows",detail:n,rowCount:r,rowIndex:i||0,rows:a}),a}emit(e){switch(e.type){case"afterDeleteColumns":case"afterDeleteRows":case"afterSetCell":case"afterSetColumns":case"afterSetRows":this.versionTag=l()}t(this,e.type,e)}getCell(e,t){if(e=this.aliasMap[e]||e,e=this.columns[e])return e[t]}getCellAsBoolean(e,t){return e=this.aliasMap[e]||e,!(!(e=this.columns[e])||!e[t])}getCellAsNumber(e,t,o){switch(e=this.aliasMap[e]||e,typeof(t=(e=this.columns[e])&&e[t])){case"boolean":return t?1:0;case"number":return isNaN(t)&&!o?null:t}return t=parseFloat(""+t),isNaN(t)&&!o?null:t}getCellAsString(e,t){return e=this.aliasMap[e]||e,""+((e=this.columns[e])&&e[t])}getColumn(e,t){return this.getColumns([e],t)[e]}getColumnAliases(){return Object.keys(this.aliasMap)}getColumnAsNumbers(e,t){var o=this.columns;const s=o[e=this.aliasMap[e]||e];if(o=[],s){var i=s.length;if(t)for(t=0;t<i;++t)o.push(this.getCellAsNumber(e,t,!0));else{for(let e=0,t;e<i;++e){if("number"==typeof(t=s[e]))return s.slice();if(null!=t)break}for(t=0;t<i;++t)o.push(this.getCellAsNumber(e,t))}}return o}getColumnNames(){return Object.keys(this.columns)}getColumns(i,r){const n=this.aliasMap,a=this.columns,l={};for(let e=0,t=(i=i||Object.keys(a)).length,o,s;e<t;++e)s=i[e],(o=a[n[s]||s])&&(l[s]=r?o:o.slice());return l}getModifier(){return this.modifier}getRow(e,t){return this.getRows(e,1,t)[0]}getRowCount(){return this.rowCount}getRowIndexBy(e,t,o){if(e=this.aliasMap[e]||e,(e=this.columns[e])&&-1!==(t=e.indexOf(t,o)))return t}getRowObject(e,t){return this.getRowObjects(e,1,t)[0]}getRowObjects(r=0,n=this.rowCount-r,a){const l=this.aliasMap,m=this.columns,u=Array(n);a=a||Object.keys(m);for(let e=r,t=0,o=Math.min(this.rowCount,r+n),s,i;e<o;++e,++t){i=u[t]={};for(const r of a)s=m[l[r]||r],i[r]=s?s[e]:void 0}return u}getRows(r=0,n=this.rowCount-r,a){const l=this.aliasMap,m=this.columns,u=Array(n);a=a||Object.keys(m);for(let e=r,t=0,o=Math.min(this.rowCount,r+n),s,i;e<o;++e,++t){i=u[t]=[];for(const r of a)s=m[l[r]||r],i.push(s?s[e]:void 0)}return u}getVersionTag(){return this.versionTag}hasColumns(s){var i=this.aliasMap,r=this.columns;for(let e=0,t=s.length,o;e<t;++e)if(!r[o=s[e]]&&!i[o])return!1;return!0}hasRowWith(e,t){return e=this.aliasMap[e]||e,!!(e=this.columns[e])&&-1!==e.indexOf(t)}on(e,t){return o(this,e,t)}renameColumn(e,t){const o=this.columns;if(o[e]){if(e!==t){const s=this.aliasMap;s[t]&&delete s[t],o[t]=o[e],delete o[e]}return!0}return!1}setCell(e,t,o,s){const i=this.columns,r=this.modifier;e=this.aliasMap[e]||e;let n=i[e];n&&n[t]===o||(this.emit({type:"setCell",cellValue:o,columnName:e,detail:s,rowIndex:t}),n=n||(i[e]=Array(this.rowCount)),t>=this.rowCount&&(this.rowCount=t+1),n[t]=o,r&&r.modifyCell(this,e,t,o),this.emit({type:"afterSetCell",cellValue:o,columnName:e,detail:s,rowIndex:t}))}setColumn(e,t=[],o=0,s){this.setColumns({[e]:t},o,s)}setColumnAlias(e,t){const o=this.aliasMap;return!o[e]&&(o[e]=t,!0)}setColumns(i,r,e){const n=this.columns,t=this.modifier;var a=void 0===r,l=Object.keys(i);this.emit({type:"setColumns",columns:i,columnNames:l,detail:e,rowIndex:r});for(let e=0,t=l.length,o,s;e<t;++e)if(s=l[e],o=i[s],s=this.aliasMap[s]||s,a)n[s]=o.slice(),this.rowCount=o.length;else{const i=n[s]||(n[s]=Array(this.rowCount));for(let e=r||0,t=o.length;e<t;++e)i[e]=o[e];this.rowCount=Math.max(this.rowCount,i.length)}for(let e=0,t=(a=Object.keys(n)).length;e<t;++e)n[a[e]].length=this.rowCount;t&&t.modifyColumns(this,i,r||0),this.emit({type:"afterSetColumns",columns:i,columnNames:l,detail:e,rowIndex:r})}setModifier(t,o){const s=this;return s.emit({type:"setModifier",detail:o,modifier:t,modified:s.modified}),(((s.modified=s).modifier=t)?t.modify(s):Promise.resolve(s)).then(e=>(e.emit({type:"afterSetModifier",detail:o,modifier:t,modified:e.modified}),e)).catch(e=>{throw s.emit({type:"setModifierError",error:e,modifier:t,modified:s.modified}),e})}setRow(e,t,o){this.setRows([e],t,o)}setRows(r,t=this.rowCount,e){var n=this.aliasMap;const a=this.columns,o=Object.keys(a),s=this.modifier,l=r.length;this.emit({type:"setRows",detail:e,rowCount:l,rowIndex:t,rows:r});for(let e=0,s=t,i;e<l;++e,++s)if((i=r[e])===m.NULL)for(let e=0,t=o.length;e<t;++e)a[o[e]][s]=null;else if(i instanceof Array)for(let e=0,t=o.length;e<t;++e)a[o[e]][s]=i[e];else{const r=Object.keys(i);for(let e=0,t=r.length,o;e<t;++e)o=n[o=r[e]]||o,a[o]||(a[o]=Array(s+1)),a[o][s]=i[o]}if((n=t+l)>this.rowCount){this.rowCount=n;for(let e=0,t=o.length;e<t;++e)a[o[e]].length=n}s&&s.modifyRows(this,r,t),this.emit({type:"afterSetRows",detail:e,rowCount:l,rowIndex:t,rows:r})}}return m.NULL={},m}),t(e,"Data/Connectors/DataConnector.js",[e["Data/DataTable.js"],e["Core/Utilities.js"]],function(t,e){const{addEvent:o,fireEvent:s,merge:i,pick:r}=e;class n{constructor(e={}){this.table=new t(e.dataTable),this.metadata=e.metadata||{columns:{}}}describeColumn(e,t){const o=this.metadata.columns;o[e]=i(o[e]||{},t)}describeColumns(e){const t=Object.keys(e);for(var o;"string"==typeof(o=t.pop());)this.describeColumn(o,e[o])}emit(e){s(this,e.type,e)}getColumnOrder(e){const o=this.metadata.columns;if((e=Object.keys(o||{})).length)return e.sort((e,t)=>r(o[e].index,0)-r(o[t].index,0))}getSortedColumns(e){return this.table.getColumns(this.getColumnOrder(e))}load(){return s(this,"afterLoad",{table:this.table}),Promise.resolve(this)}on(e,t){return o(this,e,t)}save(){return s(this,"saveError",{table:this.table}),Promise.reject(Error("Not implemented"))}setColumnOrder(o){for(let e=0,t=o.length;e<t;++e)this.describeColumn(o[e],{index:e})}startPolling(e=1e3){const t=this;window.clearTimeout(t.polling),t.polling=window.setTimeout(()=>t.load().catch(e=>t.emit({type:"loadError",error:e,table:t.table})).then(()=>{t.polling&&t.startPolling(e)}),e)}stopPolling(){window.clearTimeout(this.polling),delete this.polling}whatIs(e){return this.metadata.columns[e]}}var a;return(a=n=n||{}).types={},a.registerType=function(e,t){return!!e&&!a.types[e]&&!!(a.types[e]=t)},n}),t(e,"Data/Converters/DataConverter.js",[e["Data/DataTable.js"],e["Core/Utilities.js"]],function(e,t){const{addEvent:o,fireEvent:s,isNumber:n,merge:i}=t;class r{constructor(e){this.dateFormats={"YYYY/mm/dd":{regex:/^([0-9]{4})([\-\.\/])([0-9]{1,2})\2([0-9]{1,2})$/,parser:function(e){return e?Date.UTC(+e[1],e[3]-1,+e[4]):NaN}},"dd/mm/YYYY":{regex:/^([0-9]{1,2})([\-\.\/])([0-9]{1,2})\2([0-9]{4})$/,parser:function(e){return e?Date.UTC(+e[4],e[3]-1,+e[1]):NaN},alternative:"mm/dd/YYYY"},"mm/dd/YYYY":{regex:/^([0-9]{1,2})([\-\.\/])([0-9]{1,2})\2([0-9]{4})$/,parser:function(e){return e?Date.UTC(+e[4],e[1]-1,+e[3]):NaN}},"dd/mm/YY":{regex:/^([0-9]{1,2})([\-\.\/])([0-9]{1,2})\2([0-9]{2})$/,parser:function(e){if(!e)return NaN;let t=+e[4];return t=t>(new Date).getFullYear()-2e3?t+1900:t+2e3,Date.UTC(t,e[3]-1,+e[1])},alternative:"mm/dd/YY"},"mm/dd/YY":{regex:/^([0-9]{1,2})([\-\.\/])([0-9]{1,2})\2([0-9]{2})$/,parser:function(e){return e?Date.UTC(+e[4]+2e3,e[1]-1,+e[3]):NaN}}};var t=(e=i(r.defaultOptions,e)).decimalPoint;"."!==t&&","!==t||(this.decimalRegExp=new RegExp("^(-?[0-9]+)"+("."===t?"\\.":",")+"([0-9]+)$")),this.options=e}asBoolean(e){return"boolean"==typeof e?e:"string"==typeof e?""!==e&&"0"!==e&&"false"!==e:!!this.asNumber(e)}asDate(e){if("string"==typeof e)e=this.parseDate(e);else if("number"!=typeof e){if(e instanceof Date)return e;e=this.parseDate(this.asString(e))}return new Date(e)}asGuessedType(e){return{number:this.asNumber,Date:this.asDate,string:this.asString}[this.guessType(e)].call(this,e)}asNumber(e){if("number"==typeof e)return e;if("boolean"==typeof e)return e?1:0;if("string"!=typeof e)return e instanceof Date?e.getDate():e?e.getRowCount():NaN;{const t=this.decimalRegExp;if(-1<e.indexOf(" ")&&(e=e.replace(/\s+/g,"")),t){if(!t.test(e))return NaN;e=e.replace(t,"$1.$2")}return parseFloat(e)}}asString(e){return""+e}deduceDateFormat(e,t,o){const s=[],i=[];let r="YYYY/mm/dd",n,a=[],l=0,m=!1,u,c;for((!t||t>e.length)&&(t=e.length);l<t;l++)if(void 0!==e[l]&&e[l]&&e[l].length)for(n=e[l].trim().replace(/[-\.\/]/g," ").split(" "),a=["","",""],c=0;c<n.length;c++)c<a.length&&(u=parseInt(n[c],10))&&(i[c]=!i[c]||i[c]<u?u:i[c],void 0!==s[c]?s[c]!==u&&(s[c]=!1):s[c]=u,31<u?a[c]=u<100?"YY":"YYYY":12<u&&u<=31?(a[c]="dd",m=!0):a[c].length||(a[c]="mm"));if(m){for(c=0;c<s.length;c++)!1!==s[c]?12<i[c]&&"YY"!==a[c]&&"YYYY"!==a[c]&&(a[c]="YY"):12<i[c]&&"mm"===a[c]&&(a[c]="dd");3===a.length&&"dd"===a[1]&&"dd"===a[2]&&(a[2]="YY"),r=a.join("/")}return o&&(this.options.dateFormat=r),r}emit(e){s(this,e.type,e)}export(e,t){throw this.emit({type:"exportError",columns:[],headers:[]}),Error("Not implemented")}getTable(){throw Error("Not implemented")}guessType(e){var t,o,s="string";return"string"==typeof e&&(o=this.trim(""+e),t=this.decimalRegExp,o=this.trim(o,!0),+(o=t?t.test(o)?o.replace(t,"$1.$2"):"":o)===(t=parseFloat(o))?e=t:(s=this.parseDate(e),s=n(s)?"Date":"string")),s="number"==typeof e?31536e6<e?"Date":"number":s}on(e,t){return o(this,e,t)}parse(e){throw this.emit({type:"parseError",columns:[],headers:[]}),Error("Not implemented")}parseDate(e,t){var o=this.options,s=t||o.dateFormat;t=NaN;let i,r;if(o.parseDate)t=o.parseDate(e);else{if(s)(o=this.dateFormats[s])||(o=this.dateFormats["YYYY/mm/dd"]),(r=e.match(o.regex))&&(t=o.parser(r));else for(i in this.dateFormats)if(o=this.dateFormats[i],r=e.match(o.regex)){t=o.parser(r);break}r||("object"==typeof(r=Date.parse(e))&&null!==r&&r.getTime?t=r.getTime()-6e4*r.getTimezoneOffset():n(r)&&(t=r-6e4*new Date(r).getTimezoneOffset(),-1===e.indexOf("2001")&&2001===new Date(t).getFullYear()&&(t=NaN)))}return t}trim(e,t){return"string"==typeof e&&(e=e.replace(/^\s+|\s+$/g,""),t&&/^[0-9\s]+$/.test(e)&&(e=e.replace(/\s/g,""))),e}}return r.defaultOptions={dateFormat:"",alternativeFormat:"",startColumn:0,endColumn:Number.MAX_VALUE,startRow:0,endRow:Number.MAX_VALUE,firstRowAsNames:!0,switchRowsAndColumns:!1},(r||(r={})).getTableFromColumns=function(o=[],s=[]){const i=new e;for(let e=0,t=Math.max(s.length,o.length);e<t;++e)i.setColumn(s[e]||""+e,o[e]);return i},r}),t(e,"Data/DataCursor.js",[],function(){class a{constructor(e={}){this.emittingRegister=[],this.listenerMap={},this.stateMap=e}addListener(e,t,o){return((e=this.listenerMap[e]=this.listenerMap[e]||{})[t]=e[t]||[]).push(o),this}buildEmittingTag(e){return("position"===e.cursor.type?[e.table.id,e.cursor.column,e.cursor.row,e.cursor.state,e.cursor.type]:[e.table.id,e.cursor.columns,e.cursor.firstRow,e.cursor.lastRow,e.cursor.state,e.cursor.type]).join("\0")}emitCursor(o,t,s,i){var r=o.id,n=t.state;if(n=this.listenerMap[r]&&this.listenerMap[r][n]){let e=(r=this.stateMap[r]=this.stateMap[r]||{})[t.state];if(i&&(e=e||(r[t.state]=[]),-1===a.getIndex(t,e)&&e.push(t)),o={cursor:t,cursors:e||[],table:o},s&&(o.event=s),s=this.emittingRegister,t=this.buildEmittingTag(o),0<=s.indexOf(t))return this;try{this.emittingRegister.push(t);for(let e=0,t=n.length;e<t;++e)n[e].call(this,o)}finally{0<=(n=this.emittingRegister.indexOf(t))&&this.emittingRegister.splice(n,1)}}return this}remitCursor(e,t){return!(e=this.stateMap[e]&&this.stateMap[e][t.state])||0<=(t=a.getIndex(t,e))&&e.splice(t,1),this}removeListener(e,t,o){return(e=this.listenerMap[e]&&this.listenerMap[e][t])&&(o=e.indexOf(o))&&e.splice(o,1),this}}function i(e,t){var o;return"range"===e.type?e:(t={type:"range",firstRow:null!=(o=null!=(o=e.row)?o:t&&t.firstRow)?o:0,lastRow:null!=(o=null!=(o=e.row)?o:t&&t.lastRow)?o:Number.MAX_VALUE,state:e.state},void 0!==e.column&&(t.columns=[e.column]),t)}var e;return(e=a=a||{}).getIndex=function(s,i){if("position"===s.type){for(let e,t=0,o=i.length;t<o;++t)if("position"===(e=i[t]).type&&e.state===s.state&&e.column===s.column&&e.row===s.row)return t}else{var r=JSON.stringify(s.columns);for(let e,t=0,o=i.length;t<o;++t)if("range"===(e=i[t]).type&&e.state===s.state&&e.firstRow===s.firstRow&&e.lastRow===s.lastRow&&JSON.stringify(e.columns)===r)return t}return-1},e.isEqual=function(e,t){return"position"===e.type&&"position"===t.type?e.column===t.column&&e.row===t.row&&e.state===t.state:"range"===e.type&&"range"===t.type&&(e.firstRow===t.firstRow&&e.lastRow===t.lastRow&&JSON.stringify(e.columns)===JSON.stringify(t.columns))},e.isInRange=function(e,t){"position"===t.type&&(t=i(t));const o=(e="position"===e.type?i(e,t):e).columns,s=t.columns;return e.firstRow>=t.firstRow&&e.lastRow<=t.lastRow&&(!o||!s||o.every(e=>0<=s.indexOf(e)))},e.toPositions=function(t){if("position"===t.type)return[t];const s=t.columns||[],i=[],r=t.state;for(let o=t.firstRow,e=t.lastRow;o<e;++o)if(s.length)for(let e=0,t=s.length;e<t;++e)i.push({type:"position",column:s[e],row:o,state:r});else i.push({type:"position",row:o,state:r});return i},e.toRange=i,a}),t(e,"Data/Modifiers/DataModifier.js",[e["Core/Utilities.js"]],function(e){const{addEvent:o,fireEvent:t,merge:l}=e;class s{benchmark(e,t){const o=[],s=this,i=()=>{s.modifyTable(e),s.emit({type:"afterBenchmarkIteration"})},r=l({iterations:1},t)["iterations"];s.on("afterBenchmarkIteration",()=>{o.length===r?s.emit({type:"afterBenchmark",results:o}):i()});var n,a=0;return s.on("modify",()=>{a=window.performance.now()}),s.on("afterModify",()=>{n=window.performance.now(),o.push(n-a)}),i(),o}emit(e){t(this,e.type,e)}modify(o,s){const i=this;return new Promise((e,t)=>{o.modified===o&&(o.modified=o.clone(!1,s));try{e(i.modifyTable(o,s))}catch(e){i.emit({type:"error",detail:s,table:o}),t(e)}})}modifyCell(e,t,o,s,i){return this.modifyTable(e)}modifyColumns(e,t,o,s){return this.modifyTable(e)}modifyRows(e,t,o,s){return this.modifyTable(e)}on(e,t){return o(this,e,t)}}var i;return(i=s=s||{}).types={},i.registerType=function(e,t){return!!e&&!i.types[e]&&!!(i.types[e]=t)},s}),t(e,"Data/DataPoolDefaults.js",[],function(){return{connectors:[]}}),t(e,"Data/DataPool.js",[e["Data/DataPoolDefaults.js"],e["Data/Connectors/DataConnector.js"]],function(t,i){return class{constructor(e=t){e.connectors=e.connectors||[],this.options=e,this.connectors={}}getConnector(e){var t=this.connectors[e];if(t)return Promise.resolve(t);if(t=this.getConnectorOptions(e))return this.loadConnector(t);throw Error(`Connector not found. (${e})`)}getConnectorOptions(o){var s=this.options.connectors;for(let e=0,t=s.length;e<t;++e)if(s[e].name===o)return s[e]}getConnectorTable(e){return this.getConnector(e).then(e=>e.table)}loadConnector(s){return new Promise((e,t)=>{var o=i.types[s.type];if(!o)throw Error(`Connector type not found. (${s.type})`);o=new o(s.options),(this.connectors[s.name]=o).load().then(e).catch(t)})}setConnectorOptions(o){const s=this.options.connectors;for(let e=0,t=s.length;e<t;++e)if(s[e].name===o.name)return void s.splice(e,1,o);s.push(o)}}}),t(e,"Data/Converters/CSVConverter.js",[e["Data/Converters/DataConverter.js"],e["Core/Utilities.js"]],function(e,t){const h=t["merge"];class o extends e{constructor(e){super(e=h(o.defaultOptions,e)),this.columns=[],this.headers=[],this.dataTypes=[],this.options=e}export(t,o=this.options){const{useLocalDecimalPoint:s,lineDelimiter:i}=o;var r=!1!==this.options.firstRowAsNames;let{decimalPoint:n,itemDelimiter:a}=o;n=n||(","!==a&&s?1.1.toLocaleString()[1]:"."),a=a||(","===n?";":","),o=t.getSortedColumns(o.usePresentationOrder);const l=Object.keys(o),m=[],u=l.length,c=[];for(r&&m.push(l.map(e=>`"${e}"`).join(a)),r=0;r<u;r++){var h=l[r];const s=o[h],i=s.length;let e;for((h=t.whatIs(h))&&(e=h.dataType),h=0;h<i;h++){var d=s[h];if(c[h]||(c[h]=[]),"string"===e?d='"'+d+'"':"number"==typeof d?d=String(d).replace(".",n):"string"==typeof d&&(d=`"${d}"`),c[h][r]=d,r===u-1){for(d=r;2<c[h].length&&void 0===c[h][d];)c[h].pop(),d--;m.push(c[h].join(a))}}}return m.join(i)}parse(s,e){var i=this.dataTypes;const{beforeParse:t,lineDelimiter:o,firstRowAsNames:r,itemDelimiter:n}=s=h(this.options,s);let{csv:a,startRow:l,endRow:m}=s;if(this.columns=[],this.emit({type:"parse",columns:this.columns,detail:e,headers:this.headers}),a=a&&t?t(a):a){if(s=a.replace(/\r\n|\r/g,"\n").split(o||"\n"),(!l||l<0)&&(l=0),(!m||m>=s.length)&&(m=s.length-1),n||(this.guessedItemDelimiter=this.guessDelimiter(s)),r){for(var u=s[0].split(n||this.guessedItemDelimiter||","),c=0;c<u.length;c++)u[c]=u[c].replace(/^["']|["']$/g,"");this.headers=u,l++}for(c=0,u=l;u<=m;u++)"#"===s[u][0]?c++:this.parseCSVRow(s[u],u-l-c);i.length&&i[0].length&&"date"===i[0][1]&&!this.options.dateFormat&&this.deduceDateFormat(this.columns[0],null,!0);for(let o=0,e=this.columns.length;o<e;++o)for(let e=0,t=(i=this.columns[o]).length;e<t;++e)i[e]&&"string"==typeof i[e]&&((s=this.asGuessedType(i[e]))instanceof Date&&(s=s.getTime()),this.columns[o][e]=s)}this.emit({type:"afterParse",columns:this.columns,detail:e,headers:this.headers})}parseCSVRow(t,e){const o=this,s=o.columns||[],i=o.dataTypes,{startColumn:r,endColumn:n}=o.options,a=o.options.itemDelimiter||o.guessedItemDelimiter;let l=o.options["decimalPoint"],m=(l&&l!==a||(l=o.guessedDecimalPoint||"."),0),u="",c="",h="",d="",f=0,p=0;const g=e=>{u=t[e],c=t[e-1],h=t[e+1]},y=e=>{i.length<p+1&&i.push([e]),i[p][i[p].length-1]!==e&&i[p].push(e)},b=()=>{if(r>f||f>n)++f,d="";else{if("string"==typeof d?!isNaN(parseFloat(d))&&isFinite(d)?(d=parseFloat(d),y("number")):isNaN(Date.parse(d))?y("string"):(d=d.replace(/\//g,"-"),y("date")):y("number"),s.length<p+1&&s.push([]),"number"!=typeof d&&"number"!==o.guessType(d)&&l){const e=d;d=d.replace(l,"."),"number"!==o.guessType(d)&&(d=e)}s[p][e]=d,d="",++p,++f}};if(t.trim().length&&"#"!==t.trim()[0]){for(;m<t.length;m++){if(g(m),"#"===u&&!/^#[0-F]{3,3}|[0-F]{6,6}/i.test(t.substring(m)))return void b();if('"'===u)for(g(++m);m<t.length&&('"'!==u||'"'===c||'"'===h);)('"'!==u||'"'===u&&'"'!==c)&&(d+=u),g(++m);else u===a?b():d+=u}b()}}guessDelimiter(n){let a=0,l=0;const m={",":0,";":0,"\t":0},t=n.length;for(let e=0;e<t;e++){let t=!1,o,s,i,r="";if(13<e)break;var u=n[e];for(let e=0;e<u.length&&(o=u[e],s=u[e+1],i=u[e-1],"#"!==o);e++){if('"'===o)if(t){if('"'!==i&&'"'!==s){for(;" "===s&&e<u.length;)s=u[++e];void 0!==m[s]&&m[s]++,t=!1}}else t=!0;else void 0!==m[o]?(r=r.trim(),isNaN(Date.parse(r))&&!isNaN(Number(r))&&isFinite(Number(r))||m[o]++,r=""):r+=o;","===o&&l++,"."===o&&a++}}return n=m[";"]>m[","]?";":",",this.guessedDecimalPoint=a>l?".":",",n}getTable(){return e.getTableFromColumns(this.columns,this.headers)}}return o.defaultOptions=Object.assign(Object.assign({},e.defaultOptions),{lineDelimiter:"\n"}),o}),t(e,"Data/Connectors/CSVConnector.js",[e["Data/Converters/CSVConverter.js"],e["Data/Connectors/DataConnector.js"],e["Core/Utilities.js"]],function(t,e,o){const s=o["merge"];class i extends e{constructor(e){super(e=s(i.defaultOptions,e)),this.converter=new t(e),(this.options=e).enablePolling&&this.startPolling(1e3*Math.max(e.dataRefreshRate||0,1))}load(t){const o=this,e=o.converter,s=o.table,{csv:i,csvURL:r}=o.options;if(i)s.deleteRows(),o.emit({type:"load",csv:i,detail:t,table:s}),e.parse({csv:i}),s.setColumns(e.getTable().getColumns()),o.emit({type:"afterLoad",csv:i,detail:t,table:s});else{if(r)return o.table.deleteColumns(),o.emit({type:"load",detail:t,table:o.table}),fetch(r||"").then(e=>e.text().then(e=>{o.converter.parse({csv:e}),o.table.setColumns(o.converter.getTable().getColumns()),o.emit({type:"afterLoad",csv:e,detail:t,table:o.table})})).catch(e=>(o.emit({type:"loadError",detail:t,error:e,table:o.table}),Promise.reject(e))).then(()=>o);o.emit({type:"loadError",detail:t,error:"Unable to load: no CSV string or URL was provided",table:s})}return Promise.resolve(o)}}return i.defaultOptions={csv:"",csvURL:"",enablePolling:!1,dataRefreshRate:1},e.registerType("CSV",i),i}),t(e,"Data/Converters/GoogleSheetsConverter.js",[e["Data/Converters/DataConverter.js"],e["Core/Utilities.js"]],function(e,t){const{merge:o,uniqueKey:r}=t;class s extends e{constructor(e){super(e=o(s.defaultOptions,e)),this.columns=[],this.header=[],this.options=e}parse(t,e){var s=((t=o(this.options,t)).json&&t.json.values||[]).map(e=>e.slice());if(0===s.length)return!1;this.header=[],this.columns=[],this.emit({type:"parse",columns:this.columns,detail:e,headers:this.header});let i;for(let o=0,e=(this.columns=s).length;o<e;o++){i=s[o],this.header[o]=t.firstRowAsNames?""+i.shift():r();for(let t=0,e=i.length;t<e;++t)if(i[t]&&"string"==typeof i[t]){let e=this.asGuessedType(i[t]);e instanceof Date&&(e=e.getTime()),this.columns[o][t]=e}}this.emit({type:"afterParse",columns:this.columns,detail:e,headers:this.header})}getTable(){return e.getTableFromColumns(this.columns,this.header)}}return s.defaultOptions=Object.assign({},e.defaultOptions),s}),t(e,"Data/Connectors/GoogleSheetsConnector.js",[e["Data/Connectors/DataConnector.js"],e["Data/Converters/GoogleSheetsConverter.js"],e["Core/Utilities.js"]],function(e,t,o){const{merge:s,pick:r}=o;class l extends e{constructor(e){super(e=s(l.defaultOptions,e)),this.converter=new t(e),this.options=e}load(t){const o=this,{dataRefreshRate:s,enablePolling:i,firstRowAsNames:r,googleAPIKey:e,googleSpreadsheetKey:n}=o.options,a=l.buildFetchURL(e,n,o.options);return o.table.deleteColumns(),o.emit({type:"load",detail:t,table:o.table,url:a}),fetch(a).then(e=>e.json().then(e=>{if("object"==typeof e&&e&&"object"==typeof e.error&&e.error&&"number"==typeof e.error.code&&"string"==typeof e.error.message&&"string"==typeof e.error.status)throw Error(e.error.message);o.converter.parse({firstRowAsNames:r,json:e}),o.table.setColumns(o.converter.getTable().getColumns()),o.emit({type:"afterLoad",detail:t,table:o.table,url:a}),i&&setTimeout(()=>o.load(),1e3*Math.max(s||0,1))})).catch(e=>(o.emit({type:"loadError",detail:t,error:e,table:o.table}),Promise.reject(e))).then(()=>o)}}function i(e={}){var{endColumn:e,endRow:t,googleSpreadsheetRange:o,startColumn:s,startRow:i}=e;return o||("ABCDEFGHIJKLMNOPQRSTUVWXYZ"[s||0]||"A")+(Math.max(i||0,0)+1)+":"+("ABCDEFGHIJKLMNOPQRSTUVWXYZ"[r(e,25)]||"Z")+(t?Math.max(t,0):"Z")}return l.defaultOptions={googleAPIKey:"",googleSpreadsheetKey:"",worksheet:1,enablePolling:!1,dataRefreshRate:2,firstRowAsNames:!0},(o=l=l||{}).buildFetchURL=function(e,t,o={}){return`https://sheets.googleapis.com/v4/spreadsheets/${t}/values/`+(o.onlyColumnNames?"A1:Z1":i(o))+"?alt=json"+(o.onlyColumnNames?"":"&dateTimeRenderOption=FORMATTED_STRING&majorDimension=COLUMNS&valueRenderOption=UNFORMATTED_VALUE")+"&prettyPrint=false&key="+e},o.buildQueryRange=i,e.registerType("GoogleSheets",l),l}),t(e,"Data/Converters/HTMLTableConverter.js",[e["Data/Converters/DataConverter.js"],e["Core/Utilities.js"]],function(e,t){const p=t["merge"];class o extends e{constructor(e){super(e=p(o.defaultOptions,e)),this.columns=[],this.headers=[],(this.options=e).tableElement&&(this.tableElement=e.tableElement,this.tableElementID=e.tableElement.id)}export(o,e=this.options){var s=!1!==e.firstRowAsNames,i=e.useMultiLevelHeaders,t=o.getSortedColumns(e.usePresentationOrder),r=Object.keys(t);o=[];const n=r.length,a=[];var l="";if(s)if(l=[],i){for(var m of r)i=(t[m].shift()||"").toString(),l.push(i);l=this.getTableHeaderHTML(r,l,e)}else l=this.getTableHeaderHTML(void 0,r,e);for(m=0;m<n;m++){s=(i=t[r[m]]).length;for(let t=0;t<s;t++){let e=i[t];a[t]||(a[t]=[]),"string"!=typeof e&&"number"!=typeof e&&void 0!==e&&(e=(e||"").toString()),a[t][m]=this.getCellHTMLFromValue(m?"td":"th",null,m?"":'scope="row"',e),m===n-1&&o.push("<tr>"+a[t].join("")+"</tr>")}}return t="","<table>"+(t=e.tableCaption?'<caption class="highcharts-table-caption">'+e.tableCaption+"</caption>":t)+l+"<tbody>"+o.join("")+"</tbody></table>"}getCellHTMLFromValue(e,t,o,s,i){let r=s;return t="text"+(t?" "+t:""),"number"==typeof r?(r=r.toString(),","===i&&(r=r.replace(".",i)),t="number"):s||(r="",t="empty"),"<"+e+(o?" "+o:"")+' class="'+t+'">'+r+"</"+e+">"}getTableHeaderHTML(e=[],t=[],o=this.options){var{useMultiLevelHeaders:s,useRowspanHeaders:i}=o;o.useLocalDecimalPoint&&1.1.toLocaleString(),o="<thead>";let r=0,n=t&&t.length,a=0;if(l=s&&e&&t){e:if(l=e.length,t.length===l){for(;--l;)if(e[l]!==t[l]){l=!1;break e}l=!0}else l=!1;l=!l}if(l){for(o+="<tr>";r<n;++r){var l=e[r],m=e[r+1];l===m?++a:a?(o+=this.getCellHTMLFromValue("th","highcharts-table-topheading",'scope="col" colspan="'+(a+1)+'"',l),a=0):(l===t[r]?i?(m=2,delete t[r]):(m=1,t[r]=""):m=1,o+=this.getCellHTMLFromValue("th","highcharts-table-topheading",'scope="col"'+(1<m?' valign="top" rowspan="'+m+'"':""),l))}o+="</tr>"}if(t){for(o+="<tr>",r=0,n=t.length;r<n;++r)void 0!==t[r]&&(o+=this.getCellHTMLFromValue("th",null,'scope="col"',t[r]));o+="</tr>"}return o+"</thead>"}parse(e,t){const o=[],s=[];var i=p(this.options,e),{endRow:r,startColumn:n,endColumn:a,firstRowAsNames:l}=i;if((e=i.tableElement||this.tableElement)instanceof HTMLElement){this.tableElement=e,this.tableElementID=e.id,this.emit({type:"parse",columns:this.columns,detail:t,headers:this.headers});var m=(e=e.getElementsByTagName("tr")).length,u=0;if(i=i["startRow"],l&&m){for(var c=e[0].children,h=c.length,d=n;d<h&&!(a<d);d++){var f=c[d];"TD"!==f.tagName&&"TH"!==f.tagName||s.push(f.innerHTML)}i++}for(;u<m;){if(i<=u&&u<=r)for(h=(c=e[u].children).length,d=0;d<h;){const t=d-n,e=o[t];if(("TD"===(f=c[d]).tagName||"TH"===f.tagName)&&n<=d&&d<=a)for(o[t]||(o[t]=[]),(f=this.asGuessedType(f.innerHTML))instanceof Date&&(f=f.getTime()),o[t][u-i]=f,f=1;f<=u-i&&void 0===e[u-i-f];)e[u-i-f]=null,f++;d++}u++}this.columns=o,this.headers=s,this.emit({type:"afterParse",columns:o,detail:t,headers:s})}else this.emit({type:"parseError",columns:o,detail:t,headers:s,error:"Not a valid HTML Table"})}getTable(){return e.getTableFromColumns(this.columns,this.headers)}}return o.defaultOptions=Object.assign(Object.assign({},e.defaultOptions),{useRowspanHeaders:!0,useMultiLevelHeaders:!0}),o}),t(e,"Data/Connectors/HTMLTableConnector.js",[e["Data/Connectors/DataConnector.js"],e["Core/Globals.js"],e["Data/Converters/HTMLTableConverter.js"],e["Core/Utilities.js"]],function(e,t,o,s){const i=t["win"],r=s["merge"];class n extends e{constructor(e){super(e=r(n.defaultOptions,e)),this.converter=new o(e),this.options=e}load(e){this.table.deleteColumns(),this.emit({type:"load",detail:e,table:this.table,tableElement:this.tableElement});var t=this.options["table"];return"string"==typeof t?(this.tableID=t,t=i.document.getElementById(t)):this.tableID=t.id,this.tableElement=t||void 0,this.tableElement?(this.converter.parse(r({tableElement:this.tableElement},this.options),e),this.table.setColumns(this.converter.getTable().getColumns()),this.emit({type:"afterLoad",detail:e,table:this.table,tableElement:this.tableElement}),Promise.resolve(this)):(this.emit({type:"loadError",detail:e,error:"HTML table not provided, or element with ID not found",table:this.table}),Promise.reject(Error("HTML table not provided, or element with ID not found")))}}return n.defaultOptions={table:""},e.registerType("HTMLTable",n),n}),t(e,"Data/Modifiers/ChainModifier.js",[e["Data/Modifiers/DataModifier.js"],e["Core/Utilities.js"]],function(r,e){const t=e["merge"];class o extends r{constructor(s,...i){super(),this.chain=i,this.options=t(o.defaultOptions,s);for(let e=0,t=(s=this.options.chain||[]).length,o;e<t;++e)(o=r.types[s[e].modifier])&&i.unshift(new o(s[e]))}add(e,t){this.emit({type:"addModifier",detail:t,modifier:e}),this.chain.push(e),this.emit({type:"addModifier",detail:t,modifier:e})}clear(e){this.emit({type:"clearChain",detail:e}),this.chain.length=0,this.emit({type:"afterClearChain",detail:e})}modify(t,o){var s=this.options.reverse?this.chain.slice().reverse():this.chain.slice();let i=Promise.resolve(t);for(let e=0,t=s.length;e<t;++e){const r=s[e];i=i.then(e=>r.modify(e.modified,o))}return i=(i=i.then(e=>(t.modified=e.modified,t))).catch(e=>{throw this.emit({type:"error",detail:o,table:t}),e})}modifyCell(e,s,i,r,n){const a=this.options.reverse?this.chain.reverse():this.chain;if(a.length){let o=e.clone();for(let e=0,t=a.length;e<t;++e)a[e].modifyCell(o,s,i,r,n),o=o.modified;e.modified=o}return e}modifyColumns(e,s,i,r){const n=this.options.reverse?this.chain.reverse():this.chain.slice();if(n.length){let o=e.clone();for(let e=0,t=n.length;e<t;++e)n[e].modifyColumns(o,s,i,r),o=o.modified;e.modified=o}return e}modifyRows(e,s,i,r){const n=this.options.reverse?this.chain.reverse():this.chain.slice();if(n.length){let o=e.clone();for(let e=0,t=n.length;e<t;++e)n[e].modifyRows(o,s,i,r),o=o.modified;e.modified=o}return e}modifyTable(e,s){this.emit({type:"modify",detail:s,table:e});var i=this.options.reverse?this.chain.reverse():this.chain.slice();let r=e.modified;for(let e=0,t=i.length,o;e<t;++e)o=i[e],r=o.modifyTable(r,s).modified;return e.modified=r,this.emit({type:"afterModify",detail:s,table:e}),e}remove(e,t){const o=this.chain;this.emit({type:"removeModifier",detail:t,modifier:e}),o.splice(o.indexOf(e),1),this.emit({type:"afterRemoveModifier",detail:t,modifier:e})}}return o.defaultOptions={modifier:"Chain"},r.registerType("Chain",o),o}),t(e,"Data/Modifiers/InvertModifier.js",[e["Data/Modifiers/DataModifier.js"],e["Core/Utilities.js"]],function(e,t){const o=t["merge"];class s extends e{constructor(e){super(),this.options=o(s.defaultOptions,e)}modifyCell(e,t,o,s,i){const r=e.modified;return void 0===(t=r.getRowIndexBy("columnNames",t))?r.setColumns(this.modifyTable(e.clone()).getColumns(),void 0,i):r.setCell(""+o,t,s,i),e}modifyColumns(e,r,n,a){const l=e.modified,o=l.getColumn("columnNames")||[];let m=e.getColumnNames(),s=e.getRowCount()!==o.length;if(!s)for(let e=0,t=m.length;e<t;++e)if(m[e]!==o[e]){s=!0;break}if(s)return this.modifyTable(e,a);for(let e=0,t=(m=Object.keys(r)).length,s,o,i;e<t;++e){s=r[o=m[e]],i=l.getRowIndexBy("columnNames",o)||l.getRowCount();for(let e=0,t=n,o=s.length;e<o;++e,++t)l.setCell(""+t,i,s[e],a)}return e}modifyRows(e,i,r,n){const a=e.getColumnNames(),l=e.modified,o=l.getColumn("columnNames")||[];let s=e.getRowCount()!==o.length;if(!s)for(let e=0,t=a.length;e<t;++e)if(a[e]!==o[e]){s=!0;break}if(s)return this.modifyTable(e,n);for(let e=0,o=r,t=i.length,s;e<t;++e,++o)if((s=i[e])instanceof Array)l.setColumn(""+o,s);else for(let e=0,t=a.length;e<t;++e)l.setCell(""+o,e,s[a[e]],n);return e}modifyTable(s,i){this.emit({type:"modify",detail:i,table:s});const e=s.modified;if(s.hasColumns(["columnNames"])){var r=((s.deleteColumns(["columnNames"])||{}).columnNames||[]).map(e=>""+e);const i={};for(let e=0,t=s.getRowCount(),o;e<t;++e)(o=s.getRow(e))&&(i[r[e]]=o);e.deleteColumns(),e.setColumns(i)}else{r={};for(let e=0,t=s.getRowCount(),o;e<t;++e)(o=s.getRow(e))&&(r[""+e]=o);r.columnNames=s.getColumnNames(),e.deleteColumns(),e.setColumns(r)}return this.emit({type:"afterModify",detail:i,table:s}),s}}return s.defaultOptions={modifier:"Invert"},e.registerType("Invert",s),s}),t(e,"Data/Modifiers/RangeModifier.js",[e["Data/Modifiers/DataModifier.js"],e["Core/Utilities.js"]],function(e,t){const o=t["merge"];class s extends e{constructor(e){super(),this.options=o(s.defaultOptions,e)}modifyTable(n,a){this.emit({type:"modify",detail:a,table:n});var{ranges:o,strict:l}=this.options;if(o.length){const a=n.getColumns(),m=[],e=n.modified;for(let e=0,t=o.length,i,r;e<t;++e)if(i=o[e],!l||typeof i.minValue==typeof i.maxValue)for(let e=0,t=(r=a[i.column]||[]).length,o,s;e<t;++e){switch(typeof(o=r[e])){default:continue;case"boolean":case"number":case"string":}(!l||typeof o==typeof i.minValue)&&o>=i.minValue&&o<=i.maxValue&&(s=n.getRow(e))&&m.push(s)}e.deleteRows(),e.setRows(m)}return this.emit({type:"afterModify",detail:a,table:n}),n}}return s.defaultOptions={modifier:"Range",strict:!1,ranges:[]},e.registerType("Range",s),s}),t(e,"Data/Modifiers/SortModifier.js",[e["Data/Modifiers/DataModifier.js"],e["Data/DataTable.js"],e["Core/Utilities.js"]],function(e,a,t){const o=t["merge"];class h extends e{static ascending(e,t){return(e||0)<(t||0)?-1:(t||0)<(e||0)?1:0}static descending(e,t){return(t||0)<(e||0)?-1:(e||0)<(t||0)?1:0}constructor(e){super(),this.options=o(h.defaultOptions,e)}modifyCell(e,t,o,s,i){var{orderByColumn:r,orderInColumn:n}=this.options;return t===r&&(n?(e.modified.setCell(t,o,s),e.modified.setColumn(n,this.modifyTable(new a({columns:e.getColumns([r,n])})).modified.getColumn(n))):this.modifyTable(e,i)),e}modifyColumns(e,t,o,s){const{orderByColumn:i,orderInColumn:r}=this.options,n=Object.keys(t);return-1<n.indexOf(i)&&(r&&t[n[0]].length?(e.modified.setColumns(t,o),e.modified.setColumn(r,this.modifyTable(new a({columns:e.getColumns([i,r])})).modified.getColumn(r))):this.modifyTable(e,s)),e}modifyRows(e,t,o,s){var{orderByColumn:i,orderInColumn:r}=this.options;return r&&t.length?(e.modified.setRows(t,o),e.modified.setColumn(r,this.modifyTable(new a({columns:e.getColumns([i,r])})).modified.getColumn(r))):this.modifyTable(e,s),e}modifyTable(e,t){this.emit({type:"modify",detail:t,table:e});var o=e.getColumnNames();const s=e.getRowCount(),i=e.getRows().map((e,t)=>({index:t,row:e})),{direction:r,orderByColumn:n,orderInColumn:a}=this.options,l="asc"===r?h.ascending:h.descending,m=o.indexOf(n);if(o=e.modified,-1!==m&&i.sort((e,t)=>l(e.row[m],t.row[m])),a){for(var u=[],c=0;c<s;++c)u[i[c].index]=c;o.setColumns({[a]:u})}else{for(u=[],c=0;c<s;++c)u.push(i[c].row);o.setRows(u,0)}return this.emit({type:"afterModify",detail:t,table:e}),e}}return h.defaultOptions={modifier:"Sort",direction:"desc",orderByColumn:"y"},e.registerType("Sort",h),h}),t(e,"masters/modules/data-tools.src.js",[e["Core/Globals.js"],e["Data/Connectors/DataConnector.js"],e["Data/Converters/DataConverter.js"],e["Data/DataCursor.js"],e["Data/Modifiers/DataModifier.js"],e["Data/DataPool.js"],e["Data/DataTable.js"]],function(e,t,o,s,i,r,n){e.DataConnector=t,e.DataConverter=o,e.DataCursor=s,e.DataModifier=i,e.DataPool=r,e.DataTable=n})});