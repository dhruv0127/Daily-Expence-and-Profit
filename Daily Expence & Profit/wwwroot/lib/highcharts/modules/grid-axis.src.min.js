!function(i){"object"==typeof module&&module.exports?module.exports=i.default=i:"function"==typeof define&&define.amd?define("highcharts/modules/grid-axis",["highcharts"],function(t){return i(t),i.Highcharts=t,i}):i("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function i(t,i,e,r){t.hasOwnProperty(i)||(t[i]=r.apply(null,e),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:i,module:t[i]}})))}i(t,"Core/Axis/GridAxis.js",[t["Core/Axis/Axis.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(d,l,r){const t=l["dateFormats"],{addEvent:n,defined:o,erase:h,find:c,isArray:s,isNumber:b,merge:g,pick:x,timeUnits:u,wrap:a}=r;var P,i;(i=P=P||{})[i.top=0]="top",i[i.right=1]="right",i[i.bottom=2]="bottom",i[i.left=3]="left";const f=[];function p(t){return r.isObject(t,!0)}function m(n,t){const o={width:0,height:0};return t.forEach(function(t){t=n[t];let i,e=0,r;p(t)&&(i=(r=p(t.label)?t.label:{}).getBBox?r.getBBox().height:0,r.textStr&&!b(r.textPxLength)&&(r.textPxLength=r.getBBox().width),e=b(r.textPxLength)?Math.round(r.textPxLength):0,r.textStr&&(e=Math.round(r.getBBox().width)),o.height=Math.max(i,o.height),o.width=Math.max(e,o.width))}),"treegrid"===this.options.type&&this.treeGrid&&this.treeGrid.mapOfPosToGridNode&&(t=this.treeGrid.mapOfPosToGridNode[-1].height||0,o.width+=this.options.labels.indentation*(t-1)),o}function k(){const t=this["grid"];(t&&t.columns||[]).forEach(function(t){t.getOffset()})}function v(t){var i=this;const e=i.options;if(!0===(e.grid||{}).enabled){const{axisTitle:d,height:h,horiz:c,left:g,offset:u,opposite:f,options:e,top:p,width:m}=i;var r=i.tickSize(),n=d&&d.getBBox().width,o=e.title.x,s=e.title.y,a=x(e.title.margin,c?5:10),l=d?i.chart.renderer.fontMetrics(d).f:0,r=(c?p+h:g)+(c?1:-1)*(f?-1:1)*(r?r[0]/2:0)+(i.side===P.bottom?l:0);t.titlePosition.x=c?g-(n||0)/2-a+o:r+(f?m:0)+u+o,t.titlePosition.y=c?r-(f?h:0)+(f?l:-l)/2+u+s:p-a+s}}function y(){var i=this,{chart:e,options:{grid:r={}},userOptions:n}=i;if(r.enabled){var t=i;const o=t.options;o.labels.align=x(o.labels.align,"center"),t.categories||(o.showLastLabel=!1),t.labelRotation=0,o.labels.rotation=0}if(r.columns){const s=i.grid.columns=[];let t=i.grid.columnIndex=0;for(;++t<r.columns.length;){const a=g(n,r.columns[r.columns.length-t-1],{linkedTo:0,type:"category",scrollbar:{enabled:!1}}),l=(delete a.grid.columns,new d(i.chart,a));l.grid.isColumn=!0,l.grid.columnIndex=t,h(e.axes,l),h(e[i.coll],l),s.push(l)}}}function w(){const e=this,t=e.grid,i=e.options,r=i.grid||{};if(!0===r.enabled){var n=e.min||0,o=e.max||0;if(e.maxLabelDimensions=e.getMaxLabelDimensions(e.ticks,e.tickPositions),e.rightWall&&e.rightWall.destroy(),e.grid&&e.grid.isOuterAxis()&&e.axisLine){var s=i.lineWidth;if(s){const d=e.getLinePath(s),h=d[0],c=d[1],g=(e.tickSize("tick")||[1])[0],u=(g-1)*(e.side===P.top||e.side===P.left?-1:1);"M"===h[0]&&"L"===c[0]&&(e.horiz?(h[2]+=u,c[2]+=u):(h[1]+=u,c[1]+=u)),!e.horiz&&e.chart.marginRight&&(s=[h,["L",e.left,h[2]||0]],a=["L",e.chart.chartWidth-e.chart.marginRight,e.toPixels(o+e.tickmarkOffset)],a=[["M",c[1]||0,e.toPixels(o+e.tickmarkOffset)],a],e.grid.upperBorder||n%1==0||(e.grid.upperBorder=e.grid.renderBorder(s)),e.grid.upperBorder&&(e.grid.upperBorder.attr({stroke:i.lineColor,"stroke-width":i.lineWidth}),e.grid.upperBorder.animate({d:s})),e.grid.lowerBorder||o%1==0||(e.grid.lowerBorder=e.grid.renderBorder(a)),e.grid.lowerBorder&&(e.grid.lowerBorder.attr({stroke:i.lineColor,"stroke-width":i.lineWidth}),e.grid.lowerBorder.animate({d:a}))),e.grid.axisLineExtra?(e.grid.axisLineExtra.attr({stroke:i.lineColor,"stroke-width":i.lineWidth}),e.grid.axisLineExtra.animate({d:d})):e.grid.axisLineExtra=e.grid.renderBorder(d),e.axisLine[e.showAxis?"show":"hide"]()}}if((t&&t.columns||[]).forEach(t=>t.render()),!e.horiz&&e.chart.hasRendered&&(e.scrollbar||e.linkedParent&&e.linkedParent.scrollbar)){var s=e.tickmarkOffset,a=e.tickPositions[e.tickPositions.length-1],l=e.tickPositions[0];let t,i;for(;(t=e.hiddenLabels.pop())&&t.element;)t.show();for(;(i=e.hiddenMarks.pop())&&i.element;)i.show();(t=e.ticks[l].label)&&(s<n-l?e.hiddenLabels.push(t.hide()):t.show()),(t=e.ticks[a].label)&&(s<a-o?e.hiddenLabels.push(t.hide()):t.show());const f=e.ticks[a].mark;f&&a-o<s&&0<a-o&&e.ticks[a].isLast&&e.hiddenMarks.push(f.hide())}}}function L(){var t=this,i=t.tickPositions&&t.tickPositions.info;const e=t.options;var r=e.grid||{},n=t.userOptions.labels||{};r.enabled&&(t.horiz?(t.series.forEach(t=>{t.options.pointRange=0}),i&&e.dateTimeLabelFormats&&e.labels&&!o(n.align)&&(!1===e.dateTimeLabelFormats[i.unitName].range||1<i.count)&&(e.labels.align="left",o(n.x)||(e.labels.x=3))):"treegrid"!==this.options.type&&t.grid&&t.grid.columns&&(this.minPointOffset=this.tickInterval))}function B(t){const i=this.options,e=t.userOptions,r=i&&p(i.grid)?i.grid:{};let d;!0===r.enabled&&(d=g(!0,{className:"highcharts-grid-axis "+(e.className||""),dateTimeLabelFormats:{hour:{list:["%H:%M","%H"]},day:{list:["%A, %e. %B","%a, %e. %b","%E"]},week:{list:["Week %W","W%W"]},month:{list:["%B","%b","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"0.9em"}},margin:0,title:{text:null,reserveSpace:!1,rotation:0},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null]]},e),"xAxis"===this.coll&&(o(e.linkedTo)&&!o(e.tickPixelInterval)&&(d.tickPixelInterval=350),o(e.tickPixelInterval)||!o(e.linkedTo)||o(e.tickPositioner)||o(e.tickInterval)||(d.tickPositioner=function(r,n){var o=this.linkedParent&&this.linkedParent.tickPositions&&this.linkedParent.tickPositions.info;if(o){var s=d.units||[];let i,t=1,e="year";for(let t=0;t<s.length;t++){var a=s[t];if(a&&a[0]===o.unitName){i=t;break}}var l=b(i)&&s[i+1],l=(l?(e=l[0]||"year",l=l[1],t=l&&l[0]||1):"year"===o.unitName&&(t=10*o.count),u[e]);return this.tickInterval=l*t,this.chart.time.getTimeTicks({unitRange:l,count:t,unitName:e},r,n,this.options.startOfWeek)}})),g(!0,this.options,d),this.horiz&&(i.minPadding=x(e.minPadding,0),i.maxPadding=x(e.maxPadding,0)),b(i.grid.borderWidth)&&(i.tickWidth=i.lineWidth=r.borderWidth))}function O(t){var t=t.userOptions,t=t&&t.grid||{},i=t.columns;t.enabled&&i&&g(!0,this.options,i[i.length-1])}function M(){(this.grid.columns||[]).forEach(t=>t.setScale())}function S(t){var i,{horiz:e,maxLabelDimensions:r,options:{grid:n={}}}=this;n.enabled&&r&&(i=2*this.options.labels.distance,e=e?n.cellHeight||i+r.height:i+r.width,s(t.tickSize)?t.tickSize[0]=e:t.tickSize=[e,0])}function C(){this.axes.forEach(t=>{(t.grid&&t.grid.columns||[]).forEach(t=>{t.setAxisSize(),t.setAxisTranslation()})})}function E(i){const t=this["grid"];(t.columns||[]).forEach(t=>t.destroy(i.keepEvents)),t.columns=void 0}function T(t){var i=this;const e=t.userOptions||{};t=e.grid||{};t.enabled&&o(t.borderColor)&&(e.tickColor=e.lineColor=t.borderColor),i.grid||(i.grid=new D(i)),i.hiddenLabels=[],i.hiddenMarks=[]}function W(n){const o=this.label,s=this.axis,a=s.reversed,l=s.chart,t=s.options,i=t.grid||{},d=s.options.labels,h=d.align,c=P[s.side],e=n.tickmarkOffset,r=s.tickPositions,g=this.pos-e,u=b(r[n.index+1])?r[n.index+1]-e:(s.max||0)+e,f=s.tickSize("tick"),p=f?f[0]:0,m=f?f[1]/2:0;if(!0===i.enabled){let t,i,e,r;var x,k;"top"===c?(t=s.top+s.offset,i=t-p):"bottom"===c?(i=l.chartHeight-s.bottom+s.offset,t=i+p):(t=s.top+s.len-(s.translate(a?u:g)||0),i=s.top+s.len-(s.translate(a?g:u)||0)),"right"===c?(e=l.chartWidth-s.right+s.offset,r=e+p):"left"===c?(r=s.left+s.offset,e=r-p):(e=Math.round(s.left+(s.translate(a?u:g)||0))-m,r=Math.min(Math.round(s.left+(s.translate(a?g:u)||0))-m,s.left+s.len)),this.slotWidth=r-e,n.pos.x="left"===h?e:"right"===h?r:e+(r-e)/2,n.pos.y=i+(t-i)/2,o&&(x=l.renderer.fontMetrics(o),k=o.getBBox().height,d.useHTML?n.pos.y+=x.b+-k/2:(k=Math.round(k/x.h),n.pos.y+=(x.b-(x.h-x.f))/2+-((k-1)*x.h)/2)),n.pos.x+=s.horiz&&d.x||0}}function z(i){const{axis:e,value:r}=i;if(e.options.grid&&e.options.grid.enabled){var n=e.tickPositions;const a=(e.linkedParent||e).series[0];var o=r===n[0],n=r===n[n.length-1],s=a&&c(a.options.data,function(t){return t[e.isXAxis?"x":"y"]===r});let t;s&&a.is("gantt")&&(t=g(s),l.seriesTypes.gantt.prototype.pointClass.setGanttPointAliases(t)),i.isFirst=o,i.isLast=n,i.point=t}}function A(){var t=this,i=t.options,e=i.grid||{},r=t.categories;const n=t.tickPositions;var o=n[0],s=n[n.length-1],a=t.linkedParent&&t.linkedParent.min,l=t.linkedParent&&t.linkedParent.max,a=a||t.min,l=l||t.max,d=t.tickInterval,s=l<s&&s-d<l;!0!==e.enabled||r||!t.horiz&&!t.isLinked||(o<a&&a<o+d&&!i.startOnTick&&(n[0]=a),s&&!i.endOnTick&&(n[n.length-1]=l))}function I(t){var{options:{grid:i={}}}=this;return!0===i.enabled&&this.categories?this.tickInterval:t.apply(this,(i=arguments,Array.prototype.slice.call(i,1)))}class D{constructor(t){this.axis=t}isOuterAxis(){const e=this.axis,t=e.chart;var i=e.grid.columnIndex,r=e.linkedParent&&e.linkedParent.grid.columns||e.grid.columns;const n=i?e.linkedParent:e;let o=-1,s=0;return(t[e.coll]||[]).forEach((t,i)=>{t.side!==e.side||t.options.isInternal||(s=i,t===n&&(o=i))}),s===o&&(!b(i)||r.length===i)}renderBorder(t){const i=this.axis,e=i.chart.renderer,r=i.options,n=e.path(t).addClass("highcharts-axis-line").add(i.axisBorder);return e.styledMode||n.attr({stroke:r.lineColor,"stroke-width":r.lineWidth,zIndex:7}),n}}return t.E=function(t){return this.dateFormat("%a",t,!0).charAt(0)},t.W=function(t){const i=this,e=new this.Date(t);["Hours","Milliseconds","Minutes","Seconds"].forEach(function(t){i.set(t,e,0)});t=(this.get("Day",e)+6)%7;const r=new this.Date(e.valueOf()),n=(this.set("Date",r,this.get("Date",e)-t+3),new this.Date(this.get("FullYear",r),0,1));return 4!==this.get("Day",n)&&(this.set("Month",e,0),this.set("Date",e,1+(11-this.get("Day",n))%7)),(1+Math.floor((r.valueOf()-n.valueOf())/6048e5)).toString()},{compose:function(t,i,e){return r.pushUnique(f,t)&&(t.keepProps.push("grid"),t.prototype.getMaxLabelDimensions=m,a(t.prototype,"unsquish",I),n(t,"init",T),n(t,"afterGetOffset",k),n(t,"afterGetTitlePosition",v),n(t,"afterInit",y),n(t,"afterRender",w),n(t,"afterSetAxisTranslation",L),n(t,"afterSetOptions",B),n(t,"afterSetOptions",O),n(t,"afterSetScale",M),n(t,"afterTickSize",S),n(t,"trimTicks",A),n(t,"destroy",E)),r.pushUnique(f,i)&&n(i,"afterSetChartSize",C),r.pushUnique(f,e)&&(n(e,"afterGetLabelPosition",W),n(e,"labelFormat",z)),t}}}),i(t,"masters/modules/grid-axis.src.js",[t["Core/Globals.js"],t["Core/Axis/GridAxis.js"]],function(t,i){i.compose(t.Axis,t.Chart,t.Tick)})});