!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/modules/broken-axis",["highcharts"],function(i){return t(i),t.Highcharts=i,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(i){"use strict";i=i?i._modules:{};function t(i,t,s,e){i.hasOwnProperty(t)||(i[t]=e.apply(null,s),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:i[t]}})))}t(i,"Core/Axis/BrokenAxis.js",[i["Core/Axis/Stacking/StackItem.js"],i["Core/Utilities.js"]],function(c,e){const{addEvent:n,find:s,fireEvent:k,isArray:o,isNumber:p,pick:x}=e;var i;{var t=i=i||{};const A=[];function r(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function a(){var i=this;i.brokenAxis&&i.brokenAxis.hasBreaks&&(i.options.ordinal=!1)}function f(){const i=this,t=i.brokenAxis;if(t&&t.hasBreaks){const s=i.tickPositions,e=i.tickPositions.info,n=[];for(let i=0;i<s.length;i++)t.isInAnyBreak(s[i])||n.push(s[i]);i.tickPositions=n,i.tickPositions.info=e}}function l(){var i=this;i.brokenAxis||(i.brokenAxis=new d(i))}function u(){const{isDirty:i,options:{connectNulls:t},points:s,xAxis:e,yAxis:n}=this;if(i){let i=s.length;for(;i--;){const r=s[i];var o=!(null===r.y&&!1===t)&&(e&&e.brokenAxis&&e.brokenAxis.isInAnyBreak(r.x,!0)||n&&n.brokenAxis&&n.brokenAxis.isInAnyBreak(r.y,!0));r.visible=!o&&!1!==r.options.visible}}}function h(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,x(this.pointArrayMap,["y"]))}function m(s,i){const t=this,e=t.points;let n,o,r,a;if(s&&s.brokenAxis&&s.brokenAxis.hasBreaks){const f=s.brokenAxis;i.forEach(function(i){n=f&&f.breakArray||[],o=s.isXAxis?s.min:x(t.options.threshold,s.min),e.forEach(function(t){a=x(t["stack"+i.toUpperCase()],t[i]),n.forEach(function(i){p(o)&&p(a)&&(r=!1,o<i.from&&a>i.to||o>i.from&&a<i.from?r="pointBreak":(o<i.from&&a>i.from&&a<i.to||o>i.from&&a>i.to&&a<i.from)&&(r="pointInBreak"),r&&k(s,r,{point:t,brk:i}))})})})}}function v(){const i=this.currentDataGrouping,s=i&&i.gapSize,e=this.points.slice(),n=this.yAxis;let o=this.options.gapSize,r=e.length-1,a;if(o&&0<r){"value"!==this.options.gapUnit&&(o*=this.basePointRange),s&&s>o&&s>=this.basePointRange&&(o=s);let i,t;for(;r--;){var f;t&&!1!==t.visible||(t=e[r+1]),i=e[r],!1!==t.visible&&!1!==i.visible&&(t.x-i.x>o&&(f=(i.x+t.x)/2,e.splice(r+1,0,{isNull:!0,x:f}),n.stacking&&this.options.stacking&&((a=n.stacking.stacks[this.stackKey][f]=new c(n,n.options.stackLabels,!1,f,this.stack)).total=0)),t=i)}}return this.getGraphPath(e)}t.compose=function(i,t){if(e.pushUnique(A,i)&&(i.keepProps.push("brokenAxis"),n(i,"init",l),n(i,"afterInit",r),n(i,"afterSetTickPositions",f),n(i,"afterSetOptions",a)),e.pushUnique(A,t)){const s=t.prototype;s.drawBreaks=m,s.gappedPath=v,n(t,"afterGeneratePoints",u),n(t,"afterRender",h)}return i};class d{static isInBreak(i,t){var s=i.repeat||1/0,e=i.from,n=i.to-i.from,e=e<=t?(t-e)%s:s-(e-t)%s;let o;return o=i.inclusive?e<=n:e<n&&0!=e}static lin2Val(i){var t=this.brokenAxis,s=t&&t.breakArray;if(!s||!p(i))return i;let e=i,n,o;for(o=0;o<s.length&&!((n=s[o]).from>=e);o++)(n.to<e||d.isInBreak(n,e))&&(e+=n.len);return e}static val2Lin(i){var t=this.brokenAxis,s=t&&t.breakArray;if(!s||!p(i))return i;let e=i,n,o;for(o=0;o<s.length;o++)if((n=s[o]).to<=i)e-=n.len;else{if(n.from>=i)break;if(d.isInBreak(n,i)){e-=i-n.from;break}}return e}constructor(i){this.hasBreaks=!1,this.axis=i}findBreakAt(t,i){return s(i,function(i){return i.from<t&&t<i.to})}isInAnyBreak(i,t){var s=this.axis,e=s.options.breaks||[];let n=e.length,o,r,a;if(n&&p(i)){for(;n--;)d.isInBreak(e[n],i)&&(o=!0,r=r||x(e[n].showPoints,!s.isXAxis));a=o&&t?o&&!r:o}return a}setBreaks(i,t){const u=this,h=u.axis;var s=o(i)&&!!i.length;h.isDirty=u.hasBreaks!==s,u.hasBreaks=s,h.options.breaks=h.userOptions.breaks=i,h.forceRedraw=!0,h.series.forEach(function(i){i.isDirty=!0}),s||h.val2lin!==d.val2Lin||(delete h.val2lin,delete h.lin2val),s&&(h.userOptions.ordinal=!1,h.lin2val=d.lin2Val,h.val2lin=d.val2Lin,h.setExtremes=function(t,s,i,e,n){if(u.hasBreaks){var o=this.options.breaks||[];let i;for(;i=u.findBreakAt(t,o);)t=i.to;for(;i=u.findBreakAt(s,o);)s=i.from;s<t&&(s=t)}h.constructor.prototype.setExtremes.call(this,t,s,i,e,n)},h.setAxisTranslation=function(){if(h.constructor.prototype.setAxisTranslation.call(this),u.unitLength=void 0,u.hasBreaks){const i=h.options.breaks||[],f=[],c=[],l=x(h.pointRangePadding,0);let t=0,s,e,n=h.userMin||h.min,o=h.userMax||h.max,r,a;i.forEach(function(i){e=i.repeat||1/0,p(n)&&p(o)&&(d.isInBreak(i,n)&&(n+=i.to%e-n%e),d.isInBreak(i,o)&&(o-=o%e-i.from%e))}),i.forEach(function(i){if(r=i.from,e=i.repeat||1/0,p(n)&&p(o)){for(;r-e>n;)r-=e;for(;r<n;)r+=e;for(a=r;a<o;a+=e)f.push({value:a,move:"in"}),f.push({value:a+i.to-i.from,move:"out",size:i.breakSize})}}),f.sort(function(i,t){return i.value===t.value?("in"===i.move?0:1)-("in"===t.move?0:1):i.value-t.value}),s=0,r=n,f.forEach(function(i){1===(s+="in"===i.move?1:-1)&&"in"===i.move&&(r=i.value),0===s&&p(r)&&(c.push({from:r,to:i.value,len:i.value-r-(i.size||0)}),t+=i.value-r-(i.size||0))}),u.breakArray=c,p(n)&&p(o)&&p(h.min)&&(u.unitLength=o-n-t+l,k(h,"afterBreaks"),h.staticScale?h.transA=h.staticScale:u.unitLength&&(h.transA*=(o-h.min+l)/u.unitLength),l&&(h.minPixelPadding=h.transA*(h.minPointOffset||0)),h.min=n,h.max=o)}}),x(t,!0)&&h.chart.redraw()}}t.Additions=d}return i}),t(i,"masters/modules/broken-axis.src.js",[i["Core/Globals.js"],i["Core/Axis/BrokenAxis.js"]],function(i,t){t.compose(i.Axis,i.Series)})});