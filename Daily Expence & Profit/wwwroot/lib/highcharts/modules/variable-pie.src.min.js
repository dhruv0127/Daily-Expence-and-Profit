!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/variable-pie",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function e(t,e,a,i){t.hasOwnProperty(e)||(t[e]=i.apply(null,a),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t,"Series/VariablePie/VariablePieSeries.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var{pie:a}=t["seriesTypes"];const{arrayMax:p,arrayMin:u,clamp:m,extend:i,fireEvent:A,merge:n,pick:D}=e;class s extends a{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0,this.radii=void 0}calculateExtremes(){let t=this,e=t.chart,a=e.plotWidth,i=e.plotHeight,n=t.options,s=2*(n.slicedOffset||0),r,o,l=t.zData,h=Math.min(a,i)-s,d={},c=t.center||t.getCenter();["minPointSize","maxPointSize"].forEach(function(t){var e=n[t],a=/%$/.test(e),e=parseInt(e,10);d[t]=a?h*e/100:2*e}),t.minPxSize=c[3]+d.minPointSize,t.maxPxSize=m(c[2],c[3]+d.minPointSize,d.maxPointSize),l.length&&(r=D(n.zMin,u(l.filter(t.zValEval))),o=D(n.zMax,p(l.filter(t.zValEval))),this.getRadii(r,o,t.minPxSize,t.maxPxSize))}getRadii(t,e,a,i){let n=0,s,r=this.zData,o=r.length,l=[],h=this.options,d="radius"!==h.sizeBy,c=e-t,p,u;for(n;n<o;n++)p=this.zValEval(r[n])?r[n]:t,u=p<=t?a/2:e<=p?i/2:(s=0<c?(p-t)/c:.5,d&&(s=Math.sqrt(s)),Math.ceil(a+s*(i-a))/2),l.push(u);this.radii=l}redraw(){this.center=null,super.redraw.apply(this,arguments)}translate(t){this.generatePoints();let e=this,a=0,i=1e3,n=e.options,s=n.slicedOffset,r=s+(n.borderWidth||0),o,l,h,d,c=n.startAngle||0,p=Math.PI/180*(c-90),u=Math.PI/180*(D(n.endAngle,c+360)-90),m=u-p,f=e.points,M,g,y=n.dataLabels.distance,z=n.ignoreHiddenPoint,P,x=f.length,b,v,S,E;for(e.startAngleRad=p,e.endAngleRad=u,e.calculateExtremes(),t||(e.center=t=e.getCenter()),P=0;P<x;P++)b=f[P],v=e.radii[P],b.labelDistance=D(b.options.dataLabels&&b.options.dataLabels.distance,y),e.maxLabelDistance=Math.max(e.maxLabelDistance||0,b.labelDistance),l=p+a*m,z&&!b.visible||(a+=b.percentage/100),h=p+a*m,b.shapeType="arc",b.shapeArgs={x:t[0],y:t[1],r:v,innerR:t[3]/2,start:Math.round(l*i)/i,end:Math.round(h*i)/i},(d=(h+l)/2)>1.5*Math.PI?d-=2*Math.PI:d<-Math.PI/2&&(d+=2*Math.PI),b.slicedTranslation={translateX:Math.round(Math.cos(d)*s),translateY:Math.round(Math.sin(d)*s)},M=Math.cos(d)*t[2]/2,g=Math.sin(d)*t[2]/2,S=Math.cos(d)*v,E=Math.sin(d)*v,b.tooltipPos=[t[0]+.7*M,t[1]+.7*g],b.half=d<-Math.PI/2||d>Math.PI/2?1:0,b.angle=d,o=Math.min(r,b.labelDistance/5),b.labelPosition={natural:{x:t[0]+S+Math.cos(d)*b.labelDistance,y:t[1]+E+Math.sin(d)*b.labelDistance},computed:{},alignment:b.half?"right":"left",connectorPosition:{breakAt:{x:t[0]+S+Math.cos(d)*o,y:t[1]+E+Math.sin(d)*o},touchingSliceAt:{x:t[0]+S,y:t[1]+E}}};A(e,"afterTranslate")}zValEval(t){return"number"==typeof t&&!isNaN(t)||null}}return s.defaultOptions=n(a.defaultOptions,{minPointSize:"10%",maxPointSize:"100%",zMin:void 0,zMax:void 0,sizeBy:"area",tooltip:{pointFormat:'<span style="color:{point.color}">‚óè</span> {series.name}<br/>Value: {point.y}<br/>Size: {point.z}<br/>'}}),i(s.prototype,{pointArrayMap:["y","z"],parallelArrays:["x","y","z"]}),t.registerSeriesType("variablepie",s),s}),e(t,"masters/modules/variable-pie.src.js",[],function(){})});