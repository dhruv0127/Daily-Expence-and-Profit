!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/wordcloud",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function e(t,e,i,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t,"Series/DrawPointUtilities.js",[t["Core/Utilities.js"]],function(t){var{}=t;return{draw:function(t,e){const{animatableAttribs:i,onComplete:o,css:n,renderer:r}=e;var a=t.series&&t.series.chart.hasRendered?void 0:t.series&&t.series.options.animation;let s=t.graphic;if(e.attribs=Object.assign(Object.assign({},e.attribs),{class:t.getClassName()})||{},t.shouldDraw())s||(t.graphic=s="text"===e.shapeType?r.text():r[e.shapeType](e.shapeArgs||{}),s.add(e.group)),n&&s.css(n),s.attr(e.attribs).animate(i,!e.isNew&&a,o);else if(s){const l=()=>{t.graphic=s=s&&s.destroy(),"function"==typeof o&&o()};Object.keys(i).length?s.animate(i,void 0,()=>l()):l()}}}}),e(t,"Series/Wordcloud/WordcloudPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var{prototype:{pointClass:t}}=t["seriesTypes"]["column"];const i=e["extend"];class o extends t{constructor(){super(...arguments),this.dimensions=void 0,this.options=void 0,this.polygon=void 0,this.rect=void 0,this.series=void 0}isValid(){return!0}}return i(o.prototype,{weight:1}),o}),e(t,"Series/Wordcloud/WordcloudUtils.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,e){const n=t["deg2rad"],{extend:h,find:s,isNumber:r,isObject:c,merge:u}=e;function l(t,e){return!(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top)}function a(t){let e,a=t.axes||[];return a.length||(a=[],e=e=t.concat([t[0]]),e.reduce(function(t,e){r=(n=e)[0]-t[0];const i=[[-(n=e[1]-t[1]),r],[n,-r]],o=i[0];var n,r;return s(a,t=>t[0]===o[0]&&t[1]===o[1])||a.push(o),e}),t.axes=a),a}function d(t,i){t=t.map(t=>{var e=t[0],t=t[1];return e*i[0]+t*i[1]});return{min:Math.min.apply(this,t),max:Math.max.apply(this,t)}}function p(o,n){const t=a(o),e=a(n),i=t.concat(e),r=!s(i,t=>{var e=o,i=n;return e=d(e,t),!!((i=d(i,t)).min>e.max||i.max<e.min)});return r}function g(i,t){function o(t){let e=l(n,t.rect);return e=e&&(i.rotation%90||t.rotation%90)?p(r,t.polygon):e}let e=!1,n=i.rect,r=i.polygon,a=i.lastCollidedWith;return a&&!(e=o(a))&&delete i.lastCollidedWith,e=e||!!s(t,function(t){var e=o(t);return e&&(i.lastCollidedWith=t),e})}function m(t,e){function i(t){return"boolean"==typeof t}let o=4*t,n=Math.ceil((Math.sqrt(o)-1)/2),r=2*n+1,a=Math.pow(r,2),s=!1;return--r,t<=1e4&&(i(s)&&o>=a-r&&(s={x:n-(a-o),y:-n}),a-=r,i(s)&&o>=a-r&&(s={x:-n,y:-n+(a-o)}),a-=r,(s=i(s)?o>=a-r?{x:-n+(a-o),y:n}:{x:n,y:n-(a-o-r)}:s).x*=5,s.y*=5),s}function f(t,e){e=r(e)?e:14,e=Math.pow(10,e);return Math.round(t*e)/e}function o(t,e){var i=t[0],t=t[1],e=n*-e,o=Math.cos(e),e=Math.sin(e);return[f(i*o-t*e),f(i*e+t*o)]}function x(t,e,i){t=o([t[0]-e[0],t[1]-e[1]],i);return[t[0]+e[0],t[1]+e[1]]}return{archimedeanSpiral:function(t,e){let i=e.field,o=!1,n=i.width*i.width+i.height*i.height,r=.8*t;return t<=1e4&&(o={x:r*Math.cos(r),y:r*Math.sin(r)},Math.min(Math.abs(o.x),Math.abs(o.y))<n||(o=!1)),o},extendPlayingField:function(t,e){let i,o,n,r,a,s,l,d;return d=c(t)&&c(e)?(i=e.bottom-e.top,o=e.right-e.left,n=t.ratioX,s=(a=i*(r=t.ratioY)<o*n?o:i)*n,l=a*r,u(t,{width:t.width+2*s,height:t.height+2*l})):t},getBoundingBoxFromPolygon:function(t){return t.reduce(function(t,e){var i=e[0],e=e[1];return t.left=Math.min(i,t.left),t.right=Math.max(i,t.right),t.bottom=Math.max(e,t.bottom),t.top=Math.min(e,t.top),t},{left:Number.MAX_VALUE,right:-Number.MAX_VALUE,bottom:-Number.MAX_VALUE,top:Number.MAX_VALUE})},getPlayingField:function(t,e,i){var i=i.reduce(function(t,e){var e=e.dimensions,i=Math.max(e.width,e.height);return t.maxHeight=Math.max(t.maxHeight,e.height),t.maxWidth=Math.max(t.maxWidth,e.width),t.area+=i*i,t},{maxHeight:0,maxWidth:0,area:0}),i=Math.max(i.maxHeight,i.maxWidth,.85*Math.sqrt(i.area)),o=e<t?t/e:1;return{width:i*o,height:i*(e=t<e?e/t:1),ratioX:o,ratioY:e}},getPolygon:function(t,e,i,o,n){const r=[t,e],a=t-i/2,s=t+i/2,l=e-o/2,d=e+o/2,h=[[a,l],[s,l],[s,d],[a,d]];return h.map(function(t){return x(t,r,-n)})},getRandomPosition:function(t){return Math.round(t*(Math.random()+.5)/2)},getRotation:function(t,e,i,o){let n=!1;return n=r(t)&&r(e)&&r(i)&&r(o)&&0<t&&-1<e&&i<o?i+e%t*((o-i)/(t-1||1)):n},getScale:function(t,e,i){var o=2*Math.max(Math.abs(i.top),Math.abs(i.bottom)),i=2*Math.max(Math.abs(i.left),Math.abs(i.right));return Math.min(0<i?1/i*t:1,0<o?1/o*e:1)},getSpiral:function(t,e){let i,o=[];for(i=1;i<1e4;i++)o.push(t(i,e));return function(t){return t<=1e4&&o[t-1]}},intersectionTesting:function(t,e){let i=e.placed,o=e.field,n=e.rectangle,r=e.polygon,a=e.spiral,s=1,l={x:0,y:0},d=t.rect=h({},n);for(t.polygon=r,t.rotation=e.rotation;!1!==l&&(g(t,i)||function(t,e){const i=-e.width/2,o=e.width/2,n=-e.height/2,r=e.height/2;return!(i<t.left&&o>t.right&&n<t.top&&r>t.bottom)}(d,o));)l=a(s),c(l)&&(d.left=n.left+l.x,d.right=n.right+l.x,d.top=n.top+l.y,d.bottom=n.bottom+l.y,t.polygon=function(e,i,t){return t.map(function(t){return[t[0]+e,t[1]+i]})}(l.x,l.y,r)),s++;return l},isPolygonsColliding:p,isRectanglesIntersecting:l,rectangularSpiral:function(t,e){const i=m(t),o=e.field;return i&&(i.x*=o.ratioX,i.y*=o.ratioY),i},rotate2DToOrigin:o,rotate2DToPoint:x,squareSpiral:m,updateFieldBoundaries:function(t,e){return(!r(t.left)||t.left>e.left)&&(t.left=e.left),(!r(t.right)||t.right<e.right)&&(t.right=e.right),(!r(t.top)||t.top>e.top)&&(t.top=e.top),(!r(t.bottom)||t.bottom<e.bottom)&&(t.bottom=e.bottom),t}}}),e(t,"Series/Wordcloud/WordcloudSeries.js",[t["Series/DrawPointUtilities.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"],t["Series/Wordcloud/WordcloudPoint.js"],t["Series/Wordcloud/WordcloudUtils.js"]],function(P,o,e,t,i,n,r){var a=o["noop"],{column:s}=t["seriesTypes"];const{extend:A,isArray:l,isNumber:j,isObject:F,merge:d}=i,{archimedeanSpiral:h,extendPlayingField:C,getBoundingBoxFromPolygon:W,getPlayingField:T,getPolygon:O,getRandomPosition:c,getRotation:u,getScale:D,getSpiral:U,intersectionTesting:z,isPolygonsColliding:p,rectangularSpiral:g,rotate2DToOrigin:m,rotate2DToPoint:f,squareSpiral:x,updateFieldBoundaries:E}=r;class y extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}bindAxes(){var t={endOnTick:!1,gridLineWidth:0,lineWidth:0,maxPadding:0,startOnTick:!1,title:void 0,tickPositions:[]};e.prototype.bindAxes.call(this),A(this.yAxis.options,t),A(this.xAxis.options,t)}pointAttribs(t,e){const i=o.seriesTypes.column.prototype.pointAttribs.call(this,t,e);return delete i.stroke,delete i["stroke-width"],i}deriveFontSize(t,e,i){t=j(t)?t:0,e=j(e)?e:1,i=j(i)?i:1;return Math.floor(Math.max(i,t*e))}drawPoints(){let h=this,c=h.hasRendered,t=h.xAxis,e=h.yAxis,i=h.chart,u=h.group,p=h.options,g=p.animation,m=p.allowExtendPlayingField,f=i.renderer,o=f.text().add(u),x=[],y=h.placementStrategy[p.placementStrategy],b,w=p.rotation,n,r=h.points.map(function(t){return t.weight}),M=Math.max.apply(null,r),S=h.points.concat().sort(function(t,e){return e.weight-t.weight}),v;h.group.attr({scaleX:1,scaleY:1}),S.forEach(function(t){var e=1/M*t.weight,e=h.deriveFontSize(e,p.maxFontSize,p.minFontSize),e=A({fontSize:e+"px"},p.style);o.css(e).attr({x:0,y:0,text:t.name}),e=o.getBBox(!0),t.dimensions={height:e.height,width:e.width}}),v=T(t.len,e.len,S),b=U(h.spirals[p.spiral],{field:v}),S.forEach(function(t){let e=1/M*t.weight,i=h.deriveFontSize(e,p.maxFontSize,p.minFontSize),o=A({fontSize:i+"px"},p.style),n=y(t,{data:S,field:v,placed:x,rotation:w}),r=A(h.pointAttribs(t,t.selected&&"select"),{align:"center","alignment-baseline":"middle","dominant-baseline":"middle",x:n.x,y:n.y,text:t.name,rotation:j(n.rotation)?n.rotation:void 0}),a=O(n.x,n.y,t.dimensions.width,t.dimensions.height,n.rotation),s=W(a),l=z(t,{rectangle:s,polygon:a,field:v,placed:x,spiral:b,rotation:n.rotation}),d;!l&&m&&(v=C(v,s),l=z(t,{rectangle:s,polygon:a,field:v,placed:x,spiral:b,rotation:n.rotation})),F(l)?(r.x=(r.x||0)+l.x,r.y=(r.y||0)+l.y,s.left+=l.x,s.right+=l.x,s.top+=l.y,s.bottom+=l.y,v=E(v,s),x.push(t),t.isNull=!1,t.isInside=!0):t.isNull=!0,g&&(d={x:r.x,y:r.y},c?(delete r.x,delete r.y):(r.x=0,r.y=0)),P.draw(t,{animatableAttribs:d,attribs:r,css:o,group:u,renderer:f,shapeArgs:void 0,shapeType:"text"})}),o=o.destroy(),n=D(t.len,e.len,v),h.group.attr({scaleX:n,scaleY:n})}hasData(){return F(this)&&!0===this.visible&&l(this.points)&&0<this.points.length}getPlotBox(){var t=this.chart,e=t.inverted,i=this[e?"yAxis":"xAxis"],e=this[e?"xAxis":"yAxis"],o=i?i.len:t.plotWidth,n=e?e.len:t.plotHeight;return{translateX:(i?i.left:t.plotLeft)+o/2,translateY:(e?e.top:t.plotTop)+n/2,scaleX:1,scaleY:1}}}return y.defaultOptions=d(s.defaultOptions,{allowExtendPlayingField:!0,animation:{duration:500},borderWidth:0,clip:!1,colorByPoint:!0,cropThreshold:1/0,minFontSize:1,maxFontSize:25,placementStrategy:"center",rotation:{from:0,orientations:2,to:90},showInLegend:!1,spiral:"rectangular",style:{fontFamily:"sans-serif",fontWeight:"900",whiteSpace:"nowrap"},tooltip:{followPointer:!0,pointFormat:'<span style="color:{point.color}">‚óè</span> {series.name}: <b>{point.weight}</b><br/>'}}),A(y.prototype,{animate:a,animateDrilldown:a,animateDrillupFrom:a,pointClass:n,setClip:a,placementStrategy:{random:function(t,e){var i=e.field,e=e.rotation;return{x:c(i.width)-i.width/2,y:c(i.height)-i.height/2,rotation:u(e.orientations,t.index,e.from,e.to)}},center:function(t,e){e=e.rotation;return{x:0,y:0,rotation:u(e.orientations,t.index,e.from,e.to)}}},pointArrayMap:["weight"],spirals:{archimedean:h,rectangular:g,square:x},utils:{extendPlayingField:C,getRotation:u,isPolygonsColliding:p,rotate2DToOrigin:m,rotate2DToPoint:f}}),t.registerSeriesType("wordcloud",y),y}),e(t,"masters/modules/wordcloud.src.js",[],function(){})});